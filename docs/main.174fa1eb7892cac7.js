"use strict";(self.webpackChunkadd_to_cart=self.webpackChunkadd_to_cart||[]).push([[179],{2011:(ht,xe,k)=>{k.d(xe,{Dh:()=>pe,GT:()=>ye,cc:()=>Re,hO:()=>je,on:()=>Z,pX:()=>le,xv:()=>_e});var l=k(4650),j=k(127),R=k(5813);ht=k.hmd(ht);const se=["ngOnDestroy"],le=(me,tt,Xe,ke={})=>new Proxy(me,{get:(Oe,Ie)=>Xe.runOutsideAngular(()=>{var Ge;if(me[Ie])return!(null===(Ge=ke?.spy)||void 0===Ge)&&Ge.get&&ke.spy.get(Ie,me[Ie]),me[Ie];if(se.indexOf(Ie)>-1)return()=>{};const re=tt.toPromise().then(he=>{const we=he&&he[Ie];return"function"==typeof we?we.bind(he):we&&we.then?we.then(Q=>Xe.run(()=>Q)):Xe.run(()=>we)});return new Proxy(()=>{},{get:(he,we)=>re[we],apply:(he,we,Q)=>re.then(X=>{var ge;const oe=X&&X(...Q);return!(null===(ge=ke?.spy)||void 0===ge)&&ge.apply&&ke.spy.apply(Ie,Q,oe),oe})})})}),ye=(me,tt)=>{tt.forEach(Xe=>{Object.getOwnPropertyNames(Xe.prototype||Xe).forEach(ke=>{Object.defineProperty(me.prototype,ke,Object.getOwnPropertyDescriptor(Xe.prototype||Xe,ke))})})};class fe{constructor(tt){return tt}}const pe=new l.OlP("angularfire2.app.options"),_e=new l.OlP("angularfire2.app.name");function Z(me,tt,Xe){const Oe="object"==typeof Xe&&Xe||{};Oe.name=Oe.name||"string"==typeof Xe&&Xe||"[DEFAULT]";const Ge=j.Z.apps.filter(re=>re&&re.name===Oe.name)[0]||tt.runOutsideAngular(()=>j.Z.initializeApp(me,Oe));try{JSON.stringify(me)!==JSON.stringify(Ge.options)&&G("error",`${Ge.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(Ge)}const G=(me,...tt)=>{(0,l.X6Q)()&&typeof console<"u"&&console[me](...tt)},J={provide:fe,useFactory:Z,deps:[pe,l.R0b,[new l.FiY,_e]]};let je=(()=>{class me{constructor(Xe){j.Z.registerVersion("angularfire",R.q4.full,"core"),j.Z.registerVersion("angularfire",R.q4.full,"app-compat"),j.Z.registerVersion("angular",l.q4F.full,Xe.toString())}static initializeApp(Xe,ke){return{ngModule:me,providers:[{provide:pe,useValue:Xe},{provide:_e,useValue:ke}]}}}return me.\u0275fac=function(Xe){return new(Xe||me)(l.LFG(l.Lbi))},me.\u0275mod=l.oAB({type:me}),me.\u0275inj=l.cJS({providers:[J]}),me})();function Re(me,tt,Xe,ke,Oe){const[,Ie,Ge]=globalThis.\u0275AngularfireInstanceCache.find(re=>re[0]===me)||[];if(Ie)return function Te(me,tt){try{return me.toString()===tt.toString()}catch{return me===tt}}(Oe,Ge)||(Ee("error",`${tt} was already initialized on the ${Xe} Firebase App with different settings.${it?" You may need to reload as Firebase is not HMR aware.":""}`),Ee("warn",{is:Oe,was:Ge})),Ie;{const re=ke();return globalThis.\u0275AngularfireInstanceCache.push([me,re,Oe]),re}}const it=!!ht.hot,Ee=(me,...tt)=>{(0,l.X6Q)()&&typeof console<"u"&&console[me](...tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ht,xe,k)=>{k.d(xe,{q4:()=>Gl,iC:()=>qn,fc:()=>Ss,HU:()=>ro,vb:()=>no,JM:()=>na,u3:()=>ri});var l=k(4650),j=k(5867),R=k(5861),se=k(9681),le=k(2090),ye=k(4859),fe=k(1877),pe=k(8766);const _e="@firebase/installations",Z="0.5.15",J=`w:${Z}`,je="FIS_v2",tt=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Xe(I){return I instanceof le.ZR&&I.code.includes("request-failed")}function ke({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Oe(I){return{token:I.token,requestStatus:2,expiresIn:X(I.expiresIn),creationTime:Date.now()}}function Ie(I,D){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,R.Z)(function*(I,D){const B=(yield D.json()).error;return tt.create("request-failed",{requestName:I,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function re({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function he(I,{refreshToken:D}){const M=re(I);return M.append("Authorization",function ge(I){return`${je} ${I}`}(D)),M}function we(I){return Q.apply(this,arguments)}function Q(){return(Q=(0,R.Z)(function*(I){const D=yield I();return D.status>=500&&D.status<600?I():D})).apply(this,arguments)}function X(I){return Number(I.replace("s","000"))}function oe(I,D){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,R.Z)(function*({appConfig:I,heartbeatServiceProvider:D},{fid:M}){const B=ke(I),Y=re(I),ae=D.getImmediate({optional:!0});if(ae){const xt=yield ae.getHeartbeatsHeader();xt&&Y.append("x-firebase-client",xt)}const ze={method:"POST",headers:Y,body:JSON.stringify({fid:M,authVersion:je,appId:I.appId,sdkVersion:J})},gt=yield we(()=>fetch(B,ze));if(gt.ok){const xt=yield gt.json();return{fid:xt.fid||M,registrationStatus:2,refreshToken:xt.refreshToken,authToken:Oe(xt.authToken)}}throw yield Ie("Create Installation",gt)})).apply(this,arguments)}function Ve(I){return new Promise(D=>{setTimeout(D,I)})}const ln=/^[cdef][\w-]{21}$/;function qe(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const M=function mn(I){return function _t(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return ln.test(M)?M:""}catch{return""}}function Dn(I){return`${I.appName}!${I.appId}`}const sn=new Map;function on(I,D){const M=Dn(I);Mr(M,D),function Ai(I,D){const M=function $n(){return!jr&&"BroadcastChannel"in self&&(jr=new BroadcastChannel("[Firebase] FID Change"),jr.onmessage=I=>{Mr(I.data.key,I.data.fid)}),jr}();M&&M.postMessage({key:I,fid:D}),function Wi(){0===sn.size&&jr&&(jr.close(),jr=null)}()}(M,D)}function Mr(I,D){const M=sn.get(I);if(M)for(const B of M)B(D)}let jr=null;const Kn="firebase-installations-store";let wi=null;function Yi(){return wi||(wi=(0,pe.X3)("firebase-installations-database",1,{upgrade:(I,D)=>{0===D&&I.createObjectStore(Kn)}})),wi}function et(I,D){return tr.apply(this,arguments)}function tr(){return(tr=(0,R.Z)(function*(I,D){const M=Dn(I),Y=(yield Yi()).transaction(Kn,"readwrite"),ae=Y.objectStore(Kn),be=yield ae.get(M);return yield ae.put(D,M),yield Y.done,(!be||be.fid!==D.fid)&&on(I,D.fid),D})).apply(this,arguments)}function Yn(I){return In.apply(this,arguments)}function In(){return(In=(0,R.Z)(function*(I){const D=Dn(I),B=(yield Yi()).transaction(Kn,"readwrite");yield B.objectStore(Kn).delete(D),yield B.done})).apply(this,arguments)}function gr(I,D){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,R.Z)(function*(I,D){const M=Dn(I),Y=(yield Yi()).transaction(Kn,"readwrite"),ae=Y.objectStore(Kn),be=yield ae.get(M),ze=D(be);return void 0===ze?yield ae.delete(M):yield ae.put(ze,M),yield Y.done,ze&&(!be||be.fid!==ze.fid)&&on(I,ze.fid),ze})).apply(this,arguments)}function Sn(I){return An.apply(this,arguments)}function An(){return(An=(0,R.Z)(function*(I){let D;const M=yield gr(I.appConfig,B=>{const Y=bn(B),ae=ft(I,Y);return D=ae.registrationPromise,ae.installationEntry});return""===M.fid?{installationEntry:yield D}:{installationEntry:M,registrationPromise:D}})).apply(this,arguments)}function bn(I){return At(I||{fid:qe(),registrationStatus:0})}function ft(I,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(tt.create("app-offline"))};const M={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},B=function pt(I,D){return Ot.apply(this,arguments)}(I,M);return{installationEntry:M,registrationPromise:B}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Jr(I)}:{installationEntry:D}}function Ot(){return(Ot=(0,R.Z)(function*(I,D){try{const M=yield oe(I,D);return et(I.appConfig,M)}catch(M){throw Xe(M)&&409===M.customData.serverCode?yield Yn(I.appConfig):yield et(I.appConfig,{fid:D.fid,registrationStatus:0}),M}})).apply(this,arguments)}function Jr(I){return nr.apply(this,arguments)}function nr(){return(nr=(0,R.Z)(function*(I){let D=yield Or(I.appConfig);for(;1===D.registrationStatus;)yield Ve(100),D=yield Or(I.appConfig);if(0===D.registrationStatus){const{installationEntry:M,registrationPromise:B}=yield Sn(I);return B||M}return D})).apply(this,arguments)}function Or(I){return gr(I,D=>{if(!D)throw tt.create("installation-not-found");return At(D)})}function At(I){return function zr(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Vt(I,D){return ai.apply(this,arguments)}function ai(){return(ai=(0,R.Z)(function*({appConfig:I,heartbeatServiceProvider:D},M){const B=en(I,M),Y=he(I,M),ae=D.getImmediate({optional:!0});if(ae){const xt=yield ae.getHeartbeatsHeader();xt&&Y.append("x-firebase-client",xt)}const ze={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:J,appId:I.appId}})},gt=yield we(()=>fetch(B,ze));if(gt.ok)return Oe(yield gt.json());throw yield Ie("Generate Auth Token",gt)})).apply(this,arguments)}function en(I,{fid:D}){return`${ke(I)}/${D}/authTokens:generate`}function cr(I){return On.apply(this,arguments)}function On(){return(On=(0,R.Z)(function*(I,D=!1){let M;const B=yield gr(I.appConfig,ae=>{if(!nn(ae))throw tt.create("not-registered");const be=ae.authToken;if(!D&&q(be))return ae;if(1===be.requestStatus)return M=nt(I,D),ae;{if(!navigator.onLine)throw tt.create("app-offline");const ze=K(ae);return M=bt(I,ze),ze}});return M?yield M:B.authToken})).apply(this,arguments)}function nt(I,D){return De.apply(this,arguments)}function De(){return(De=(0,R.Z)(function*(I,D){let M=yield rt(I.appConfig);for(;1===M.authToken.requestStatus;)yield Ve(100),M=yield rt(I.appConfig);const B=M.authToken;return 0===B.requestStatus?cr(I,D):B})).apply(this,arguments)}function rt(I){return gr(I,D=>{if(!nn(D))throw tt.create("not-registered");return function $(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function bt(I,D){return It.apply(this,arguments)}function It(){return(It=(0,R.Z)(function*(I,D){try{const M=yield Vt(I,D),B=Object.assign(Object.assign({},D),{authToken:M});return yield et(I.appConfig,B),M}catch(M){if(!Xe(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const B=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield et(I.appConfig,B)}else yield Yn(I.appConfig);throw M}})).apply(this,arguments)}function nn(I){return void 0!==I&&2===I.registrationStatus}function q(I){return 2===I.requestStatus&&!function H(I){const D=Date.now();return D<I.creationTime||I.creationTime+I.expiresIn<D+36e5}(I)}function K(I){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:D})}function U(){return(U=(0,R.Z)(function*(I){const D=I,{installationEntry:M,registrationPromise:B}=yield Sn(D);return B?B.catch(console.error):cr(D).catch(console.error),M.fid})).apply(this,arguments)}function Ne(){return(Ne=(0,R.Z)(function*(I,D=!1){const M=I;return yield ot(M),(yield cr(M,D)).token})).apply(this,arguments)}function ot(I){return at.apply(this,arguments)}function at(){return(at=(0,R.Z)(function*(I){const{registrationPromise:D}=yield Sn(I);D&&(yield D)})).apply(this,arguments)}function Bs(I){return tt.create("missing-app-config-values",{valueName:I})}const So="installations",$s=I=>{const D=I.getProvider("app").getImmediate(),M=function xn(I){if(!I||!I.options)throw Bs("App Configuration");if(!I.name)throw Bs("App Name");const D=["projectId","apiKey","appId"];for(const M of D)if(!I.options[M])throw Bs(M);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(D);return{app:D,appConfig:M,heartbeatServiceProvider:(0,se._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},js=I=>{const D=I.getProvider("app").getImmediate(),M=(0,se._getProvider)(D,So).getImmediate();return{getId:()=>function O(I){return U.apply(this,arguments)}(M),getToken:Y=>function ne(I){return Ne.apply(this,arguments)}(M,Y)}};(function Iu(){(0,se._registerComponent)(new ye.wA(So,$s,"PUBLIC")),(0,se._registerComponent)(new ye.wA("installations-internal",js,"PRIVATE"))})(),(0,se.registerVersion)(_e,Z),(0,se.registerVersion)(_e,Z,"esm2017");const Ji="@firebase/remote-config",Jn=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Du{constructor(D,M,B,Y){this.client=D,this.storage=M,this.storageCache=B,this.logger=Y}isCachedDataFresh(D,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-M,Y=B<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Y}.`),Y}fetch(D){var M=this;return(0,R.Z)(function*(){const[B,Y]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Y&&M.isCachedDataFresh(D.cacheMaxAgeMillis,B))return Y;D.eTag=Y&&Y.eTag;const ae=yield M.client.fetch(D),be=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ae.status&&be.push(M.storage.setLastSuccessfulFetchResponse(ae)),yield Promise.all(be),ae})()}}function Aa(I=navigator){return I.languages&&I.languages[0]||I.language}class qs{constructor(D,M,B,Y,ae,be){this.firebaseInstallations=D,this.sdkVersion=M,this.namespace=B,this.projectId=Y,this.apiKey=ae,this.appId=be}fetch(D){var M=this;return(0,R.Z)(function*(){var B,Y,ae;const[be,ze]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),xt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Ut={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},mt={sdk_version:M.sdkVersion,app_instance_id:be,app_instance_id_token:ze,app_id:M.appId,language_code:Aa()},Xn={method:"POST",headers:Ut,body:JSON.stringify(mt)},Nr=fetch(xt,Xn),oo=new Promise((xs,vr)=>{D.signal.addEventListener(()=>{const yd=new Error("The operation was aborted.");yd.name="AbortError",vr(yd)})});let Bt;try{yield Promise.race([Nr,oo]),Bt=yield Nr}catch(xs){let vr="fetch-client-network";throw"AbortError"===(null===(B=xs)||void 0===B?void 0:B.name)&&(vr="fetch-timeout"),Jn.create(vr,{originalErrorMessage:null===(Y=xs)||void 0===Y?void 0:Y.message})}let Dr=Bt.status;const ao=Bt.headers.get("ETag")||void 0;let As,zu;if(200===Bt.status){let xs;try{xs=yield Bt.json()}catch(vr){throw Jn.create("fetch-client-parse",{originalErrorMessage:null===(ae=vr)||void 0===ae?void 0:ae.message})}As=xs.entries,zu=xs.state}if("INSTANCE_STATE_UNSPECIFIED"===zu?Dr=500:"NO_CHANGE"===zu?Dr=304:("NO_TEMPLATE"===zu||"EMPTY_CONFIG"===zu)&&(As={}),304!==Dr&&200!==Dr)throw Jn.create("fetch-status",{httpStatus:Dr});return{status:Dr,eTag:ao,config:As}})()}}class es{constructor(D,M){this.client=D,this.storage=M}fetch(D){var M=this;return(0,R.Z)(function*(){const B=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(D,B)})()}attemptFetch(D,{throttleEndTimeMillis:M,backoffCount:B}){var Y=this;return(0,R.Z)(function*(){yield function ci(I,D){return new Promise((M,B)=>{const Y=Math.max(D-Date.now(),0),ae=setTimeout(M,Y);I.addEventListener(()=>{clearTimeout(ae),B(Jn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,M);try{const ae=yield Y.client.fetch(D);return yield Y.storage.deleteThrottleMetadata(),ae}catch(ae){if(!function hg(I){if(!(I instanceof le.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ae))throw ae;const be={throttleEndTimeMillis:Date.now()+(0,le.$s)(B),backoffCount:B+1};return yield Y.storage.setThrottleMetadata(be),Y.attemptFetch(D,be)}})()}}class pg{constructor(D,M,B,Y,ae){this.app=D,this._client=M,this._storageCache=B,this._storage=Y,this._logger=ae,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function xa(I,D){var M;const B=I.target.error||void 0;return Jn.create(D,{originalErrorMessage:B&&(null===(M=B)||void 0===M?void 0:M.message)})}const xo="app_namespace_store";class Zc{constructor(D,M,B,Y=function mg(){return new Promise((I,D)=>{var M;try{const B=indexedDB.open("firebase_remote_config",1);B.onerror=Y=>{D(xa(Y,"storage-open"))},B.onsuccess=Y=>{I(Y.target.result)},B.onupgradeneeded=Y=>{0===Y.oldVersion&&Y.target.result.createObjectStore(xo,{keyPath:"compositeKey"})}}catch(B){D(Jn.create("storage-open",{originalErrorMessage:null===(M=B)||void 0===M?void 0:M.message}))}})}()){this.appId=D,this.appName=M,this.namespace=B,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var M=this;return(0,R.Z)(function*(){const B=yield M.openDbPromise;return new Promise((Y,ae)=>{var be;const gt=B.transaction([xo],"readonly").objectStore(xo),xt=M.createCompositeKey(D);try{const Ut=gt.get(xt);Ut.onerror=mt=>{ae(xa(mt,"storage-get"))},Ut.onsuccess=mt=>{const Xn=mt.target.result;Y(Xn?Xn.value:void 0)}}catch(Ut){ae(Jn.create("storage-get",{originalErrorMessage:null===(be=Ut)||void 0===be?void 0:be.message}))}})})()}set(D,M){var B=this;return(0,R.Z)(function*(){const Y=yield B.openDbPromise;return new Promise((ae,be)=>{var ze;const xt=Y.transaction([xo],"readwrite").objectStore(xo),Ut=B.createCompositeKey(D);try{const mt=xt.put({compositeKey:Ut,value:M});mt.onerror=Xn=>{be(xa(Xn,"storage-set"))},mt.onsuccess=()=>{ae()}}catch(mt){be(Jn.create("storage-set",{originalErrorMessage:null===(ze=mt)||void 0===ze?void 0:ze.message}))}})})()}delete(D){var M=this;return(0,R.Z)(function*(){const B=yield M.openDbPromise;return new Promise((Y,ae)=>{var be;const gt=B.transaction([xo],"readwrite").objectStore(xo),xt=M.createCompositeKey(D);try{const Ut=gt.delete(xt);Ut.onerror=mt=>{ae(xa(mt,"storage-delete"))},Ut.onsuccess=()=>{Y()}}catch(Ut){ae(Jn.create("storage-delete",{originalErrorMessage:null===(be=Ut)||void 0===be?void 0:be.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Mo{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,R.Z)(function*(){const M=D.storage.getLastFetchStatus(),B=D.storage.getLastSuccessfulFetchTimestampMillis(),Y=D.storage.getActiveConfig(),ae=yield M;ae&&(D.lastFetchStatus=ae);const be=yield B;be&&(D.lastSuccessfulFetchTimestampMillis=be);const ze=yield Y;ze&&(D.activeConfig=ze)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Hy(){return Su.apply(this,arguments)}function Su(){return(Su=(0,R.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}!function Wc(){(0,se._registerComponent)(new ye.wA("remote-config",function I(D,{instanceIdentifier:M}){const B=D.getProvider("app").getImmediate(),Y=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Jn.create("registration-window");if(!(0,le.hl)())throw Jn.create("indexed-db-unavailable");const{projectId:ae,apiKey:be,appId:ze}=B.options;if(!ae)throw Jn.create("registration-project-id");if(!be)throw Jn.create("registration-api-key");if(!ze)throw Jn.create("registration-app-id");const gt=new Zc(ze,B.name,M=M||"firebase"),xt=new Mo(gt),Ut=new fe.Yd(Ji);Ut.logLevel=fe.in.ERROR;const mt=new qs(Y,se.SDK_VERSION,M,ae,be,ze),Xn=new es(mt,gt),Nr=new Du(Xn,gt,xt,Ut),oo=new pg(B,Nr,xt,gt,Ut);return function Pn(I){const D=(0,le.m9)(I);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(oo),oo},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(Ji,"0.3.14"),(0,se.registerVersion)(Ji,"0.3.14","esm2017")}();const Ir="/firebase-messaging-sw.js",Po="/firebase-cloud-messaging-push-scope",_s="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Au="google.c.a.c_id",Al="google.c.a.c_l",Yc="google.c.a.ts",Ro="google.c.a.e";var di=(()=>{return(I=di||(di={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",di;var I})();function ts(I){const D=new Uint8Array(I);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ti(I){const M=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(M),Y=new Uint8Array(B.length);for(let ae=0;ae<B.length;++ae)Y[ae]=B.charCodeAt(ae);return Y}const Zs="fcm_token_details_db",No="fcm_token_object_Store";function yg(I){return xl.apply(this,arguments)}function xl(){return xl=(0,R.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ae=>ae.name).includes(Zs))return null;let D=null;return(yield(0,pe.X3)(Zs,5,{upgrade:(B=(0,R.Z)(function*(Y,ae,be,ze){var gt;if(ae<2||!Y.objectStoreNames.contains(No))return;const xt=ze.objectStore(No),Ut=yield xt.index("fcmSenderId").get(I);if(yield xt.clear(),Ut)if(2===ae){const mt=Ut;if(!mt.auth||!mt.p256dh||!mt.endpoint)return;D={token:mt.fcmToken,createTime:null!==(gt=mt.createTime)&&void 0!==gt?gt:Date.now(),subscriptionOptions:{auth:mt.auth,p256dh:mt.p256dh,endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:"string"==typeof mt.vapidKey?mt.vapidKey:ts(mt.vapidKey)}}}else if(3===ae){const mt=Ut;D={token:mt.fcmToken,createTime:mt.createTime,subscriptionOptions:{auth:ts(mt.auth),p256dh:ts(mt.p256dh),endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:ts(mt.vapidKey)}}}else if(4===ae){const mt=Ut;D={token:mt.fcmToken,createTime:mt.createTime,subscriptionOptions:{auth:ts(mt.auth),p256dh:ts(mt.p256dh),endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:ts(mt.vapidKey)}}}}),function(ae,be,ze,gt){return B.apply(this,arguments)})})).close(),yield(0,pe.Lj)(Zs),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),jn(D)?D:null;var B}),xl.apply(this,arguments)}function jn(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:D}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const bi="firebase-messaging-store";let Tr=null;function xu(){return Tr||(Tr=(0,pe.X3)("firebase-messaging-database",1,{upgrade:(I,D)=>{0===D&&I.createObjectStore(bi)}})),Tr}function Ws(I){return xi.apply(this,arguments)}function xi(){return(xi=(0,R.Z)(function*(I){const D=hi(I),B=yield(yield xu()).transaction(bi).objectStore(bi).get(D);if(B)return B;{const Y=yield yg(I.appConfig.senderId);if(Y)return yield cn(I,Y),Y}})).apply(this,arguments)}function cn(I,D){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,R.Z)(function*(I,D){const M=hi(I),Y=(yield xu()).transaction(bi,"readwrite");return yield Y.objectStore(bi).put(D,M),yield Y.done,D})).apply(this,arguments)}function vs(I){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,R.Z)(function*(I){const D=hi(I),B=(yield xu()).transaction(bi,"readwrite");yield B.objectStore(bi).delete(D),yield B.done})).apply(this,arguments)}function hi({appConfig:I}){return I.appId}const Hn=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ft(I,D){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,R.Z)(function*(I,D){var M;const B=yield ka(I),Y=Me(D),ae={method:"POST",headers:B,body:JSON.stringify(Y)};let be;try{be=yield(yield fetch(Ks(I.appConfig),ae)).json()}catch(ze){throw Hn.create("token-subscribe-failed",{errorInfo:null===(M=ze)||void 0===M?void 0:M.toString()})}if(be.error)throw Hn.create("token-subscribe-failed",{errorInfo:be.error.message});if(!be.token)throw Hn.create("token-subscribe-no-token");return be.token})).apply(this,arguments)}function _g(I,D){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,R.Z)(function*(I,D){var M;const B=yield ka(I),Y=Me(D.subscriptionOptions),ae={method:"PATCH",headers:B,body:JSON.stringify(Y)};let be;try{be=yield(yield fetch(`${Ks(I.appConfig)}/${D.token}`,ae)).json()}catch(ze){throw Hn.create("token-update-failed",{errorInfo:null===(M=ze)||void 0===M?void 0:M.toString()})}if(be.error)throw Hn.create("token-update-failed",{errorInfo:be.error.message});if(!be.token)throw Hn.create("token-update-no-token");return be.token})).apply(this,arguments)}function Jc(I,D){return Na.apply(this,arguments)}function Na(){return(Na=(0,R.Z)(function*(I,D){var M;const Y={method:"DELETE",headers:yield ka(I)};try{const be=yield(yield fetch(`${Ks(I.appConfig)}/${D}`,Y)).json();if(be.error)throw Hn.create("token-unsubscribe-failed",{errorInfo:be.error.message})}catch(ae){throw Hn.create("token-unsubscribe-failed",{errorInfo:null===(M=ae)||void 0===M?void 0:M.toString()})}})).apply(this,arguments)}function Ks({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function ka(I){return ko.apply(this,arguments)}function ko(){return(ko=(0,R.Z)(function*({appConfig:I,installations:D}){const M=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Me({p256dh:I,auth:D,endpoint:M,vapidKey:B}){const Y={web:{endpoint:M,auth:D,p256dh:I}};return B!==_s&&(Y.web.applicationPubKey=B),Y}const Jt=6048e5;function $h(I){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,R.Z)(function*(I){const D=yield jh(I.swRegistration,I.vapidKey),M={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:D.endpoint,auth:ts(D.getKey("auth")),p256dh:ts(D.getKey("p256dh"))},B=yield Ws(I.firebaseDependencies);if(B){if(vg(B.subscriptionOptions,M))return Date.now()>=B.createTime+Jt?Mu(I,{token:B.token,createTime:Date.now(),subscriptionOptions:M}):B.token;try{yield Jc(I.firebaseDependencies,B.token)}catch(Y){console.warn(Y)}return Ou(I.firebaseDependencies,M)}return Ou(I.firebaseDependencies,M)})).apply(this,arguments)}function ir(I){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,R.Z)(function*(I){const D=yield Ws(I.firebaseDependencies);D&&(yield Jc(I.firebaseDependencies,D.token),yield vs(I.firebaseDependencies));const M=yield I.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function Mu(I,D){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,R.Z)(function*(I,D){try{const M=yield _g(I.firebaseDependencies,D),B=Object.assign(Object.assign({},D),{token:M,createTime:Date.now()});return yield cn(I.firebaseDependencies,B),M}catch(M){throw yield ir(I),M}})).apply(this,arguments)}function Ou(I,D){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,R.Z)(function*(I,D){const B={token:yield Ft(I,D),createTime:Date.now(),subscriptionOptions:D};return yield cn(I,B),B.token})).apply(this,arguments)}function jh(I,D){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,R.Z)(function*(I,D){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ti(D)})})).apply(this,arguments)}function vg(I,D){return D.vapidKey===I.vapidKey&&D.endpoint===I.endpoint&&D.auth===I.auth&&D.p256dh===I.p256dh}function Ys(I){const D={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function sr(I,D){if(!D.notification)return;I.notification={};const M=D.notification.title;M&&(I.notification.title=M);const B=D.notification.body;B&&(I.notification.body=B);const Y=D.notification.image;Y&&(I.notification.image=Y)}(D,I),function Mi(I,D){!D.data||(I.data=D.data)}(D,I),function La(I,D){var M,B,Y,ae,be;if(!(D.fcmOptions||null!==(M=D.notification)&&void 0!==M&&M.click_action))return;I.fcmOptions={};const ze=null!==(Y=null===(B=D.fcmOptions)||void 0===B?void 0:B.link)&&void 0!==Y?Y:null===(ae=D.notification)||void 0===ae?void 0:ae.click_action;ze&&(I.fcmOptions.link=ze);const gt=null===(be=D.fcmOptions)||void 0===be?void 0:be.analytics_label;gt&&(I.fcmOptions.analyticsLabel=gt)}(D,I),D}function Ua(I){return"object"==typeof I&&!!I&&Au in I}function ns(I,D){const M=[];for(let B=0;B<I.length;B++)M.push(I.charAt(B)),B<D.length&&M.push(D.charAt(B));return M.join("")}function Pl(I){return Hn.create("missing-app-config-values",{valueName:I})}ns("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ns("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ed{constructor(D,M,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function Xc(I){if(!I||!I.options)throw Pl("App Configuration Object");if(!I.name)throw Pl("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:M}=I;for(const B of D)if(!M[B])throw Pl(B);return{appName:I.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Y,installations:M,analyticsProvider:B}}_delete(){return Promise.resolve()}}function Hh(I){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,R.Z)(function*(I){var D;try{I.swRegistration=yield navigator.serviceWorker.register(Ir,{scope:Po}),I.swRegistration.update().catch(()=>{})}catch(M){throw Hn.create("failed-service-worker-registration",{browserErrorMessage:null===(D=M)||void 0===D?void 0:D.message})}})).apply(this,arguments)}function Rl(I,D){return Va.apply(this,arguments)}function Va(){return(Va=(0,R.Z)(function*(I,D){if(!D&&!I.swRegistration&&(yield Hh(I)),D||!I.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Hn.create("invalid-sw-registration");I.swRegistration=D}})).apply(this,arguments)}function Nl(I,D){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,R.Z)(function*(I,D){D?I.vapidKey=D:I.vapidKey||(I.vapidKey=_s)})).apply(this,arguments)}function Bo(){return(Bo=(0,R.Z)(function*(I,D){if(!navigator)throw Hn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Hn.create("permission-blocked");return yield Nl(I,D?.vapidKey),yield Rl(I,D?.serviceWorkerRegistration),$h(I)})).apply(this,arguments)}function zh(I,D,M){return $a.apply(this,arguments)}function $a(){return($a=(0,R.Z)(function*(I,D,M){const B=Gh(D);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:M[Au],message_name:M[Al],message_time:M[Yc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Gh(I){switch(I){case di.NOTIFICATION_CLICKED:return"notification_open";case di.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ws(){return(ws=(0,R.Z)(function*(I,D){const M=D.data;if(!M.isFirebaseMessaging)return;I.onMessageHandler&&M.messageType===di.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Ys(M)):I.onMessageHandler.next(Ys(M)));const B=M.data;Ua(B)&&"1"===B[Ro]&&(yield zh(I,M.messageType,B))})).apply(this,arguments)}const Es="@firebase/messaging",Fn=I=>{const D=new ed(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function nd(I,D){return ws.apply(this,arguments)}(D,M)),D},rs=I=>{const D=I.getProvider("messaging").getImmediate();return{getToken:B=>function td(I,D){return Bo.apply(this,arguments)}(D,B)}};function id(){return kl.apply(this,arguments)}function kl(){return(kl=(0,R.Z)(function*(){try{yield(0,le.eu)()}catch{return!1}return typeof window<"u"&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ln(){(0,se._registerComponent)(new ye.wA("messaging",Fn,"PUBLIC")),(0,se._registerComponent)(new ye.wA("messaging-internal",rs,"PRIVATE")),(0,se.registerVersion)(Es,"0.9.19"),(0,se.registerVersion)(Es,"0.9.19","esm2017")}();const Ho="analytics",od="firebase_id",Vl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ad="https://www.googletagmanager.com/gtag/js",zn=new fe.Yd("@firebase/analytics");function Ru(I){return Promise.all(I.map(D=>D.catch(M=>M)))}function Nu(I,D){const M=document.createElement("script");M.src=`${ad}?l=${I}&id=${D}`,M.async=!0,document.head.appendChild(M)}function Zh(I,D,M,B,Y,ae){return ja.apply(this,arguments)}function ja(){return(ja=(0,R.Z)(function*(I,D,M,B,Y,ae){const be=B[Y];try{if(be)yield D[be];else{const gt=(yield Ru(M)).find(xt=>xt.measurementId===Y);gt&&(yield D[gt.appId])}}catch(ze){zn.error(ze)}I("config",Y,ae)})).apply(this,arguments)}function is(I,D,M,B,Y){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,R.Z)(function*(I,D,M,B,Y){try{let ae=[];if(Y&&Y.send_to){let be=Y.send_to;Array.isArray(be)||(be=[be]);const ze=yield Ru(M);for(const gt of be){const xt=ze.find(mt=>mt.measurementId===gt),Ut=xt&&D[xt.appId];if(!Ut){ae=[];break}ae.push(Ut)}}0===ae.length&&(ae=Object.values(D)),yield Promise.all(ae),I("event",B,Y||{})}catch(ae){zn.error(ae)}})).apply(this,arguments)}function ud(I){const D=window.document.getElementsByTagName("script");for(const M of Object.values(D))if(M.src&&M.src.includes(ad)&&M.src.includes(I))return M;return null}const or=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ga=new class $l{constructor(D={},M=1e3){this.throttleMetadata=D,this.intervalMillis=M}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,M){this.throttleMetadata[D]=M}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function zo(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Yh(I){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,R.Z)(function*(I){var D;const{appId:M,apiKey:B}=I,Y={method:"GET",headers:zo(B)},ae=Vl.replace("{app-id}",M),be=yield fetch(ae,Y);if(200!==be.status&&304!==be.status){let ze="";try{const gt=yield be.json();null!==(D=gt.error)&&void 0!==D&&D.message&&(ze=gt.error.message)}catch{}throw or.create("config-fetch-failed",{httpStatus:be.status,responseMessage:ze})}return be.json()})).apply(this,arguments)}function ld(I){return ni.apply(this,arguments)}function ni(){return(ni=(0,R.Z)(function*(I,D=Ga,M){const{appId:B,apiKey:Y,measurementId:ae}=I.options;if(!B)throw or.create("no-app-id");if(!Y){if(ae)return{measurementId:ae,appId:B};throw or.create("no-api-key")}const be=D.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new qa;return setTimeout((0,R.Z)(function*(){ze.abort()}),void 0!==M?M:6e4),cd({appId:B,apiKey:Y,measurementId:ae},be,ze,D)})).apply(this,arguments)}function cd(I,D,M){return ss.apply(this,arguments)}function ss(){return(ss=(0,R.Z)(function*(I,{throttleEndTimeMillis:D,backoffCount:M},B,Y=Ga){var ae,be;const{appId:ze,measurementId:gt}=I;try{yield jl(B,D)}catch(xt){if(gt)return zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${null===(ae=xt)||void 0===ae?void 0:ae.message}]`),{appId:ze,measurementId:gt};throw xt}try{const xt=yield Yh(I);return Y.deleteThrottleMetadata(ze),xt}catch(xt){const Ut=xt;if(!Fu(Ut)){if(Y.deleteThrottleMetadata(ze),gt)return zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${Ut?.message}]`),{appId:ze,measurementId:gt};throw xt}const mt=503===Number(null===(be=Ut?.customData)||void 0===be?void 0:be.httpStatus)?(0,le.$s)(M,Y.intervalMillis,30):(0,le.$s)(M,Y.intervalMillis),Xn={throttleEndTimeMillis:Date.now()+mt,backoffCount:M+1};return Y.setThrottleMetadata(ze,Xn),zn.debug(`Calling attemptFetch again in ${mt} millis`),cd(I,Xn,B,Y)}})).apply(this,arguments)}function jl(I,D){return new Promise((M,B)=>{const Y=Math.max(D-Date.now(),0),ae=setTimeout(M,Y);I.addEventListener(()=>{clearTimeout(ae),B(or.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function Fu(I){if(!(I instanceof le.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}class qa{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Qs,Uu;function Go(){return(Go=(0,R.Z)(function*(I,D,M,B,Y){if(Y&&Y.global)I("event",M,B);else{const ae=yield D;I("event",M,Object.assign(Object.assign({},B),{send_to:ae}))}})).apply(this,arguments)}function Wo(I){Uu=I}function Hl(I){Qs=I}function Cs(){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,R.Z)(function*(){var I;if(!(0,le.hl)())return zn.warn(or.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(D){return zn.warn(or.create("indexeddb-unavailable",{errorInfo:null===(I=D)||void 0===I?void 0:I.toString()}).message),!1}return!0})).apply(this,arguments)}function Yo(){return(Yo=(0,R.Z)(function*(I,D,M,B,Y,ae,be){var ze;const gt=ld(I);gt.then(Nr=>{M[Nr.measurementId]=Nr.appId,I.options.measurementId&&Nr.measurementId!==I.options.measurementId&&zn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Nr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Nr=>zn.error(Nr)),D.push(gt);const xt=Cs().then(Nr=>{if(Nr)return B.getId()}),[Ut,mt]=yield Promise.all([gt,xt]);ud(ae)||Nu(ae,Ut.measurementId),Uu&&(Y("consent","default",Uu),Wo(void 0)),Y("js",new Date);const Xn=null!==(ze=be?.config)&&void 0!==ze?ze:{};return Xn.origin="firebase",Xn.update=!0,null!=mt&&(Xn[od]=mt),Y("config",Ut.measurementId,Xn),Qs&&(Y("set",Qs),Hl(void 0)),Ut.measurementId})).apply(this,arguments)}class Vu{constructor(D){this.app=D}_delete(){return delete Pr[this.app.options.appId],Promise.resolve()}}let Pr={},Qo=[];const Xs={};let Xo,Pi,Jo="dataLayer",hd=!1;function Xh(I,D,M){!function wg(){const I=[];if((0,le.ru)()&&I.push("This is a browser extension environment."),(0,le.zI)()||I.push("Cookies are not available."),I.length>0){const D=I.map((B,Y)=>`(${Y+1}) ${B}`).join(" "),M=or.create("invalid-analytics-context",{errorInfo:D});zn.warn(M.message)}}();const B=I.options.appId;if(!B)throw or.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw or.create("no-api-key");zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pr[B])throw or.create("already-exists",{id:B});if(!hd){!function ku(I){let D=[];Array.isArray(window[I])?D=window[I]:window[I]=D}(Jo);const{wrappedGtag:ae,gtagCore:be}=function za(I,D,M,B,Y){let ae=function(...be){window[B].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(ae=window[Y]),window[Y]=function Bl(I,D,M,B){function ae(){return(ae=(0,R.Z)(function*(be,ze,gt){try{"event"===be?yield is(I,D,M,ze,gt):"config"===be?yield Zh(I,D,M,B,ze,gt):"consent"===be?I("consent","update",gt):I("set",ze)}catch(xt){zn.error(xt)}})).apply(this,arguments)}return function Y(be,ze,gt){return ae.apply(this,arguments)}}(ae,I,D,M),{gtagCore:ae,wrappedGtag:window[Y]}}(Pr,Qo,Xs,Jo,"gtag");Pi=ae,Xo=be,hd=!0}return Pr[B]=function Jh(I,D,M,B,Y,ae,be){return Yo.apply(this,arguments)}(I,Qo,Xs,D,Xo,Jo,M),new Vu(I)}function Gy(){return ef.apply(this,arguments)}function ef(){return(ef=(0,R.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}const lt="@firebase/analytics";!function Tn(){(0,se._registerComponent)(new ye.wA(Ho,(D,{options:M})=>Xh(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,se._registerComponent)(new ye.wA("analytics-internal",function I(D){try{const M=D.getProvider(Ho).getImmediate();return{logEvent:(B,Y,ae)=>function an(I,D,M,B){I=(0,le.m9)(I),function Za(I,D,M,B,Y){return Go.apply(this,arguments)}(Pi,Pr[I.app.options.appId],D,M,B).catch(Y=>zn.error(Y))}(M,B,Y,ae)}}catch(M){throw or.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,se.registerVersion)(lt,"0.8.3"),(0,se.registerVersion)(lt,"0.8.3","esm2017")}();var as=k(4408),_r=k(7565);const fd=new class to extends _r.v{}(class eo extends as.o{constructor(D,M){super(D,M),this.scheduler=D,this.work=M}schedule(D,M=0){return M>0?super.schedule(D,M):(this.delay=M,this.state=D,this.scheduler.flush(this),this)}execute(D,M){return M>0||this.closed?super.execute(D,M):this._execute(D,M)}requestAsyncId(D,M,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(D,M,B):(D.flush(this),0)}});var tf=k(4986),Is=k(9751),gd=k(8505),Ts=k(5363),ut=k(9468);const Gl=new l.GfV("7.4.1"),Ri="__angularfire_symbol__analyticsIsSupportedValue",Bu="__angularfire_symbol__analyticsIsSupported",Ka="__angularfire_symbol__remoteConfigIsSupportedValue",ar="__angularfire_symbol__remoteConfigIsSupported",Ya="__angularfire_symbol__messagingIsSupportedValue",$u="__angularfire_symbol__messagingIsSupported";function na(I,D,M){if(D){if(1===D.length)return D[0];const ae=D.filter(be=>be.app===M);if(1===ae.length)return ae[0]}return M.container.getProvider(I).getImmediate({optional:!0})}globalThis[Bu]||(globalThis[Bu]=Gy().then(I=>globalThis[Ri]=I).catch(()=>globalThis[Ri]=!1)),globalThis[$u]||(globalThis[$u]=id().then(I=>globalThis[Ya]=I).catch(()=>globalThis[Ya]=!1)),globalThis[ar]||(globalThis[ar]=Hy().then(I=>globalThis[Ka]=I).catch(()=>globalThis[Ka]=!1));const no=(I,D)=>{const M=D?[D]:(0,j.C6)(),B=[];return M.forEach(Y=>{Y.container.getProvider(I).instances.forEach(be=>{B.includes(be)||B.push(be)})}),B};function Ii(){}class Hu{constructor(D,M=fd){this.zone=D,this.delegate=M}now(){return this.delegate.now()}schedule(D,M,B){const Y=this.zone;return this.delegate.schedule(function(be){Y.runGuarded(()=>{D.apply(this,[be])})},M,B)}}class Ds{constructor(D){this.zone=D,this.task=null}call(D,M){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ii,{},Ii,Ii)),M.pipe((0,gd.b)({next:B,complete:B,error:B})).subscribe(D).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ro=(()=>{class I{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Hu(Zone.current)),this.insideAngular=M.run(()=>new Hu(Zone.current,tf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(M){return new(M||I)(l.LFG(l.R0b))},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Rr(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function md(I){return Rr().ngZone.runOutsideAngular(()=>I())}function Rn(I){return Rr().ngZone.run(()=>I())}function Ss(I){return I.pipe((0,Ts.Q)(Rr().outsideAngular))}function qn(I){return Rr(),function Nn(I){return function(M){return(M=M.lift(new Ds(I.ngZone))).pipe((0,ut.R)(I.outsideAngular),(0,Ts.Q)(I.insideAngular))}}(Rr())(I)}const so=(I,D)=>function(){const B=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),Rn(()=>I.apply(void 0,B))},ri=(I,D)=>function(){let M;const B=arguments;for(let ae=0;ae<arguments.length;ae++)"function"==typeof B[ae]&&(D&&(M||(M=Rn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ii,{},Ii,Ii)))),B[ae]=so(B[ae],M));const Y=md(()=>I.apply(this,B));if(!D){if(Y instanceof Is.y){const ae=Rr();return Y.pipe((0,ut.R)(ae.outsideAngular),(0,Ts.Q)(ae.insideAngular))}return Rn(()=>Y)}return Y instanceof Is.y?Y.pipe(qn):Y instanceof Promise?Rn(()=>new Promise((ae,be)=>Y.then(ze=>Rn(()=>ae(ze)),ze=>Rn(()=>be(ze))))):"function"==typeof Y&&M?function(){return setTimeout(()=>{M&&"scheduled"===M.state&&M.invoke()},10),Y.apply(this,arguments)}:Rn(()=>Y)}},7573:(ht,xe,k)=>{k.d(xe,{$:()=>Ks,A:()=>G,B:()=>Re,G:()=>js,H:()=>Xr,J:()=>es,L:()=>q,M:()=>Su,N:()=>Ma,P:()=>tf,Q:()=>Au,R:()=>Eg,T:()=>Al,U:()=>_s,V:()=>di,W:()=>ts,X:()=>yg,Y:()=>Oa,Z:()=>Ft,_:()=>_g,a:()=>bs,a0:()=>$h,a1:()=>ir,a2:()=>Mu,a3:()=>Ou,a4:()=>jh,a5:()=>vg,a6:()=>sr,a7:()=>Mi,a8:()=>Ua,a9:()=>ns,aA:()=>Xn,aB:()=>ze,aC:()=>Rn,aD:()=>md,aE:()=>vt,aI:()=>zo,aL:()=>Ro,aa:()=>Hh,ab:()=>Rl,ac:()=>Nl,af:()=>zh,ag:()=>Gh,ah:()=>nd,ak:()=>bi,al:()=>Fl,an:()=>ad,ao:()=>ja,ap:()=>Pt,aq:()=>we,ar:()=>Le,as:()=>ot,at:()=>Xe,au:()=>Gu,av:()=>Dr,aw:()=>ke,ax:()=>re,ay:()=>X,az:()=>H,b:()=>or,c:()=>ar,d:()=>nf,e:()=>$u,f:()=>qn,g:()=>M,h:()=>ri,i:()=>Ko,j:()=>ae,k:()=>cf,l:()=>yr,m:()=>us,n:()=>Jy,o:()=>pe,r:()=>as,s:()=>os,u:()=>fd});var l=k(5861),j=k(2090),R=k(9681),se=k(1877),le=k(655),ye=k(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},G={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Re=function J(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Te=function je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),me=new se.Yd("@firebase/auth");function tt(v,...g){me.logLevel<=se.in.ERROR&&me.error(`Auth (${R.SDK_VERSION}): ${v}`,...g)}function Xe(v,...g){throw Ge(v,...g)}function ke(v,...g){return Ge(v,...g)}function Oe(v,g,m){const b=Object.assign(Object.assign({},Te()),{[g]:m});return new j.LL("auth","Firebase",b).create(g,{appName:v.name})}function Ie(v,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&Xe(v,"argument-error"),Oe(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(v,...g){if("string"!=typeof v){const m=g[0],b=[...g.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(m,...b)}return it.create(v,...g)}function re(v,g,...m){if(!v)throw Ge(g,...m)}function he(v){const g="INTERNAL ASSERTION FAILED: "+v;throw tt(g),new Error(g)}function we(v,g){v||he(g)}const Q=new Map;function X(v){we(v instanceof Function,"Expected a class definition");let g=Q.get(v);return g?(we(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,Q.set(v,g),g)}function Ue(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Ve(){return"http:"===_t()||"https:"===_t()}function _t(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class qe{constructor(g,m){this.shortDelay=g,this.longDelay=m,we(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function ln(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ve()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mn(v,g){we(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class Dn{static initialize(g,m,b){this.fetchImpl=g,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void he("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void he("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void he("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},on=new qe(3e4,6e4);function Yt(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function jt(v,g,m,b){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,l.Z)(function*(v,g,m,b,x={}){return Ai(v,x,(0,l.Z)(function*(){let N={},te={};b&&("GET"===g?te=b:N={body:JSON.stringify(b)});const Ae=(0,j.xO)(Object.assign({key:v.config.apiKey},te)).slice(1),st=yield v._getAdditionalHeaders();return st["Content-Type"]="application/json",v.languageCode&&(st["X-Firebase-Locale"]=v.languageCode),Dn.fetch()(Ki(v,v.config.apiHost,m,Ae),Object.assign({method:g,headers:st,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Ai(v,g,m){return jr.apply(this,arguments)}function jr(){return(jr=(0,l.Z)(function*(v,g,m){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},sn),g);try{const x=new Hr(v),N=yield Promise.race([m(),x.promise]);x.clearNetworkTimeout();const te=yield N.json();if("needConfirmation"in te)throw Kn(v,"account-exists-with-different-credential",te);if(N.ok&&!("errorMessage"in te))return te;{const Ae=N.ok?te.errorMessage:te.error.message,[st,Ct]=Ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===st)throw Kn(v,"credential-already-in-use",te);if("EMAIL_EXISTS"===st)throw Kn(v,"email-already-in-use",te);if("USER_DISABLED"===st)throw Kn(v,"user-disabled",te);const Xt=b[st]||st.toLowerCase().replace(/[_\s]+/g,"-");if(Ct)throw Oe(v,Xt,Ct);Xe(v,Xt)}}catch(x){if(x instanceof j.ZR)throw x;Xe(v,"network-request-failed")}})).apply(this,arguments)}function $n(v,g,m,b){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,l.Z)(function*(v,g,m,b,x={}){const N=yield jt(v,g,m,b,x);return"mfaPendingCredential"in N&&Xe(v,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Ki(v,g,m,b){const x=`${g}${m}?${b}`;return v.config.emulator?mn(v.config,x):`${v.config.apiScheme}://${x}`}class Hr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(ke(this.auth,"network-request-failed")),on.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kn(v,g,m){const b={appName:v.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const x=ke(v,g,b);return x.customData._tokenResponse=m,x}function Yi(){return(Yi=(0,l.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function et(v,g){return tr.apply(this,arguments)}function tr(){return(tr=(0,l.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Yn(v,g){return In.apply(this,arguments)}function In(){return(In=(0,l.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function gr(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function An(){return(An=(0,l.Z)(function*(v,g=!1){const m=(0,j.m9)(v),b=yield m.getIdToken(g),x=ft(b);re(x&&x.exp&&x.auth_time&&x.iat,m.auth,"internal-error");const N="object"==typeof x.firebase?x.firebase:void 0,te=N?.sign_in_provider;return{claims:x,token:b,authTime:gr(bn(x.auth_time)),issuedAtTime:gr(bn(x.iat)),expirationTime:gr(bn(x.exp)),signInProvider:te||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function bn(v){return 1e3*Number(v)}function ft(v){var g;const[m,b,x]=v.split(".");if(void 0===m||void 0===b||void 0===x)return tt("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,j.tV)(b);return N?JSON.parse(N):(tt("Failed to decode base64 JWT payload"),null)}catch(N){return tt("Caught error parsing JWT payload as JSON",null===(g=N)||void 0===g?void 0:g.toString()),null}}function Ot(v,g){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,l.Z)(function*(v,g,m=!1){if(m)return g;try{return yield g}catch(b){throw b instanceof j.ZR&&nr(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}function nr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Or{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const x=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),b)}iteration(){var g=this;return(0,l.Z)(function*(){var m;try{yield g.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(m=b)||void 0===m?void 0:m.code)&&g.schedule(!0))}g.schedule()})()}}class At{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=gr(this.lastLoginAt),this.creationTime=gr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zr(v){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,l.Z)(function*(v){var g;const m=v.auth,b=yield v.getIdToken(),x=yield Ot(v,Yn(m,{idToken:b}));re(x?.users.length,m,"internal-error");const N=x.users[0];v._notifyReloadListener(N);const te=null!==(g=N.providerUserInfo)&&void 0!==g&&g.length?On(N.providerUserInfo):[],Ae=cr(v.providerData,te),Xt=!!v.isAnonymous&&!(v.email&&N.passwordHash||Ae?.length),wn={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:Ae,metadata:new At(N.createdAt,N.lastLoginAt),isAnonymous:Xt};Object.assign(v,wn)})).apply(this,arguments)}function en(){return(en=(0,l.Z)(function*(v){const g=(0,j.m9)(v);yield zr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function cr(v,g){return[...v.filter(b=>!g.some(x=>x.providerId===b.providerId)),...g]}function On(v){return v.map(g=>{var{providerId:m}=g,b=(0,le._T)(g,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function De(){return(De=(0,l.Z)(function*(v,g){const m=yield Ai(v,{},(0,l.Z)(function*(){const b=(0,j.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:x,apiKey:N}=v.config,te=Ki(v,x,"/v1/token",`key=${N}`),Ae=yield v._getAdditionalHeaders();return Ae["Content-Type"]="application/x-www-form-urlencoded",Dn.fetch()(te,{method:"POST",headers:Ae,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){re(g.idToken,"internal-error"),re(typeof g.idToken<"u","internal-error"),re(typeof g.refreshToken<"u","internal-error");const m="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function pt(v){const g=ft(v);return re(g,"internal-error"),re(typeof g.exp<"u","internal-error"),re(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var b=this;return(0,l.Z)(function*(){return re(!b.accessToken||b.refreshToken,g,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(g,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var b=this;return(0,l.Z)(function*(){const{accessToken:x,refreshToken:N,expiresIn:te}=yield function nt(v,g){return De.apply(this,arguments)}(g,m);b.updateTokensAndExpiration(x,N,Number(te))})()}updateTokensAndExpiration(g,m,b){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(g,m){const{refreshToken:b,accessToken:x,expirationTime:N}=m,te=new rt;return b&&(re("string"==typeof b,"internal-error",{appName:g}),te.refreshToken=b),x&&(re("string"==typeof x,"internal-error",{appName:g}),te.accessToken=x),N&&(re("number"==typeof N,"internal-error",{appName:g}),te.expirationTime=N),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new rt,this.toJSON())}_performRefresh(){return he("not implemented")}}function bt(v,g){re("string"==typeof v||typeof v>"u","internal-error",{appName:g})}class It{constructor(g){var{uid:m,auth:b,stsTokenManager:x}=g,N=(0,le._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Or(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new At(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,l.Z)(function*(){const b=yield Ot(m,m.stsTokenManager.getToken(m.auth,g));return re(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(g){return function Sn(v){return An.apply(this,arguments)}(this,g)}reload(){return function ai(v){return en.apply(this,arguments)}(this)}_assign(g){this!==g&&(re(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new It(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var b=this;return(0,l.Z)(function*(){let x=!1;g.idToken&&g.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(g),x=!0),m&&(yield zr(b)),yield b.auth._persistUserIfCurrent(b),x&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var g=this;return(0,l.Z)(function*(){const m=yield g.getIdToken();return yield Ot(g,function wi(v,g){return Yi.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var b,x,N,te,Ae,st,Ct,Xt;const wn=null!==(b=m.displayName)&&void 0!==b?b:void 0,qr=null!==(x=m.email)&&void 0!==x?x:void 0,Ni=null!==(N=m.phoneNumber)&&void 0!==N?N:void 0,Cd=null!==(te=m.photoURL)&&void 0!==te?te:void 0,Id=null!==(Ae=m.tenantId)&&void 0!==Ae?Ae:void 0,Td=null!==(st=m._redirectEventId)&&void 0!==st?st:void 0,eu=null!==(Ct=m.createdAt)&&void 0!==Ct?Ct:void 0,Sg=null!==(Xt=m.lastLoginAt)&&void 0!==Xt?Xt:void 0,{uid:pf,emailVerified:Dd,isAnonymous:Kl,providerData:Zu,stsTokenManager:ra}=m;re(pf&&ra,g,"internal-error");const Xy=rt.fromJSON(this.name,ra);re("string"==typeof pf,g,"internal-error"),bt(wn,g.name),bt(qr,g.name),re("boolean"==typeof Dd,g,"internal-error"),re("boolean"==typeof Kl,g,"internal-error"),bt(Ni,g.name),bt(Cd,g.name),bt(Id,g.name),bt(Td,g.name),bt(eu,g.name),bt(Sg,g.name);const Un=new It({uid:pf,auth:g,email:qr,emailVerified:Dd,displayName:wn,isAnonymous:Kl,photoURL:Cd,phoneNumber:Ni,tenantId:Id,stsTokenManager:Xy,createdAt:eu,lastLoginAt:Sg});return Zu&&Array.isArray(Zu)&&(Un.providerData=Zu.map(Ag=>Object.assign({},Ag))),Td&&(Un._redirectEventId=Td),Un}static _fromIdTokenResponse(g,m,b=!1){return(0,l.Z)(function*(){const x=new rt;x.updateFromServerResponse(m);const N=new It({uid:m.localId,auth:g,stsTokenManager:x,isAnonymous:b});return yield zr(N),N})()}}const q=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,b){var x=this;return(0,l.Z)(function*(){x.storage[m]=b})()}_get(m){var b=this;return(0,l.Z)(function*(){const x=b.storage[m];return void 0===x?null:x})()}_remove(m){var b=this;return(0,l.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return v.type="NONE",v})();function H(v,g,m){return`firebase:${v}:${g}:${m}`}class K{constructor(g,m,b){this.persistence=g,this.auth=m,this.userKey=b;const{config:x,name:N}=this.auth;this.fullUserKey=H(this.userKey,x.apiKey,N),this.fullPersistenceKey=H("persistence",x.apiKey,N),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?It._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,l.Z)(function*(){if(m.persistence===g)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,b="authUser"){return(0,l.Z)(function*(){if(!m.length)return new K(X(q),g,b);const x=(yield Promise.all(m.map(function(){var Ct=(0,l.Z)(function*(Xt){if(yield Xt._isAvailable())return Xt});return function(Xt){return Ct.apply(this,arguments)}}()))).filter(Ct=>Ct);let N=x[0]||X(q);const te=H(b,g.config.apiKey,g.name);let Ae=null;for(const Ct of m)try{const Xt=yield Ct._get(te);if(Xt){const wn=It._fromJSON(g,Xt);Ct!==N&&(Ae=wn),N=Ct;break}}catch{}const st=x.filter(Ct=>Ct._shouldAllowMigration);return N._shouldAllowMigration&&st.length?(N=st[0],Ae&&(yield N._set(te,Ae.toJSON())),yield Promise.all(m.map(function(){var Ct=(0,l.Z)(function*(Xt){if(Xt!==N)try{yield Xt._remove(te)}catch{}});return function(Xt){return Ct.apply(this,arguments)}}())),new K(N,g,b)):new K(N,g,b)})()}}function $(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Ne(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(O(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(at(g))return"Blackberry";if(Se(g))return"Webos";if(U(g))return"Safari";if((g.includes("chrome/")||ne(g))&&!g.includes("edge/"))return"Chrome";if(ot(g))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function O(v=(0,j.z$)()){return/firefox\//i.test(v)}function U(v=(0,j.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ne(v=(0,j.z$)()){return/crios\//i.test(v)}function Ne(v=(0,j.z$)()){return/iemobile/i.test(v)}function ot(v=(0,j.z$)()){return/android/i.test(v)}function at(v=(0,j.z$)()){return/blackberry/i.test(v)}function Se(v=(0,j.z$)()){return/webos/i.test(v)}function Le(v=(0,j.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Pt(v=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function _n(v=(0,j.z$)()){return Le(v)||ot(v)||Se(v)||at(v)||/windows phone/i.test(v)||Ne(v)}function xn(v,g=[]){let m;switch(v){case"Browser":m=$((0,j.z$)());break;case"Worker":m=`${$((0,j.z$)())}-${v}`;break;default:m=v}const b=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${R.SDK_VERSION}/${b}`}class Bs{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const b=N=>new Promise((te,Ae)=>{try{te(g(N))}catch(st){Ae(st)}});b.onAbort=m,this.queue.push(b);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,l.Z)(function*(){var b;if(m.auth.currentUser===g)return;const x=[];try{for(const N of m.queue)yield N(g),N.onAbort&&x.push(N.onAbort)}catch(N){x.reverse();for(const te of x)try{te()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=N)||void 0===b?void 0:b.message})}})()}}class So{constructor(g,m,b){this.app=g,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $s(this),this.idTokenSubscription=new $s(this),this.beforeStateQueue=new Bs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(g,m){var b=this;return m&&(this._popupRedirectResolver=X(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var x,N;if(!b._deleted&&(b.persistenceManager=yield K.create(b,g),!b._deleted)){if(null!==(x=b._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(N=b.currentUser)||void 0===N?void 0:N.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,l.Z)(function*(){var b;const x=yield m.assertedPersistence.getCurrentUser();let N=x,te=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Ae=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,st=N?._redirectEventId,Ct=yield m.tryRedirectSignIn(g);(!Ae||Ae===st)&&Ct?.user&&(N=Ct.user,te=!0)}if(!N)return m.directlySetCurrentUser(null);if(!N._redirectEventId){if(te)try{yield m.beforeStateQueue.runMiddleware(N)}catch(Ae){N=x,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Ae))}return N?m.reloadAndSetCurrentUserOrClear(N):m.directlySetCurrentUser(null)}return re(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===N._redirectEventId?m.directlySetCurrentUser(N):m.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(g){var m=this;return(0,l.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,l.Z)(function*(){var b;try{yield zr(g)}catch(x){if("auth/network-request-failed"!==(null===(b=x)||void 0===b?void 0:b.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Gt(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,l.Z)(function*(){const b=g?(0,j.m9)(g):null;return b&&re(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(g,m=!1){var b=this;return(0,l.Z)(function*(){if(!b._deleted)return g&&re(b.tenantId===g.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(g)),b.queue((0,l.Z)(function*(){yield b.directlySetCurrentUser(g),b.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(X(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new j.LL("auth","Firebase",g())}onAuthStateChanged(g,m,b){return this.registerStateListener(this.authStateSubscription,g,m,b)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,b){return this.registerStateListener(this.idTokenSubscription,g,m,b)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var b=this;return(0,l.Z)(function*(){const x=yield b.getOrInitRedirectPersistenceManager(m);return null===g?x.removeCurrentUser():x.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const b=g&&X(g)||m._popupRedirectResolver;re(b,m,"argument-error"),m.redirectPersistenceManager=yield K.create(m,[X(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,l.Z)(function*(){var b,x;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===g?m._currentUser:(null===(x=m.redirectUser)||void 0===x?void 0:x._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,l.Z)(function*(){if(g===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,b,x){if(this._deleted)return()=>{};const N="function"==typeof m?m:m.next.bind(m),te=this._isInitialized?Promise.resolve():this._initializationPromise;return re(te,this,"internal-error"),te.then(()=>N(this.currentUser)),"function"==typeof m?g.addObserver(m,b,x):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==g&&m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh(),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=xn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.Z)(function*(){var m;const b={"X-Client-Version":g.clientVersion};g.app.options.appId&&(b["X-Firebase-gmpid"]=g.app.options.appId);const x=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return x&&(b["X-Firebase-Client"]=x),b})()}}function vt(v){return(0,j.m9)(v)}class $s{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,j.ne)(m=>this.observer=m)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function js(v,g,m){const b=vt(v);re(b._canInitEmulator,b,"emulator-config-failed"),re(/^https?:\/\//.test(g),b,"invalid-emulator-scheme");const x=!!m?.disableWarnings,N=Iu(g),{host:te,port:Ae}=function Ji(v){const g=Iu(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(b);if(x){const N=x[1];return{host:N,port:Qn(b.substr(N.length+1))}}{const[N,te]=b.split(":");return{host:N,port:Qn(te)}}}(g);b.config.emulator={url:`${N}//${te}${null===Ae?"":`:${Ae}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:te,port:Ae,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function Hs(){function v(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Iu(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function Qn(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class Xr{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return he("not implemented")}_getIdTokenResponse(g){return he("not implemented")}_linkToIdToken(g,m){return he("not implemented")}_getReauthenticationResolver(g){return he("not implemented")}}function ui(v,g){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,l.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:resetPassword",Yt(v,g))})).apply(this,arguments)}function Tu(v,g){return vn.apply(this,arguments)}function vn(){return(vn=(0,l.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Lh(v,g){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,l.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:update",Yt(v,g))})).apply(this,arguments)}function zs(){return(zs=(0,l.Z)(function*(v,g){return $n(v,"POST","/v1/accounts:signInWithPassword",Yt(v,g))})).apply(this,arguments)}function Cr(v,g){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,l.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:sendOobCode",Yt(v,g))})).apply(this,arguments)}function Xi(v,g){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,l.Z)(function*(v,g){return Cr(v,g)})).apply(this,arguments)}function Uh(v,g){return rr.apply(this,arguments)}function rr(){return(rr=(0,l.Z)(function*(v,g){return Cr(v,g)})).apply(this,arguments)}function li(v,g){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,l.Z)(function*(v,g){return Cr(v,g)})).apply(this,arguments)}function Dl(v,g){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,l.Z)(function*(v,g){return Cr(v,g)})).apply(this,arguments)}function Sl(){return(Sl=(0,l.Z)(function*(v,g){return $n(v,"POST","/v1/accounts:signInWithEmailLink",Yt(v,g))})).apply(this,arguments)}function Du(){return(Du=(0,l.Z)(function*(v,g){return $n(v,"POST","/v1/accounts:signInWithEmailLink",Yt(v,g))})).apply(this,arguments)}class Aa extends Xr{constructor(g,m,b,x=null){super("password",b),this._email=g,this._password=m,this._tenantId=x}static _fromEmailAndPassword(g,m){return new Aa(g,m,"password")}static _fromEmailAndCode(g,m,b=null){return new Aa(g,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return function Da(v,g){return zs.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function ei(v,g){return Sl.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:Xe(g,"internal-error")}})()}_linkToIdToken(g,m){var b=this;return(0,l.Z)(function*(){switch(b.signInMethod){case"password":return Tu(g,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function dg(v,g){return Du.apply(this,arguments)}(g,{idToken:m,email:b._email,oobCode:b._password});default:Xe(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function qs(v,g){return ci.apply(this,arguments)}function ci(){return(ci=(0,l.Z)(function*(v,g){return $n(v,"POST","/v1/accounts:signInWithIdp",Yt(v,g))})).apply(this,arguments)}class es extends Xr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new es(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):Xe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:x}=m,N=(0,le._T)(m,["providerId","signInMethod"]);if(!b||!x)return null;const te=new es(b,x);return te.idToken=N.idToken||void 0,te.accessToken=N.accessToken||void 0,te.secret=N.secret,te.nonce=N.nonce,te.pendingToken=N.pendingToken||null,te}_getIdTokenResponse(g){return qs(g,this.buildRequest())}_linkToIdToken(g,m){const b=this.buildRequest();return b.idToken=m,qs(g,b)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,qs(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,j.xO)(m)}return g}}function fg(v,g){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,l.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:sendVerificationCode",Yt(v,g))})).apply(this,arguments)}function xa(){return(xa=(0,l.Z)(function*(v,g){return $n(v,"POST","/v1/accounts:signInWithPhoneNumber",Yt(v,g))})).apply(this,arguments)}function qc(){return(qc=(0,l.Z)(function*(v,g){const m=yield $n(v,"POST","/v1/accounts:signInWithPhoneNumber",Yt(v,g));if(m.temporaryProof)throw Kn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const gg={USER_NOT_FOUND:"user-not-found"};function Zc(){return(Zc=(0,l.Z)(function*(v,g){return $n(v,"POST","/v1/accounts:signInWithPhoneNumber",Yt(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),gg)})).apply(this,arguments)}class Mo extends Xr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new Mo({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new Mo({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function pg(v,g){return xa.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function xo(v,g){return qc.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function mg(v,g){return Zc.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:b,verificationCode:x}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:b,code:x}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:b,phoneNumber:x,temporaryProof:N}=g;return b||m||x||N?new Mo({verificationId:m,verificationCode:b,phoneNumber:x,temporaryProof:N}):null}}class Oo{constructor(g){var m,b,x,N,te,Ae;const st=(0,j.zd)((0,j.pd)(g)),Ct=null!==(m=st.apiKey)&&void 0!==m?m:null,Xt=null!==(b=st.oobCode)&&void 0!==b?b:null,wn=function Wc(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=st.mode)&&void 0!==x?x:null);re(Ct&&Xt&&wn,"argument-error"),this.apiKey=Ct,this.operation=wn,this.code=Xt,this.continueUrl=null!==(N=st.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(te=st.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(Ae=st.tenantId)&&void 0!==Ae?Ae:null}static parseLink(g){const m=function Kc(v){const g=(0,j.zd)((0,j.pd)(v)).link,m=g?(0,j.zd)((0,j.pd)(g)).deep_link_id:null,b=(0,j.zd)((0,j.pd)(v)).deep_link_id;return(b?(0,j.zd)((0,j.pd)(b)).link:null)||b||m||g||v}(g);try{return new Oo(m)}catch{return null}}}let Su=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,b){return Aa._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const x=Oo.parseLink(b);return re(x,"argument-error"),Aa._fromEmailAndCode(m,x.code,x.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Ir{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Po extends Ir{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class _s extends Po{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return re("providerId"in m&&"signInMethod"in m,"argument-error"),es._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return re(g.idToken||g.accessToken,"argument-error"),es._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return _s.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return _s.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:x,pendingToken:N,nonce:te,providerId:Ae}=g;if(!b&&!x&&!m&&!N||!Ae)return null;try{return new _s(Ae)._credential({idToken:m,accessToken:b,nonce:te,pendingToken:N})}catch{return null}}}let Ma=(()=>{class v extends Po{constructor(){super("facebook.com")}static credential(m){return es._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Au=(()=>{class v extends Po{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return es._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:x}=m;if(!b&&!x)return null;try{return v.credential(b,x)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Al=(()=>{class v extends Po{constructor(){super("github.com")}static credential(m){return es._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Ro extends Xr{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return qs(g,this.buildRequest())}_linkToIdToken(g,m){const b=this.buildRequest();return b.idToken=m,qs(g,b)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,qs(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:b,signInMethod:x,pendingToken:N}=m;return b&&x&&N&&b===x?new Ro(b,N):null}static _create(g,m){return new Ro(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class di extends Ir{constructor(g){re(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return di.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return di.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=Ro.fromJSON(g);return re(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:b}=g;if(!m||!b)return null;try{return Ro._create(b,m)}catch{return null}}}let ts=(()=>{class v extends Po{constructor(){super("twitter.com")}static credential(m,b){return es._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:x}=m;if(!b||!x)return null;try{return v.credential(b,x)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function ti(v,g){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,l.Z)(function*(v,g){return $n(v,"POST","/v1/accounts:signUp",Yt(v,g))})).apply(this,arguments)}class Ei{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,b,x=!1){return(0,l.Z)(function*(){const N=yield It._fromIdTokenResponse(g,b,x),te=No(b);return new Ei({user:N,providerId:te,_tokenResponse:b,operationType:m})})()}static _forOperation(g,m,b){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(b,!0);const x=No(b);return new Ei({user:g,providerId:x,_tokenResponse:b,operationType:m})})()}}function No(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function yg(v){return xl.apply(this,arguments)}function xl(){return(xl=(0,l.Z)(function*(v){var g;const m=vt(v);if(yield m._initializationPromise,null!==(g=m.currentUser)&&void 0!==g&&g.isAnonymous)return new Ei({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield ti(m,{returnSecureToken:!0}),x=yield Ei._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class jn extends j.ZR{constructor(g,m,b,x){var N;super(m.code,m.message),this.operationType=b,this.user=x,Object.setPrototypeOf(this,jn.prototype),this.customData={appName:g.name,tenantId:null!==(N=g.tenantId)&&void 0!==N?N:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(g,m,b,x){return new jn(g,m,b,x)}}function Qc(v,g,m,b){return("reauthenticate"===g?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?jn._fromErrorAndOperation(v,N,g,b):N})}function Bh(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function bi(v,g){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,l.Z)(function*(v,g){const m=(0,j.m9)(v);yield xi(!0,m,g);const{providerUserInfo:b}=yield et(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),x=Bh(b||[]);return m.providerData=m.providerData.filter(N=>x.has(N.providerId)),x.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function xu(v,g){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,l.Z)(function*(v,g,m=!1){const b=yield Ot(v,g._linkToIdToken(v.auth,yield v.getIdToken()),m);return Ei._forOperation(v,"link",b)})).apply(this,arguments)}function xi(v,g,m){return cn.apply(this,arguments)}function cn(){return(cn=(0,l.Z)(function*(v,g,m){yield zr(g);const x=!1===v?"provider-already-linked":"no-such-provider";re(Bh(g.providerData).has(m)===v,g.auth,x)})).apply(this,arguments)}function Ml(v,g){return vs.apply(this,arguments)}function vs(){return(vs=(0,l.Z)(function*(v,g,m=!1){var b;const{auth:x}=v,N="reauthenticate";try{const te=yield Ot(v,Qc(x,N,g,v),m);re(te.idToken,x,"internal-error");const Ae=ft(te.idToken);re(Ae,x,"internal-error");const{sub:st}=Ae;return re(v.uid===st,x,"user-mismatch"),Ei._forOperation(v,N,te)}catch(te){throw"auth/user-not-found"===(null===(b=te)||void 0===b?void 0:b.code)&&Xe(x,"user-mismatch"),te}})).apply(this,arguments)}function Ol(v,g){return hi.apply(this,arguments)}function hi(){return(hi=(0,l.Z)(function*(v,g,m=!1){const b="signIn",x=yield Qc(v,b,g),N=yield Ei._fromIdTokenResponse(v,b,x);return m||(yield v._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Oa(v,g){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,l.Z)(function*(v,g){return Ol(vt(v),g)})).apply(this,arguments)}function Ft(v,g){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,l.Z)(function*(v,g){const m=(0,j.m9)(v);return yield xi(!1,m,g.providerId),xu(m,g)})).apply(this,arguments)}function _g(v,g){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,l.Z)(function*(v,g){return Ml((0,j.m9)(v),g)})).apply(this,arguments)}function Jc(v,g){return Na.apply(this,arguments)}function Na(){return(Na=(0,l.Z)(function*(v,g){return $n(v,"POST","/v1/accounts:signInWithCustomToken",Yt(v,g))})).apply(this,arguments)}function Ks(v,g){return ka.apply(this,arguments)}function ka(){return(ka=(0,l.Z)(function*(v,g){const m=vt(v),b=yield Jc(m,{token:g,returnSecureToken:!0}),x=yield Ei._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class ko{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?Me._fromServerResponse(g,m):Xe(g,"internal-error")}}class Me extends ko{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new Me(m)}}function Jt(v,g,m){var b;re((null===(b=m.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),re(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(re(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(re(m.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function $h(v,g,m){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,l.Z)(function*(v,g,m){const b=(0,j.m9)(v),x={requestType:"PASSWORD_RESET",email:g};m&&Jt(b,x,m),yield Uh(b,x)})).apply(this,arguments)}function ir(v,g,m){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,l.Z)(function*(v,g,m){yield ui((0,j.m9)(v),{oobCode:g,newPassword:m})})).apply(this,arguments)}function Mu(v,g){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,l.Z)(function*(v,g){yield Lh((0,j.m9)(v),{oobCode:g})})).apply(this,arguments)}function Ou(v,g){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,l.Z)(function*(v,g){const m=(0,j.m9)(v),b=yield ui(m,{oobCode:g}),x=b.requestType;switch(re(x,m,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(b.mfaInfo,m,"internal-error");default:re(b.email,m,"internal-error")}let N=null;return b.mfaInfo&&(N=ko._fromServerResponse(vt(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:N},operation:x}})).apply(this,arguments)}function jh(v,g){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,l.Z)(function*(v,g){const{data:m}=yield Ou((0,j.m9)(v),g);return m.email})).apply(this,arguments)}function vg(v,g,m){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,l.Z)(function*(v,g,m){const b=vt(v),x=yield ti(b,{returnSecureToken:!0,email:g,password:m}),N=yield Ei._fromIdTokenResponse(b,"signIn",x);return yield b._updateCurrentUser(N.user),N})).apply(this,arguments)}function sr(v,g,m){return Oa((0,j.m9)(v),Su.credential(g,m))}function Mi(v,g,m){return La.apply(this,arguments)}function La(){return(La=(0,l.Z)(function*(v,g,m){const b=(0,j.m9)(v),x={requestType:"EMAIL_SIGNIN",email:g};re(m.handleCodeInApp,b,"argument-error"),m&&Jt(b,x,m),yield li(b,x)})).apply(this,arguments)}function Ua(v,g){return"EMAIL_SIGNIN"===Oo.parseLink(g)?.operation}function ns(v,g,m){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,l.Z)(function*(v,g,m){const b=(0,j.m9)(v),x=Su.credentialWithLink(g,m||Ue());return re(x._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Oa(b,x)})).apply(this,arguments)}function Pl(v,g){return ed.apply(this,arguments)}function ed(){return(ed=(0,l.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:createAuthUri",Yt(v,g))})).apply(this,arguments)}function Hh(v,g){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,l.Z)(function*(v,g){const b={identifier:g,continueUri:Ve()?Ue():"http://localhost"},{signinMethods:x}=yield Pl((0,j.m9)(v),b);return x||[]})).apply(this,arguments)}function Rl(v,g){return Va.apply(this,arguments)}function Va(){return(Va=(0,l.Z)(function*(v,g){const m=(0,j.m9)(v),x={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&Jt(m.auth,x,g);const{email:N}=yield Xi(m.auth,x);N!==v.email&&(yield v.reload())})).apply(this,arguments)}function Nl(v,g,m){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,l.Z)(function*(v,g,m){const b=(0,j.m9)(v),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};m&&Jt(b.auth,N,m);const{email:te}=yield Dl(b.auth,N);te!==v.email&&(yield v.reload())})).apply(this,arguments)}function td(v,g){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,l.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function zh(v,g){return $a.apply(this,arguments)}function $a(){return($a=(0,l.Z)(function*(v,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const b=(0,j.m9)(v),N={idToken:yield b.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},te=yield Ot(b,td(b.auth,N));b.displayName=te.displayName||null,b.photoURL=te.photoUrl||null;const Ae=b.providerData.find(({providerId:st})=>"password"===st);Ae&&(Ae.displayName=b.displayName,Ae.photoURL=b.photoURL),yield b._updateTokensIfNecessary(te)})).apply(this,arguments)}function Gh(v,g){return ws((0,j.m9)(v),g,null)}function nd(v,g){return ws((0,j.m9)(v),null,g)}function ws(v,g,m){return Es.apply(this,arguments)}function Es(){return(Es=(0,l.Z)(function*(v,g,m){const{auth:b}=v,N={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(N.email=g),m&&(N.password=m);const te=yield Ot(v,Tu(b,N));yield v._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class Fn{constructor(g,m,b={}){this.isNewUser=g,this.providerId=m,this.profile=b}}class rs extends Fn{constructor(g,m,b,x){super(g,m,b),this.username=x}}class Ln extends Fn{constructor(g,m){super(g,"facebook.com",m)}}class id extends rs{constructor(g,m){super(g,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class kl extends Fn{constructor(g,m){super(g,"google.com",m)}}class qh extends rs{constructor(g,m,b){super(g,"twitter.com",m,b)}}function Fl(v){const{user:g,_tokenResponse:m}=v;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function rd(v){var g,m;if(!v)return null;const{providerId:b}=v,x=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},N=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&v?.idToken){const te=null===(m=null===(g=ft(v.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(te)return new Fn(N,"anonymous"!==te&&"custom"!==te?te:null)}if(!b)return null;switch(b){case"facebook.com":return new Ln(N,x);case"github.com":return new id(N,x);case"google.com":return new kl(N,x);case"twitter.com":return new qh(N,x,v.screenName||null);case"custom":case"anonymous":return new Fn(N,null);default:return new Fn(N,b,x)}}(m)}class fi{constructor(g,m,b){this.type=g,this.credential=m,this.auth=b}static _fromIdtoken(g,m){return new fi("enroll",g,m)}static _fromMfaPendingCredential(g){return new fi("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,b;if(g?.multiFactorSession){if(null!==(m=g.multiFactorSession)&&void 0!==m&&m.pendingCredential)return fi._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(b=g.multiFactorSession)&&void 0!==b&&b.idToken)return fi._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Vl{constructor(g,m,b){this.session=g,this.hints=m,this.signInResolver=b}static _fromError(g,m){const b=vt(g),x=m.customData._serverResponse,N=(x.mfaInfo||[]).map(Ae=>ko._fromServerResponse(b,Ae));re(x.mfaPendingCredential,b,"internal-error");const te=fi._fromMfaPendingCredential(x.mfaPendingCredential);return new Vl(te,N,function(){var Ae=(0,l.Z)(function*(st){const Ct=yield st._process(b,te);delete x.mfaInfo,delete x.mfaPendingCredential;const Xt=Object.assign(Object.assign({},x),{idToken:Ct.idToken,refreshToken:Ct.refreshToken});switch(m.operationType){case"signIn":const wn=yield Ei._fromIdTokenResponse(b,m.operationType,Xt);return yield b._updateCurrentUser(wn.user),wn;case"reauthenticate":return re(m.user,b,"internal-error"),Ei._forOperation(m.user,m.operationType,Xt);default:Xe(b,"internal-error")}});return function(st){return Ae.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,l.Z)(function*(){return m.signInResolver(g)})()}}function ad(v,g){var m;const b=(0,j.m9)(v),x=g;return re(g.customData.operationType,b,"argument-error"),re(null===(m=x.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Vl._fromError(b,x)}function zn(v,g){return jt(v,"POST","/v2/accounts/mfaEnrollment:start",Yt(v,g))}class ku{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>ko._fromServerResponse(g.auth,b)))})}static _fromUser(g){return new ku(g)}getSession(){var g=this;return(0,l.Z)(function*(){return fi._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,m){var b=this;return(0,l.Z)(function*(){const x=g,N=yield b.getSession(),te=yield Ot(b.user,x._process(b.user.auth,N,m));return yield b.user._updateTokensIfNecessary(te),b.user.reload()})()}unenroll(g){var m=this;return(0,l.Z)(function*(){var b;const x="string"==typeof g?g:g.uid,N=yield m.user.getIdToken(),te=yield Ot(m.user,function Nu(v,g){return jt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Yt(v,g))}(m.user.auth,{idToken:N,mfaEnrollmentId:x}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Ae})=>Ae!==x),yield m.user._updateTokensIfNecessary(te);try{yield m.user.reload()}catch(Ae){if("auth/user-token-expired"!==(null===(b=Ae)||void 0===b?void 0:b.code))throw Ae}})()}}const Zh=new WeakMap;function ja(v){const g=(0,j.m9)(v);return Zh.has(g)||Zh.set(g,ku._fromUser(g)),Zh.get(g)}const is="__sak";class Ha{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(is,"1"),this.storage.removeItem(is),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const or=(()=>{class v extends Ha{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Bl(){const v=(0,j.z$)();return U(v)||Le(v)}()&&function Qi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_n(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const x=this.storage.getItem(b),N=this.localCache[b];x!==N&&m(b,N,x)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((Ae,st,Ct)=>{this.notifyListeners(Ae,Ct)});const x=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ae=this.storage.getItem(x);if(m.newValue!==Ae)null!==m.newValue?this.storage.setItem(x,m.newValue):this.storage.removeItem(x);else if(this.localCache[x]===m.newValue&&!b)return}const N=()=>{const Ae=this.storage.getItem(x);!b&&this.localCache[x]===Ae||this.notifyListeners(x,Ae)},te=this.storage.getItem(x);!function Lt(){return(0,j.w1)()&&10===document.documentMode}()||te===m.newValue||m.newValue===m.oldValue?N():setTimeout(N,10)}notifyListeners(m,b){this.localCache[m]=b;const x=this.listeners[m];if(x)for(const N of Array.from(x))N(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var x=()=>super._set,N=this;return(0,l.Z)(function*(){yield x().call(N,m,b),N.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,x=this;return(0,l.Z)(function*(){const N=yield b().call(x,m);return x.localCache[m]=JSON.stringify(N),N})()}_remove(m){var b=()=>super._remove,x=this;return(0,l.Z)(function*(){yield b().call(x,m),delete x.localCache[m]})()}}return v.type="LOCAL",v})(),bs=(()=>{class v extends Ha{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return v.type="SESSION",v})();let Ga=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(N=>N.isListeningto(m));if(b)return b;const x=new v(m);return this.receivers.push(x),x}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,l.Z)(function*(){const x=m,{eventId:N,eventType:te,data:Ae}=x.data,st=b.handlersMap[te];if(!st?.size)return;x.ports[0].postMessage({status:"ack",eventId:N,eventType:te});const Ct=Array.from(st).map(function(){var wn=(0,l.Z)(function*(qr){return qr(x.origin,Ae)});return function(qr){return wn.apply(this,arguments)}}()),Xt=yield function $l(v){return Promise.all(v.map(function(){var g=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return g.apply(this,arguments)}}()))}(Ct);x.ports[0].postMessage({status:"done",eventId:N,eventType:te,response:Xt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function zo(v="",g=10){let m="";for(let b=0;b<g;b++)m+=Math.floor(10*Math.random());return v+m}class Yh{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,b=50){var x=this;return(0,l.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let te,Ae;return new Promise((st,Ct)=>{const Xt=zo("",20);N.port1.start();const wn=setTimeout(()=>{Ct(new Error("unsupported_event"))},b);Ae={messageChannel:N,onMessage(qr){const Ni=qr;if(Ni.data.eventId===Xt)switch(Ni.data.status){case"ack":clearTimeout(wn),te=setTimeout(()=>{Ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),st(Ni.data.response);break;default:clearTimeout(wn),clearTimeout(te),Ct(new Error("invalid_response"))}}},x.handlers.add(Ae),N.port1.addEventListener("message",Ae.onMessage),x.target.postMessage({eventType:g,eventId:Xt,data:m},[N.port2])}).finally(()=>{Ae&&x.removeMessageHandler(Ae)})})()}}function Gn(){return window}function ni(){return typeof Gn().WorkerGlobalScope<"u"&&"function"==typeof Gn().importScripts}function ss(){return(ss=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const qa="firebaseLocalStorageDb",Za="firebaseLocalStorage",Go="fbase_key";class Js{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function qo(v,g){return v.transaction([Za],g?"readwrite":"readonly").objectStore(Za)}function Lu(){const v=indexedDB.open(qa,1);return new Promise((g,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(Za,{keyPath:Go})}catch(x){m(x)}}),v.addEventListener("success",(0,l.Z)(function*(){const b=v.result;b.objectStoreNames.contains(Za)?g(b):(b.close(),yield function dd(){const v=indexedDB.deleteDatabase(qa);return new Js(v).toPromise()}(),g(yield Lu()))}))})}function Wa(v,g,m){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,l.Z)(function*(v,g,m){const b=qo(v,!0).put({[Go]:g,value:m});return new Js(b).toPromise()})).apply(this,arguments)}function Zo(){return(Zo=(0,l.Z)(function*(v,g){const m=qo(v,!1).get(g),b=yield new Js(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Uu(v,g){const m=qo(v,!0).delete(g);return new Js(m).toPromise()}const Ko=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield Lu()),m.db})()}_withRetries(m){var b=this;return(0,l.Z)(function*(){let x=0;for(;;)try{const N=yield b._openDb();return yield m(N)}catch(N){if(x++>3)throw N;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return ni()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=Ga._getInstance(function Fu(){return ni()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,l.Z)(function*(x,N){return{keyProcessed:(yield m._poll()).includes(N.key)}});return function(x,N){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,l.Z)(function*(x,N){return["keyChanged"]});return function(x,N){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var b,x;if(m.activeServiceWorker=yield function cd(){return ss.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Yh(m.activeServiceWorker);const N=yield m.sender._send("ping",{},800);!N||(null===(b=N[0])||void 0===b?void 0:b.fulfilled)&&(null===(x=N[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,l.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function jl(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Lu();return yield Wa(m,is,"1"),yield Uu(m,is),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,l.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var x=this;return(0,l.Z)(function*(){return x._withPendingWrite((0,l.Z)(function*(){return yield x._withRetries(N=>Wa(N,m,b)),x.localCache[m]=b,x.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,l.Z)(function*(){const x=yield b._withRetries(N=>function Qh(v,g){return Zo.apply(this,arguments)}(N,m));return b.localCache[m]=x,x})()}_remove(m){var b=this;return(0,l.Z)(function*(){return b._withPendingWrite((0,l.Z)(function*(){return yield b._withRetries(x=>Uu(x,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const b=yield m._withRetries(te=>{const Ae=qo(te,!1).getAll();return new Js(Ae).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const x=[],N=new Set;for(const{fbase_key:te,value:Ae}of b)N.add(te),JSON.stringify(m.localCache[te])!==JSON.stringify(Ae)&&(m.notifyListeners(te,Ae),x.push(te));for(const te of Object.keys(m.localCache))m.localCache[te]&&!N.has(te)&&(m.notifyListeners(te,null),x.push(te));return x})()}notifyListeners(m,b){this.localCache[m]=b;const x=this.listeners[m];if(x)for(const N of Array.from(x))N(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Jh(v,g){return jt(v,"POST","/v2/accounts/mfaSignIn:start",Yt(v,g))}function Pr(){return(Pr=(0,l.Z)(function*(v){return(yield jt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Xs(v){return new Promise((g,m)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=g,b.onerror=x=>{const N=ke("internal-error");N.customData=x,m(N)},b.type="text/javascript",b.charset="UTF-8",function Qo(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(b)})}function Jo(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Pi=1e12;class hd{constructor(g){this.auth=g,this.counter=Pi,this._widgets=new Map}render(g,m){const b=this.counter;return this._widgets.set(b,new Mn(g,this.auth.name,m||{})),this.counter++,b}reset(g){var m;const b=g||Pi;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(g){var m;return(null===(m=this._widgets.get(g||Pi))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,l.Z)(function*(){var b;return null===(b=m._widgets.get(g||Pi))||void 0===b||b.execute(),""})()}}class Mn{constructor(g,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof g?document.getElementById(g):g;re(x,"argument-error",{appName:m}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function wg(v){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<v;b++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xh=Jo("rcb"),_w=new qe(3e4,6e4);class Gy{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Gn().grecaptcha)||void 0===g||!g.render)}load(g,m=""){return re(function ef(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Gn().grecaptcha):new Promise((b,x)=>{const N=Gn().setTimeout(()=>{x(ke(g,"network-request-failed"))},_w.get());Gn()[Xh]=()=>{Gn().clearTimeout(N),delete Gn()[Xh];const Ae=Gn().grecaptcha;if(!Ae)return void x(ke(g,"internal-error"));const st=Ae.render;Ae.render=(Ct,Xt)=>{const wn=st(Ct,Xt);return this.counter++,wn},this.hostLanguage=m,b(Ae)},Xs(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:Xh,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(N),x(ke(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var m;return!(null===(m=Gn().grecaptcha)||void 0===m||!m.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class vw{load(g){return(0,l.Z)(function*(){return new hd(g)})()}clearedOneInstance(){}}const ea="recaptcha",qy={theme:"light",type:"image"};class Eg{constructor(g,m=Object.assign({},qy),b){this.parameters=m,this.type=ea,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vt(b),this.isInvisible="invisible"===this.parameters.size,re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof g?document.getElementById(g):g;re(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vw:new Gy,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),b=g.getAssertedRecaptcha();return b.getResponse(m)||new Promise(N=>{const te=Ae=>{!Ae||(g.tokenChangeListeners.delete(te),N(Ae))};g.tokenChangeListeners.add(te),g.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof g)g(m);else if("string"==typeof g){const b=Gn()[g];"function"==typeof b&&b(m)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){re(Ve()&&!ni(),g.auth,"internal-error"),yield function mr(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function Vu(v){return Pr.apply(this,arguments)}(g.auth);re(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class an{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=Mo._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function os(v,g,m){return lt.apply(this,arguments)}function lt(){return(lt=(0,l.Z)(function*(v,g,m){const b=vt(v),x=yield _r(b,g,(0,j.m9)(m));return new an(x,N=>Oa(b,N))})).apply(this,arguments)}function yr(v,g,m){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,l.Z)(function*(v,g,m){const b=(0,j.m9)(v);yield xi(!1,b,"phone");const x=yield _r(b.auth,g,(0,j.m9)(m));return new an(x,N=>Ft(b,N))})).apply(this,arguments)}function as(v,g,m){return eo.apply(this,arguments)}function eo(){return(eo=(0,l.Z)(function*(v,g,m){const b=(0,j.m9)(v),x=yield _r(b.auth,g,(0,j.m9)(m));return new an(x,N=>_g(b,N))})).apply(this,arguments)}function _r(v,g,m){return to.apply(this,arguments)}function to(){return(to=(0,l.Z)(function*(v,g,m){var b;const x=yield m.verify();try{let N;if(re("string"==typeof x,v,"argument-error"),re(m.type===ea,v,"argument-error"),N="string"==typeof g?{phoneNumber:g}:g,"session"in N){const te=N.session;if("phoneNumber"in N)return re("enroll"===te.type,v,"internal-error"),(yield zn(v,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{re("signin"===te.type,v,"internal-error");const Ae=(null===(b=N.multiFactorHint)||void 0===b?void 0:b.uid)||N.multiFactorUid;return re(Ae,v,"missing-multi-factor-info"),(yield Jh(v,{mfaPendingCredential:te.credential,mfaEnrollmentId:Ae,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield fg(v,{phoneNumber:N.phoneNumber,recaptchaToken:x});return te}}finally{m._reset()}})).apply(this,arguments)}function fd(v,g){return pd.apply(this,arguments)}function pd(){return(pd=(0,l.Z)(function*(v,g){yield xu((0,j.m9)(v),g)})).apply(this,arguments)}let tf=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=vt(m)}verifyPhoneNumber(m,b){return _r(this.auth,m,(0,j.m9)(b))}static credential(m,b){return Mo._fromVerification(m,b)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:x}=m;return b&&x?Mo._fromTokenResponse(b,x):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Is(v,g){return g?X(g):(re(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class gd extends Xr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return qs(g,this._buildIdpRequest())}_linkToIdToken(g,m){return qs(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return qs(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function Ts(v){return Ol(v.auth,new gd(v),v.bypassAuthState)}function ut(v){const{auth:g,user:m}=v;return re(m,g,"internal-error"),Ml(m,new gd(v),v.bypassAuthState)}function Gl(v){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,l.Z)(function*(v){const{auth:g,user:m}=v;return re(m,g,"internal-error"),xu(m,new gd(v),v.bypassAuthState)})).apply(this,arguments)}class Bu{constructor(g,m,b,x,N=!1){this.auth=g,this.resolver=b,this.user=x,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,l.Z)(function*(b,x){g.pendingPromise={resolve:b,reject:x};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(N){g.reject(N)}});return function(b,x){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,l.Z)(function*(){const{urlResponse:b,sessionId:x,postBody:N,tenantId:te,error:Ae,type:st}=g;if(Ae)return void m.reject(Ae);const Ct={auth:m.auth,requestUri:b,sessionId:x,tenantId:te||void 0,postBody:N||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(st)(Ct))}catch(Xt){m.reject(Xt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Ts;case"linkViaPopup":case"linkViaRedirect":return Gl;case"reauthViaPopup":case"reauthViaRedirect":return ut;default:Xe(this.auth,"internal-error")}}resolve(g){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ka=new qe(2e3,1e4);function ar(v,g,m){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,l.Z)(function*(v,g,m){const b=vt(v);Ie(v,g,Ir);const x=Is(b,m);return new ju(b,"signInViaPopup",g,x).executeNotNull()})).apply(this,arguments)}function $u(v,g,m){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,l.Z)(function*(v,g,m){const b=(0,j.m9)(v);Ie(b.auth,g,Ir);const x=Is(b.auth,m);return new ju(b.auth,"reauthViaPopup",g,x,b).executeNotNull()})).apply(this,arguments)}function nf(v,g,m){return ta.apply(this,arguments)}function ta(){return(ta=(0,l.Z)(function*(v,g,m){const b=(0,j.m9)(v);Ie(b.auth,g,Ir);const x=Is(b.auth,m);return new ju(b.auth,"linkViaPopup",g,x,b).executeNotNull()})).apply(this,arguments)}let ju=(()=>{class v extends Bu{constructor(m,b,x,N,te){super(m,b,N,te),this.provider=x,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const b=yield m.execute();return re(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,l.Z)(function*(){we(1===m.filter.length,"Popup operations only handle one event");const b=zo();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(x=>{m.reject(x)}),m.resolver._isIframeWebStorageSupported(m.auth,x=>{x||m.reject(ke(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,x;this.pollId=null!==(x=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Ka.get())};m()}}return v.currentPopupAction=null,v})();const no=new Map;class Ii extends Bu{constructor(g,m,b=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,l.Z)(function*(){let b=no.get(m.auth._key());if(!b){try{const N=(yield function Hu(v,g){return Ds.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;b=()=>Promise.resolve(N)}catch(x){b=()=>Promise.reject(x)}no.set(m.auth._key(),b)}return m.bypassAuthState||no.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,b=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(b,g);if("unknown"!==g.type){if(g.eventId){const x=yield b.auth._redirectUserForId(g.eventId);if(x)return b.user=x,m().call(b,g);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Ds(){return(Ds=(0,l.Z)(function*(v,g){const m=io(g),b=Ss(v);if(!(yield b._isAvailable()))return!1;const x="true"===(yield b._get(m));return yield b._remove(m),x})).apply(this,arguments)}function ro(v,g){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,l.Z)(function*(v,g){return Ss(v)._set(io(g),"true")})).apply(this,arguments)}function md(){no.clear()}function Rn(v,g){no.set(v._key(),g)}function Ss(v){return X(v._redirectPersistence)}function io(v){return H("pendingRedirect",v.config.apiKey,v.name)}function qn(v,g,m){return function Nn(v,g,m){return so.apply(this,arguments)}(v,g,m)}function so(){return(so=(0,l.Z)(function*(v,g,m){const b=vt(v);Ie(v,g,Ir);const x=Is(b,m);return yield ro(x,b),x._openRedirect(b,g,"signInViaRedirect")})).apply(this,arguments)}function ri(v,g,m){return function I(v,g,m){return D.apply(this,arguments)}(v,g,m)}function D(){return(D=(0,l.Z)(function*(v,g,m){const b=(0,j.m9)(v);Ie(b.auth,g,Ir);const x=Is(b.auth,m);yield ro(x,b.auth);const N=yield xt(b);return x._openRedirect(b.auth,g,"reauthViaRedirect",N)})).apply(this,arguments)}function M(v,g,m){return function B(v,g,m){return Y.apply(this,arguments)}(v,g,m)}function Y(){return(Y=(0,l.Z)(function*(v,g,m){const b=(0,j.m9)(v);Ie(b.auth,g,Ir);const x=Is(b.auth,m);yield xi(!1,b,g.providerId),yield ro(x,b.auth);const N=yield xt(b);return x._openRedirect(b.auth,g,"linkViaRedirect",N)})).apply(this,arguments)}function ae(v,g){return be.apply(this,arguments)}function be(){return(be=(0,l.Z)(function*(v,g){return yield vt(v)._initializationPromise,ze(v,g,!1)})).apply(this,arguments)}function ze(v,g){return gt.apply(this,arguments)}function gt(){return(gt=(0,l.Z)(function*(v,g,m=!1){const b=vt(v),x=Is(b,g),te=yield new Ii(b,x,m).execute();return te&&!m&&(delete te.user._redirectEventId,yield b._persistUserIfCurrent(te.user),yield b._setRedirectUser(null,g)),te})).apply(this,arguments)}function xt(v){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,l.Z)(function*(v){const g=zo(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class Xn{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(g,b)&&(m=!0,this.sendToConsumer(g,b),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Bt(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oo(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var b;if(g.error&&!oo(g)){const x=(null===(b=g.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(ke(this.auth,x))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const b=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&b}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nr(g))}saveEventToCache(g){this.cachedEventUids.add(Nr(g)),this.lastProcessedEventTime=Date.now()}}function Nr(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function oo({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===g?.code}function Dr(v){return ao.apply(this,arguments)}function ao(){return(ao=(0,l.Z)(function*(v,g={}){return jt(v,"GET","/v1/projects",g)})).apply(this,arguments)}const As=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zu=/^https?/;function vr(){return(vr=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield Dr(v);for(const m of g)try{if(yd(m))return}catch{}Xe(v,"unauthorized-domain")})).apply(this,arguments)}function yd(v){const g=Ue(),{protocol:m,hostname:b}=new URL(g);if(v.startsWith("chrome-extension://")){const te=new URL(v);return""===te.hostname&&""===b?"chrome-extension:"===m&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&te.hostname===b}if(!zu.test(m))return!1;if(As.test(v))return b===v;const x=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(b)}const bg=new qe(3e4,6e4);function rf(){const v=Gn().___jsl;if(v?.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Zn=null;function uo(v){return Zn=Zn||function ww(v){return new Promise((g,m)=>{var b,x,N;function te(){rf(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{rf(),m(ke(v,"network-request-failed"))},timeout:bg.get()})}if(null!==(x=null===(b=Gn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==x&&x.Iframe)g(gapi.iframes.getContext());else{if(null===(N=Gn().gapi)||void 0===N||!N.load){const Ae=Jo("iframefcb");return Gn()[Ae]=()=>{gapi.load?te():m(ke(v,"network-request-failed"))},Xs(`https://apis.google.com/js/api.js?onload=${Ae}`).catch(st=>m(st))}te()}}).catch(g=>{throw Zn=null,g})}(v),Zn}const sf=new qe(5e3,15e3),af={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uf(v){const g=v.config;re(g.authDomain,v,"auth-domain-config-required");const m=g.emulator?mn(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,b={apiKey:g.apiKey,appName:v.name,v:R.SDK_VERSION},x=Zy.get(v.config.apiHost);x&&(b.eid=x);const N=v._getFrameworks();return N.length&&(b.fw=N.join(",")),`${m}?${(0,j.xO)(b).slice(1)}`}function _d(){return _d=(0,l.Z)(function*(v){const g=yield uo(v),m=Gn().gapi;return re(m,v,"internal-error"),g.open({where:document.body,url:uf(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:af,dontclear:!0},b=>new Promise(function(){var x=(0,l.Z)(function*(N,te){yield b.restyle({setHideOnLeave:!1});const Ae=ke(v,"network-request-failed"),st=Gn().setTimeout(()=>{te(Ae)},sf.get());function Ct(){Gn().clearTimeout(st),N(b)}b.ping(Ct).then(Ct,()=>{te(Ae)})});return function(N,te){return x.apply(this,arguments)}}()))}),_d.apply(this,arguments)}const ql={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Zl{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Gu(v,g,m,b,x,N){re(v.config.authDomain,v,"auth-domain-config-required"),re(v.config.apiKey,v,"invalid-api-key");const te={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:b,v:R.SDK_VERSION,eventId:x};if(g instanceof Ir){g.setDefaultLanguage(v.languageCode),te.providerId=g.providerId||"",(0,j.xb)(g.getCustomParameters())||(te.customParameters=JSON.stringify(g.getCustomParameters()));for(const[st,Ct]of Object.entries(N||{}))te[st]=Ct}if(g instanceof Po){const st=g.getScopes().filter(Ct=>""!==Ct);st.length>0&&(te.scopes=st.join(","))}v.tenantId&&(te.tid=v.tenantId);const Ae=te;for(const st of Object.keys(Ae))void 0===Ae[st]&&delete Ae[st];return`${function Xa({config:v}){return v.emulator?mn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,j.xO)(Ae).slice(1)}`}const qu="webStorageSupport",cf=class Wl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bs,this._completeRedirectFn=ze,this._overrideRedirectResult=Rn}_openPopup(g,m,b,x){var N=this;return(0,l.Z)(function*(){var te;we(null===(te=N.eventManagers[g._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const Ae=Gu(g,m,b,Ue(),x);return function wd(v,g,m,b=500,x=600){const N=Math.max((window.screen.availHeight-x)/2,0).toString(),te=Math.max((window.screen.availWidth-b)/2,0).toString();let Ae="";const st=Object.assign(Object.assign({},ql),{width:b.toString(),height:x.toString(),top:N,left:te}),Ct=(0,j.z$)().toLowerCase();m&&(Ae=ne(Ct)?"_blank":m),O(Ct)&&(g=g||"http://localhost",st.scrollbars="yes");const Xt=Object.entries(st).reduce((qr,[Ni,Cd])=>`${qr}${Ni}=${Cd},`,"");if(function yn(v=(0,j.z$)()){var g;return Le(v)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Ct)&&"_self"!==Ae)return function co(v,g){const m=document.createElement("a");m.href=v,m.target=g;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(g||"",Ae),new Zl(null);const wn=window.open(g||"",Ae,Xt);re(wn,v,"popup-blocked");try{wn.focus()}catch{}return new Zl(wn)}(g,Ae,zo())})()}_openRedirect(g,m,b,x){var N=this;return(0,l.Z)(function*(){return yield N._originValidation(g),function ld(v){Gn().location.href=v}(Gu(g,m,b,Ue(),x)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:x,promise:N}=this.eventManagers[m];return x?Promise.resolve(x):(we(N,"If manager is not set, promise should be"),N)}const b=this.initAndGetManager(g);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(g){var m=this;return(0,l.Z)(function*(){const b=yield function Ig(v){return _d.apply(this,arguments)}(g),x=new Xn(g);return b.register("authEvent",N=>(re(N?.authEvent,g,"invalid-auth-event"),{status:x.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:x},m.iframes[g._key()]=b,x})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(qu,{type:qu},x=>{var N;const te=null===(N=x?.[0])||void 0===N?void 0:N[qu];void 0!==te&&m(!!te),Xe(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function xs(v){return vr.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return _n()||U()||Le()}};class df extends class Ed{constructor(g){this.factorId=g}_process(g,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,b);case"signin":return this._finalizeSignIn(g,m.credential);default:return he("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new df(g)}_finalizeEnroll(g,m,b){return function Ru(v,g){return jt(v,"POST","/v2/accounts/mfaEnrollment:finalize",Yt(v,g))}(g,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function Yo(v,g){return jt(v,"POST","/v2/accounts/mfaSignIn:finalize",Yt(v,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let us=(()=>{class v{constructor(){}static assertion(m){return df._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var Ms="@firebase/auth",hf="0.20.10";class Dg{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(b=>{var x;g((null===(x=b)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const bd=(0,j.Pz)("authIdTokenMaxAge")||300;let ff=null;const Qy=v=>function(){var g=(0,l.Z)(function*(m){const b=m&&(yield m.getIdTokenResult()),x=b&&((new Date).getTime()-Date.parse(b.issuedAtTime))/1e3;if(x&&x>bd)return;const N=b?.token;ff!==N&&(ff=N,yield fetch(v,{method:N?"POST":"DELETE",headers:N?{Authorization:`Bearer ${N}`}:{}}))});return function(m){return g.apply(this,arguments)}}();function Jy(v=(0,R.getApp)()){const g=(0,R._getProvider)(v,"auth");if(g.isInitialized())return g.getImmediate();const m=function ge(v,g){const m=(0,R._getProvider)(v,"auth");if(m.isInitialized()){const x=m.getImmediate(),N=m.getOptions();if((0,j.vZ)(N,g??{}))return x;Xe(x,"already-initialized")}return m.initialize({options:g})}(v,{popupRedirectResolver:cf,persistence:[Ko,or,bs]}),b=(0,j.Pz)("authTokenSyncURL");if(b){const N=Qy(b);(function Pu(v,g,m){(0,j.m9)(v).beforeAuthStateChanged(g,m)})(m,N,()=>N(m.currentUser)),function Ul(v,g,m,b){(0,j.m9)(v).onIdTokenChanged(g,m,b)}(m,te=>N(te))}const x=(0,j.q4)("auth");return x&&js(m,`http://${x}`),m}!function Ky(v){(0,R._registerComponent)(new ye.wA("auth",(g,{options:m})=>{const b=g.getProvider("app").getImmediate(),x=g.getProvider("heartbeat"),{apiKey:N,authDomain:te}=b.options;return((Ae,st)=>{re(N&&!N.includes(":"),"invalid-api-key",{appName:Ae.name}),re(!te?.includes(":"),"argument-error",{appName:Ae.name});const Ct={apiKey:N,authDomain:te,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xn(v)},Xt=new So(Ae,st,Ct);return function oe(v,g){const m=g?.persistence||[],b=(Array.isArray(m)?m:[m]).map(X);g?.errorMap&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(b,g?.popupRedirectResolver)}(Xt,m),Xt})(b,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,b)=>{g.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new ye.wA("auth-internal",g=>{const m=vt(g.getProvider("auth").getImmediate());return new Dg(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(Ms,hf,function Wy(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,R.registerVersion)(Ms,hf,"esm2017")}("Browser")},2090:(ht,xe,k)=>{k.d(xe,{$s:()=>rt,BH:()=>Gt,G6:()=>Ie,L:()=>pe,LL:()=>sn,P0:()=>Ve,Pz:()=>ln,Sg:()=>qe,UG:()=>Te,US:()=>ye,ZB:()=>G,ZR:()=>Dn,aH:()=>_t,b$:()=>me,eu:()=>re,hl:()=>Ge,jU:()=>it,m9:()=>nn,ne:()=>An,pd:()=>Vs,q4:()=>Ue,r3:()=>Hr,ru:()=>Ee,tV:()=>_e,uI:()=>Re,vZ:()=>et,w1:()=>Xe,xO:()=>In,xb:()=>wi,z$:()=>je,zI:()=>he,zd:()=>gr});const se=function(q){const H=[];let K=0;for(let $=0;$<q.length;$++){let O=q.charCodeAt($);O<128?H[K++]=O:O<2048?(H[K++]=O>>6|192,H[K++]=63&O|128):55296==(64512&O)&&$+1<q.length&&56320==(64512&q.charCodeAt($+1))?(O=65536+((1023&O)<<10)+(1023&q.charCodeAt(++$)),H[K++]=O>>18|240,H[K++]=O>>12&63|128,H[K++]=O>>6&63|128,H[K++]=63&O|128):(H[K++]=O>>12|224,H[K++]=O>>6&63|128,H[K++]=63&O|128)}return H},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,H){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let O=0;O<q.length;O+=3){const U=q[O],ne=O+1<q.length,Ne=ne?q[O+1]:0,ot=O+2<q.length,at=ot?q[O+2]:0;let Pt=(15&Ne)<<2|at>>6,yn=63&at;ot||(yn=64,ne||(Pt=64)),$.push(K[U>>2],K[(3&U)<<4|Ne>>4],K[Pt],K[yn])}return $.join("")},encodeString(q,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(q):this.encodeByteArray(se(q),H)},decodeString(q,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(q):function(q){const H=[];let K=0,$=0;for(;K<q.length;){const O=q[K++];if(O<128)H[$++]=String.fromCharCode(O);else if(O>191&&O<224){const U=q[K++];H[$++]=String.fromCharCode((31&O)<<6|63&U)}else if(O>239&&O<365){const ot=((7&O)<<18|(63&q[K++])<<12|(63&q[K++])<<6|63&q[K++])-65536;H[$++]=String.fromCharCode(55296+(ot>>10)),H[$++]=String.fromCharCode(56320+(1023&ot))}else{const U=q[K++],ne=q[K++];H[$++]=String.fromCharCode((15&O)<<12|(63&U)<<6|63&ne)}}return H.join("")}(this.decodeStringToByteArray(q,H))},decodeStringToByteArray(q,H){this.init_();const K=H?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let O=0;O<q.length;){const U=K[q.charAt(O++)],Ne=O<q.length?K[q.charAt(O)]:0;++O;const at=O<q.length?K[q.charAt(O)]:64;++O;const Le=O<q.length?K[q.charAt(O)]:64;if(++O,null==U||null==Ne||null==at||null==Le)throw Error();$.push(U<<2|Ne>>4),64!==at&&($.push(Ne<<4&240|at>>2),64!==Le&&$.push(at<<6&192|Le))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},pe=function(q){return function(q){const H=se(q);return ye.encodeByteArray(H,!0)}(q).replace(/\./g,"")},_e=function(q){try{return ye.decodeString(q,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function G(q,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return H}for(const K in H)!H.hasOwnProperty(K)||!J(K)||(q[K]=G(q[K],H[K]));return q}function J(q){return"__proto__"!==q}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Re(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function Te(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function it(){return"object"==typeof self&&self.self===self}function Ee(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xe(){const q=je();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Ie(){return!Te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ge(){return"object"==typeof indexedDB}function re(){return new Promise((q,H)=>{try{let K=!0;const $="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open($);O.onsuccess=()=>{O.result.close(),K||self.indexedDB.deleteDatabase($),q(!0)},O.onupgradeneeded=()=>{K=!1},O.onerror=()=>{var U;H((null===(U=O.error)||void 0===U?void 0:U.message)||"")}}catch(K){H(K)}})}function he(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const oe=()=>{try{return function we(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const q=process.env.__FIREBASE_DEFAULTS__;return q?JSON.parse(q):void 0})()||(()=>{if(typeof document>"u")return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=q&&_e(q[1]);return H&&JSON.parse(H)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},Ue=q=>{var H,K;return null===(K=null===(H=oe())||void 0===H?void 0:H.emulatorHosts)||void 0===K?void 0:K[q]},Ve=q=>{const H=Ue(q);if(!H)return;const K=H.lastIndexOf(":");if(K<=0||K+1===H.length)throw new Error(`Invalid host ${H} with no separate hostname and port!`);const $=parseInt(H.substring(K+1),10);return"["===H[0]?[H.substring(1,K-1),$]:[H.substring(0,K),$]},_t=()=>{var q;return null===(q=oe())||void 0===q?void 0:q.config},ln=q=>{var H;return null===(H=oe())||void 0===H?void 0:H[`_${q}`]};class Gt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,K)=>{this.resolve=H,this.reject=K})}wrapCallback(H){return(K,$)=>{K?this.reject(K):this.resolve($),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(K):H(K,$))}}}function qe(q,H){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=H||"demo-project",O=q.iat||0,U=q.sub||q.user_id;if(!U)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ne=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:O,exp:O+3600,auth_time:O,sub:U,user_id:U,firebase:{sign_in_provider:"custom",identities:{}}},q);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(ne)),""].join(".")}class Dn extends Error{constructor(H,K,$){super(K),this.code=H,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,Dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sn.prototype.create)}}class sn{constructor(H,K,$){this.service=H,this.serviceName=K,this.errors=$}create(H,...K){const $=K[0]||{},O=`${this.service}/${H}`,U=this.errors[H],ne=U?function on(q,H){return q.replace(Yt,(K,$)=>{const O=H[$];return null!=O?String(O):`<${$}?>`})}(U,$):"Error";return new Dn(O,`${this.serviceName}: ${ne} (${O}).`,$)}}const Yt=/\{\$([^}]+)}/g;function Hr(q,H){return Object.prototype.hasOwnProperty.call(q,H)}function wi(q){for(const H in q)if(Object.prototype.hasOwnProperty.call(q,H))return!1;return!0}function et(q,H){if(q===H)return!0;const K=Object.keys(q),$=Object.keys(H);for(const O of K){if(!$.includes(O))return!1;const U=q[O],ne=H[O];if(tr(U)&&tr(ne)){if(!et(U,ne))return!1}else if(U!==ne)return!1}for(const O of $)if(!K.includes(O))return!1;return!0}function tr(q){return null!==q&&"object"==typeof q}function In(q){const H=[];for(const[K,$]of Object.entries(q))Array.isArray($)?$.forEach(O=>{H.push(encodeURIComponent(K)+"="+encodeURIComponent(O))}):H.push(encodeURIComponent(K)+"="+encodeURIComponent($));return H.length?"&"+H.join("&"):""}function gr(q){const H={};return q.replace(/^\?/,"").split("&").forEach($=>{if($){const[O,U]=$.split("=");H[decodeURIComponent(O)]=decodeURIComponent(U)}}),H}function Vs(q){const H=q.indexOf("?");if(!H)return"";const K=q.indexOf("#",H);return q.substring(H,K>0?K:void 0)}function An(q,H){const K=new bn(q,H);return K.subscribe.bind(K)}class bn{constructor(H,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{H(this)}).catch($=>{this.error($)})}next(H){this.forEachObserver(K=>{K.next(H)})}error(H){this.forEachObserver(K=>{K.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,K,$){let O;if(void 0===H&&void 0===K&&void 0===$)throw new Error("Missing Observer.");O=function pt(q,H){if("object"!=typeof q||null===q)return!1;for(const K of H)if(K in q&&"function"==typeof q[K])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:K,complete:$},void 0===O.next&&(O.next=Ot),void 0===O.error&&(O.error=Ot),void 0===O.complete&&(O.complete=Ot);const U=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),U}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,H)}sendOne(H,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{K(this.observers[H])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ot(){}function rt(q,H=1e3,K=2){const $=H*Math.pow(K,q),O=Math.round(.5*$*(Math.random()-.5)*2);return Math.min(144e5,$+O)}function nn(q){return q&&q._delegate?q._delegate:q}},8259:(ht,xe,k)=>{var l=k(4650);let j=null;function R(){return j}const fe=new l.OlP("DocumentToken");let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function _e(){return(0,l.LFG)(G)}()},providedIn:"platform"}),n})();const Z=new l.OlP("Location Initialized");let G=(()=>{class n extends pe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){J()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){J()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function je(){return new G((0,l.LFG)(fe))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function it(n){return n&&"?"!==n[0]?"?"+n:n}let Ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(tt)},providedIn:"root"}),n})();const me=new l.OlP("appBaseHref");let tt=(()=>{class n extends Ee{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Re(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+it(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const d=this.prepareExternalUrl(i+it(a));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,a){const d=this.prepareExternalUrl(i+it(a));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(pe),l.LFG(me,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xe=(()=>{class n extends Ee{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Re(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let d=this.prepareExternalUrl(i+it(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,a){let d=this.prepareExternalUrl(i+it(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(pe),l.LFG(me,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ke=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Te(Ge(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+it(r))}normalize(t){return n.stripTrailingSlash(function Ie(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ge(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=it,n.joinWithSlash=Re,n.stripTrailingSlash=Te,n.\u0275fac=function(t){return new(t||n)(l.LFG(Ee))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Oe(){return new ke((0,l.LFG)(Ee))}()},providedIn:"root"}),n})();function Ge(n){return n.replace(/\/index.html$/,"")}const re={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var he=(()=>((he=he||{})[he.Decimal=0]="Decimal",he[he.Percent=1]="Percent",he[he.Currency=2]="Currency",he[he.Scientific=3]="Scientific",he))(),oe=(()=>((oe=oe||{})[oe.Decimal=0]="Decimal",oe[oe.Group=1]="Group",oe[oe.List=2]="List",oe[oe.PercentSign=3]="PercentSign",oe[oe.PlusSign=4]="PlusSign",oe[oe.MinusSign=5]="MinusSign",oe[oe.Exponential=6]="Exponential",oe[oe.SuperscriptingExponent=7]="SuperscriptingExponent",oe[oe.PerMille=8]="PerMille",oe[oe.Infinity=9]="Infinity",oe[oe.NaN=10]="NaN",oe[oe.TimeSeparator=11]="TimeSeparator",oe[oe.CurrencyDecimal=12]="CurrencyDecimal",oe[oe.CurrencyGroup=13]="CurrencyGroup",oe))();function jt(n,e){const t=(0,l.cg1)(n),r=t[l.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===oe.CurrencyDecimal)return t[l.wAp.NumberSymbols][oe.Decimal];if(e===oe.CurrencyGroup)return t[l.wAp.NumberSymbols][oe.Group]}return r}const ot=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Bs(n,e,t,r,i){const d=function $s(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],a=r[1],d=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],f=d[0],y=d[1]||"";t.posPre=f.substring(0,f.indexOf("#"));for(let T=0;T<y.length;T++){const A=y.charAt(T);"0"===A?t.minFrac=t.maxFrac=T+1:"#"===A?t.maxFrac=T+1:t.posSuf+=A}const w=f.split(",");if(t.gSize=w[1]?w[1].length:0,t.lgSize=w[2]||w[1]?(w[2]||w[1]).length:0,a){const T=i.length-t.posPre.length-t.posSuf.length,A=a.indexOf("#");t.negPre=a.substring(0,A).replace(/'/g,""),t.negSuf=a.slice(A+T).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Mr(n,e){return(0,l.cg1)(n)[l.wAp.NumberFormats][e]}(e,he.Currency),jt(e,oe.MinusSign));return d.minFrac=function gr(n){let e;const t=re[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),d.maxFrac=d.minFrac,function xn(n,e,t,r,i,a,d=!1){let f="",y=!1;if(isFinite(n)){let w=function Iu(n){let r,i,a,d,f,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(i<0&&(i=a),i+=+e.slice(a+1),e=e.substring(0,a)):i<0&&(i=e.length),a=0;"0"===e.charAt(a);a++);if(a===(f=e.length))r=[0],i=1;else{for(f--;"0"===e.charAt(f);)f--;for(i-=a,r=[],d=0;a<=f;a++,d++)r[d]=Number(e.charAt(a))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);d&&(w=function js(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(w));let T=e.minInt,A=e.minFrac,F=e.maxFrac;if(a){const Je=a.match(ot);if(null===Je)throw new Error(`${a} is not a valid digit info`);const Ye=Je[1],We=Je[3],Et=Je[5];null!=Ye&&(T=Qn(Ye)),null!=We&&(A=Qn(We)),null!=Et?F=Qn(Et):null!=We&&A>F&&(F=A)}!function Ji(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const a=Math.min(Math.max(e,i),t);let d=a+n.integerLen,f=r[d];if(d>0){r.splice(Math.max(n.integerLen,d));for(let A=d;A<r.length;A++)r[A]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,d=a+1),r[0]=0;for(let A=1;A<d;A++)r[A]=0}if(f>=5)if(d-1<0){for(let A=0;A>d;A--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[d-1]++;for(;i<Math.max(0,a);i++)r.push(0);let y=0!==a;const w=e+n.integerLen,T=r.reduceRight(function(A,F,V,z){return z[V]=(F+=A)<10?F:F-10,y&&(0===z[V]&&V>=w?z.pop():y=!1),F>=10?1:0},0);T&&(r.unshift(T),n.integerLen++)}(w,A,F);let V=w.digits,z=w.integerLen;const ie=w.exponent;let ce=[];for(y=V.every(Je=>!Je);z<T;z++)V.unshift(0);for(;z<0;z++)V.unshift(0);z>0?ce=V.splice(z,V.length):(ce=V,V=[0]);const Be=[];for(V.length>=e.lgSize&&Be.unshift(V.splice(-e.lgSize,V.length).join(""));V.length>e.gSize;)Be.unshift(V.splice(-e.gSize,V.length).join(""));V.length&&Be.unshift(V.join("")),f=Be.join(jt(t,r)),ce.length&&(f+=jt(t,i)+ce.join("")),ie&&(f+=jt(t,oe.Exponential)+"+"+ie)}else f=jt(t,oe.Infinity);return f=n<0&&!y?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(n,d,e,oe.CurrencyGroup,oe.CurrencyDecimal,i).replace("\xa4",t).replace("\xa4","").trim()}function Qn(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function Tu(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}class zs{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Cr=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new zs(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,d),Gs(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Gs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Gs(n,e){n.context.$implicit=e.item}let Pn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Uh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){rr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){rr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Uh{constructor(){this.$implicit=null,this.ngIf=null}}function rr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let Du=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,a]=t.split("."),d=-1===i.indexOf("-")?void 0:l.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,a?`${r}${a}`:r,d):this._renderer.removeStyle(this._ngEl.nativeElement,i,d)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();let Ma=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",a,d){if(!function Au(n){return!(null==n||""===n||n!=n)}(t))return null;d=d||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let f=r||this._defaultCurrencyCode;"code"!==i&&(f="symbol"===i||"symbol-narrow"===i?function Yn(n,e,t="en"){const r=function Wi(n){return(0,l.cg1)(n)[l.wAp.Currencies]}(t)[n]||re[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(f,"symbol"===i?"wide":"narrow",d):i);try{return Bs(function Al(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),d,f,r,a)}catch(y){throw function ci(n,e){return new l.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(l.EJc,16))},n.\u0275pipe=l.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let Vh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function No(n){return"server"===n}let Qc=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Bh((0,l.LFG)(fe),window)}),n})();class Bh{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Tr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const d=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=bi(this.window.history)||bi(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function bi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ws{}class ws extends class nd extends class ye{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function le(n){j||(j=n)}(new ws)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function rd(){return Es=Es||document.querySelector("base"),Es?Es.getAttribute("href"):null}();return null==t?null:function rs(n){Fn=Fn||document.createElement("a"),Fn.setAttribute("href",n);const e=Fn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Es=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Tu(document.cookie,e)}}let Fn,Es=null;const Ln=new l.OlP("TRANSITION_ID"),kl=[{provide:l.ip1,useFactory:function id(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=R(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Ln,fe,l.zs3],multi:!0}];let Fl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ll=new l.OlP("EventManagerPlugins");let Ul=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const d=i[a];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ll),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Pu{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=R().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let $o=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),jo=(()=>{class n extends $o{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const d=this._doc.createElement("style");d.textContent=a,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(sd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(sd))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function sd(n){R().remove(n)}const Ho={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},od=/%COMP%/g;function Nu(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Nu(n,i,t):(i=i.replace(od,n),t.push(i))}return t}function ku(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ja=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new is(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new ud(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case l.ifc.ShadowDom:return new Wh(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Nu(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ul),l.LFG(jo),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class is{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ho[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(za(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(za(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Ho[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ho[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ku(r)):this.eventManager.addEventListener(e,t,ku(r))}}function za(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ud extends is{constructor(e,t,r,i){super(e),this.component=r;const a=Nu(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function zn(n){return"_ngcontent-%COMP%".replace(od,n)}(i+"-"+r.id),this.hostAttr=function Ru(n){return"_nghost-%COMP%".replace(od,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Wh extends is{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Nu(i.id,i.styles,[]);for(let d=0;d<a.length;d++){const f=document.createElement("style");f.textContent=a[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let or=(()=>{class n extends Pu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Kh=["alt","control","meta","shift"],bs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$l={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ga=(()=>{class n extends Pu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),d=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,a.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let d="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),d="code."),Kh.forEach(w=>{const T=r.indexOf(w);T>-1&&(r.splice(T,1),d+=w+".")}),d+=a,0!=r.length||0===a.length)return null;const y={};return y.domEventName=i,y.fullKey=d,y}static matchEventFullKeyCode(t,r){let i=bs[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Kh.forEach(d=>{d!==i&&(0,$l[d])(t)&&(a+=d+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const qa=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function cd(){ws.makeCurrent()},multi:!0},{provide:fe,useFactory:function jl(){return(0,l.RDi)(document),document},deps:[]}]),Qs=new l.OlP(""),Za=[{provide:l.rWj,useClass:class qh{addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let a=i.length,d=!1;const f=function(y){d=d||y,a--,0==a&&r(d)};i.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Go=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function ss(){return new l.qLn},deps:[]},{provide:Ll,useClass:or,multi:!0,deps:[fe,l.R0b,l.Lbi]},{provide:Ll,useClass:Ga,multi:!0,deps:[fe]},{provide:ja,useClass:ja,deps:[Ul,jo,l.AFp]},{provide:l.FYo,useExisting:ja},{provide:$o,useExisting:jo},{provide:jo,useClass:jo,deps:[fe]},{provide:Ul,useClass:Ul,deps:[Ll,l.R0b]},{provide:Ws,useClass:Fl,deps:[]},[]];let Js=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Ln,useExisting:l.AFp},kl]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Qs,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Go,...Za],imports:[Vh,l.hGG]}),n})(),Oi=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Wa(){return new Oi((0,l.LFG)(fe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let ea=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):l.LFG(Eg),r},providedIn:"root"}),n})(),Eg=(()=>{class n extends ea{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case l.q3G.NONE:return r;case l.q3G.HTML:return(0,l.qzn)(r,"HTML")?(0,l.z3N)(r):(0,l.EiD)(this._doc,String(r)).toString();case l.q3G.STYLE:return(0,l.qzn)(r,"Style")?(0,l.z3N)(r):r;case l.q3G.SCRIPT:if((0,l.qzn)(r,"Script"))return(0,l.z3N)(r);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(r,"URL")?(0,l.z3N)(r):(0,l.mCW)(String(r));case l.q3G.RESOURCE_URL:if((0,l.qzn)(r,"ResourceURL"))return(0,l.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function qy(n){return new Eg(n.get(fe))}(l.LFG(l.zs3)),r},providedIn:"root"}),n})();var an=k(8996),os=k(7669);function lt(...n){const e=(0,os.yG)(n);return(0,an.D)(n,e)}var yr=k(7579);class Tn extends yr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const eo=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var _r=k(9751);const{isArray:to}=Array,{getPrototypeOf:fd,prototype:pd,keys:tf}=Object;function Is(n){if(1===n.length){const e=n[0];if(to(e))return{args:e,keys:null};if(function gd(n){return n&&"object"==typeof n&&fd(n)===pd}(e)){const t=tf(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ts=k(4671),ut=k(4004);const{isArray:Gl}=Array;function Bu(n){return(0,ut.U)(e=>function Ri(n,e){return Gl(e)?n(...e):n(e)}(n,e))}function Ka(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var ar=k(5403),Ya=k(9672);function $u(...n){const e=(0,os.yG)(n),t=(0,os.jO)(n),{args:r,keys:i}=Is(n);if(0===r.length)return(0,an.D)([],e);const a=new _r.y(function Qa(n,e,t=Ts.y){return r=>{nf(e,()=>{const{length:i}=n,a=new Array(i);let d=i,f=i;for(let y=0;y<i;y++)nf(e,()=>{const w=(0,an.D)(n[y],e);let T=!1;w.subscribe((0,ar.x)(r,A=>{a[y]=A,T||(T=!0,f--),f||r.next(t(a.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>Ka(i,d):Ts.y));return t?a.pipe(Bu(t)):a}function nf(n,e,t){n?(0,Ya.f)(t,n,e):e()}var ta=k(8189);function na(...n){return function ju(){return(0,ta.J)(1)}()((0,an.D)(n,(0,os.yG)(n)))}var no=k(8421);function Ii(n){return new _r.y(e=>{(0,no.Xf)(n()).subscribe(e)})}var Hu=k(9635),Ds=k(576);function ro(n,e){const t=(0,Ds.m)(n)?n:()=>n,r=i=>i.error(t());return new _r.y(e?i=>e.schedule(r,0,i):r)}var Rr=k(515),md=k(727),Rn=k(4482);function Ss(){return(0,Rn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,ar.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class io extends _r.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Rn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new md.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ar.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=md.w0.EMPTY)}return e}refCount(){return Ss()(this)}}function qn(n,e){return(0,Rn.e)((t,r)=>{let i=null,a=0,d=!1;const f=()=>d&&!i&&r.complete();t.subscribe((0,ar.x)(r,y=>{i?.unsubscribe();let w=0;const T=a++;(0,no.Xf)(n(y,T)).subscribe(i=(0,ar.x)(r,A=>r.next(e?e(y,A,T,w++):A),()=>{i=null,f()}))},()=>{d=!0,f()}))})}function Nn(n){return n<=0?()=>Rr.E:(0,Rn.e)((e,t)=>{let r=0;e.subscribe((0,ar.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function so(...n){const e=(0,os.yG)(n);return(0,Rn.e)((t,r)=>{(e?na(n,t,e):na(n,t)).subscribe(r)})}function ri(n,e){return(0,Rn.e)((t,r)=>{let i=0;t.subscribe((0,ar.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var I=k(5577);function D(n){return(0,Rn.e)((e,t)=>{let r=!1;e.subscribe((0,ar.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function M(n=B){return(0,Rn.e)((e,t)=>{let r=!1;e.subscribe((0,ar.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function B(){return new eo}function Y(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ri((i,a)=>n(i,a,r)):Ts.y,Nn(1),t?D(e):M(()=>new eo))}function ae(n,e){return(0,Ds.m)(e)?(0,I.z)(n,e,1):(0,I.z)(n,1)}var be=k(8505);function ze(n){return(0,Rn.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,ar.x)(t,void 0,void 0,d=>{a=(0,no.Xf)(n(d,ze(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function gt(n,e,t,r,i){return(a,d)=>{let f=t,y=e,w=0;a.subscribe((0,ar.x)(d,T=>{const A=w++;y=f?n(y,T,A):(f=!0,T),r&&d.next(y)},i&&(()=>{f&&d.next(y),d.complete()})))}}function xt(n,e){return(0,Rn.e)(gt(n,e,arguments.length>=2,!0))}function Ut(n){return n<=0?()=>Rr.E:(0,Rn.e)((e,t)=>{let r=[];e.subscribe((0,ar.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function mt(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ri((i,a)=>n(i,a,r)):Ts.y,Ut(1),t?D(e):M(()=>new eo))}function oo(n){return(0,Rn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Bt="primary",Dr=Symbol("RouteTitle");class ao{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function As(n){return new ao(n)}function zu(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const d=r[a],f=n[a];if(d.startsWith(":"))i[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function vr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!yd(n[i],e[i]))return!1;return!0}function yd(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function bg(n){return Array.prototype.concat.apply([],n)}function rf(n){return n.length>0?n[n.length-1]:null}function Zn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function uo(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,an.D)(Promise.resolve(n)):lt(n)}const Ew={exact:function Ig(n,e,t){if(!co(n.segments,e.segments)||!lo(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Ig(n.children[r],e.children[r],t))return!1;return!0},subset:ql},af={exact:function uf(n,e){return vr(n,e)},subset:function _d(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>yd(n[t],e[t]))},ignored:()=>!0};function Zy(n,e,t){return Ew[t.paths](n.root,e.root,t.matrixParams)&&af[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ql(n,e,t){return vd(n,e,e.segments,t)}function vd(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!co(i,t)||e.hasChildren()||!lo(i,t,r))}if(n.segments.length===t.length){if(!co(n.segments,t)||!lo(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!ql(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(co(n.segments,i)&&lo(n.segments,i,r)&&n.children[Bt])&&vd(n.children[Bt],e,a,r)}}function lo(n,e,t){return e.every((r,i)=>af[t](n[i].parameters,r.parameters))}class Ja{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=As(this.queryParams)),this._queryParamMap}toString(){return Xa.serialize(this)}}class tn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Zn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qu(this)}}class Zl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=As(this.parameters)),this._parameterMap}toString(){return Dg(this)}}function co(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let lf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new Gu},providedIn:"root"}),n})();class Gu{parse(e){const t=new g(e);return new Ja(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Wl(e.root,!0)}`,r=function Ky(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Ed(t)}=${Ed(i)}`).join("&"):`${Ed(t)}=${Ed(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function df(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Xa=new Gu;function qu(n){return n.segments.map(e=>Dg(e)).join("/")}function Wl(n,e){if(!n.hasChildren())return qu(n);if(e){const t=n.children[Bt]?Wl(n.children[Bt],!1):"",r=[];return Zn(n.children,(i,a)=>{a!==Bt&&r.push(`${a}:${Wl(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Tg(n,e){let t=[];return Zn(n.children,(r,i)=>{i===Bt&&(t=t.concat(e(r,i)))}),Zn(n.children,(r,i)=>{i!==Bt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Bt?[Wl(n.children[Bt],!1)]:[`${i}:${Wl(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Bt]?`${qu(n)}/${t[0]}`:`${qu(n)}/(${t.join("//")})`}}function cf(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ed(n){return cf(n).replace(/%3B/gi,";")}function us(n){return cf(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ms(n){return decodeURIComponent(n)}function hf(n){return Ms(n.replace(/\+/g,"%20"))}function Dg(n){return`${us(n.path)}${function Wy(n){return Object.keys(n).map(e=>`;${us(e)}=${us(n[e])}`).join("")}(n.parameters)}`}const Yy=/^[^\/()?;=#]+/;function bd(n){const e=n.match(Yy);return e?e[0]:""}const ff=/^[^=?&#]+/,Jy=/^[^&#]+/;class g{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Bt]=new tn(e,t)),r}parseSegment(){const e=bd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(e),new Zl(Ms(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=bd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=bd(this.remaining);i&&(r=i,this.capture(r))}e[Ms(t)]=Ms(r)}parseQueryParam(e){const t=function Qy(n){const e=n.match(ff);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function v(n){const e=n.match(Jy);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=hf(t),a=hf(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=bd(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Bt);const d=this.parseChildren();t[a]=1===Object.keys(d).length?d[Bt]:new tn([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,!1)}}function m(n){return n.segments.length>0?new tn([],{[Bt]:n}):n}function b(n){const e={};for(const r of Object.keys(n.children)){const a=b(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function x(n){if(1===n.numberOfChildren&&n.children[Bt]){const e=n.children[Bt];return new tn(n.segments.concat(e.segments),e.children)}return n}(new tn(n.segments,e))}function N(n){return n instanceof Ja}function Xt(n,e,t,r,i){if(0===t.length)return Ni(e.root,e.root,e.root,r,i);const a=function Td(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Id(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,d)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Zn(a.outlets,(y,w)=>{f[w]="string"==typeof y?y.split("/"):y}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===d?(a.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Id(t,e,r)}(t);return a.toRoot()?Ni(e.root,e.root,new tn([],{}),r,i):function d(y){const w=function pf(n,e,t,r){if(n.isAbsolute)return new eu(e.root,!0,0);if(-1===r)return new eu(t,t===e.root,0);return function Dd(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new l.vHH(4005,!1);i=r.segments.length}return new eu(r,!1,i-a)}(t,r+(wn(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,y),T=w.processChildren?ra(w.segmentGroup,w.index,a.commands):Zu(w.segmentGroup,w.index,a.commands);return Ni(e.root,w.segmentGroup,T,r,i)}(n.snapshot?._lastPathIndex)}function wn(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function qr(n){return"object"==typeof n&&null!=n&&n.outlets}function Ni(n,e,t,r,i){let d,a={};r&&Zn(r,(y,w)=>{a[w]=Array.isArray(y)?y.map(T=>`${T}`):`${y}`}),d=n===e?t:Cd(n,e,t);const f=m(b(d));return new Ja(f,a,i)}function Cd(n,e,t){const r={};return Zn(n.children,(i,a)=>{r[a]=i===e?t:Cd(i,e,t)}),new tn(n.segments,r)}class Id{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&wn(r[0]))throw new l.vHH(4003,!1);const i=r.find(qr);if(i&&i!==rf(r))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class eu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Zu(n,e,t){if(n||(n=new tn([],{})),0===n.segments.length&&n.hasChildren())return ra(n,e,t);const r=function Xy(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const d=n.segments[i],f=t[r];if(qr(f))break;const y=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!xg(y,w,d))return a;r+=2}else{if(!xg(y,{},d))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new tn(n.segments.slice(0,r.pathIndex),{});return a.children[Bt]=new tn(n.segments.slice(r.pathIndex),n.children),ra(a,0,i)}return r.match&&0===i.length?new tn(n.segments,{}):r.match&&!n.hasChildren()?Un(n,e,t):r.match?ra(n,0,i):Un(n,e,t)}function ra(n,e,t){if(0===t.length)return new tn(n.segments,{});{const r=function Kl(n){return qr(n[0])?n[0].outlets:{[Bt]:n}}(t),i={};return Zn(r,(a,d)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[d]=Zu(n.children[d],e,a))}),Zn(n.children,(a,d)=>{void 0===r[d]&&(i[d]=a)}),new tn(n.segments,i)}}function Un(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(qr(a)){const y=Ag(a.outlets);return new tn(r,y)}if(0===i&&wn(t[0])){r.push(new Zl(n.segments[e].path,bw(t[0]))),i++;continue}const d=qr(a)?a.outlets[Bt]:`${a}`,f=i<t.length-1?t[i+1]:null;d&&f&&wn(f)?(r.push(new Zl(d,bw(f))),i+=2):(r.push(new Zl(d,{})),i++)}return new tn(r,{})}function Ag(n){const e={};return Zn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Un(new tn([],{}),0,t))}),e}function bw(n){const e={};return Zn(n,(t,r)=>e[r]=`${t}`),e}function xg(n,e,t){return n==t.path&&vr(e,t.parameters)}class ia{constructor(e,t){this.id=e,this.url=t}}class e_ extends ia{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yl extends ia{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mg extends ia{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cw extends ia{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nT extends ia{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sM extends ia{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oM extends ia{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gf extends ia{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t_ extends ia{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Iw{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Tw{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Dw{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rT{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sw{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Aw{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Og{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xw{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=mf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=mf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Pg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Pg(e,this._root).map(t=>t.value)}}function mf(n,e){if(n===e.value)return e;for(const t of e.children){const r=mf(n,t);if(r)return r}return null}function Pg(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Pg(n,t);if(r.length)return r.unshift(e),r}return[]}class sa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Os(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Mw extends xw{constructor(e,t){super(e),this.snapshot=t,yf(this,e)}toString(){return this.snapshot.toString()}}function Rg(n,e){const t=function Ng(n,e){const d=new oa([],{},{},"",{},Bt,e,null,n.root,-1,{});return new n_("",new sa(d,[]))}(n,e),r=new Tn([new Zl("",{})]),i=new Tn({}),a=new Tn({}),d=new Tn({}),f=new Tn(""),y=new Wu(r,i,d,f,a,Bt,e,t.root);return y.snapshot=t.root,new Mw(new sa(y,[]),t)}class Wu{constructor(e,t,r,i,a,d,f,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=d,this.component=f,this.title=this.data?.pipe((0,ut.U)(w=>w[Dr]))??lt(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ut.U)(e=>As(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ut.U)(e=>As(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kg(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function Fg(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class oa{constructor(e,t,r,i,a,d,f,y,w,T,A,F){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=d,this.component=f,this.title=this.data?.[Dr],this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=T,this._correctedLastPathIndex=F??T,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=As(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=As(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class n_ extends xw{constructor(e,t){super(t),this.url=e,yf(this,t)}toString(){return Ow(this._root)}}function yf(n,e){e.value._routerState=n,e.children.forEach(t=>yf(n,t))}function Ow(n){const e=n.children.length>0?` { ${n.children.map(Ow).join(", ")} } `:"";return`${n.value}${e}`}function r_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,vr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),vr(e.params,t.params)||n.params.next(t.params),function xs(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!vr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),vr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Lg(n,e){const t=vr(n.params,e.params)&&function wd(n,e){return co(n,e)&&n.every((t,r)=>vr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Lg(n.parent,e.parent))}function _f(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function iT(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return _f(n,r,i);return _f(n,r)})}(n,e,t);return new sa(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const d=a.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(f=>_f(n,f)),d}}const r=function sT(n){return new Wu(new Tn(n.url),new Tn(n.params),new Tn(n.queryParams),new Tn(n.fragment),new Tn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>_f(n,a));return new sa(r,i)}}const i_="ngNavigationCancelingError";function Ug(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=N(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Pw(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Pw(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[i_]=!0,r.cancellationCode=e,t&&(r.url=t),r}function s_(n){return Rw(n)&&N(n.url)}function Rw(n){return n&&n[i_]}class Nw{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Vg,this.attachRef=null}}let Vg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Nw,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bg=!1;let Ql=(()=>{class n{constructor(t,r,i,a,d){this.parentContexts=t,this.location=r,this.changeDetector=a,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=i||Bt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Bg);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Bg);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Bg);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new l.vHH(4013,Bg);this._activatedRoute=t;const i=this.location,d=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,y=new oT(t,f,i.injector);if(r&&function Ad(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(d);this.activated=i.createComponent(w,i.length,y)}else this.activated=i.createComponent(d,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Vg),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class oT{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Wu?this.route:e===Vg?this.childContexts:this.parent.get(e,t)}}let Jl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[Ql],encapsulation:2}),n})();function kw(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function u_(n){const e=n.children&&n.children.map(u_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Bt&&(t.component=Jl),t}function Ps(n){return n.outlet||Bt}function $g(n,e){const t=n.filter(r=>Ps(r)===e);return t.push(...n.filter(r=>Ps(r)!==e)),t}function jg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class l_{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),r_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Os(t);e.children.forEach(a=>{const d=a.value.outlet;this.deactivateRoutes(a,i[d],r),delete i[d]}),Zn(i,(a,d)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Os(e);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);if(r&&r.outlet){const d=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Os(e);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Os(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Aw(a.value.snapshot))}),e.children.length&&this.forwardEvent(new rT(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(r_(i),i===a)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),r_(f.route.value),this.activateChildRoutes(e,null,d.children)}else{const f=jg(i.snapshot),y=f?.get(l._Vd)??null;d.attachRef=null,d.route=i,d.resolver=y,d.injector=f,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class uT{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class c_{constructor(e,t){this.component=e,this.route=t}}function dM(n,e,t){const r=n._root;return wf(r,e?e._root:null,t,[r.value])}function vf(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:r}function wf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Os(e);return n.children.forEach(d=>{(function Uw(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,d=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(d&&a.routeConfig===d.routeConfig){const y=function d_(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!co(n.url,e.url);case"pathParamsOrQueryParamsChange":return!co(n.url,e.url)||!vr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lg(n,e)||!vr(n.queryParams,e.queryParams);default:return!Lg(n,e)}}(d,a,a.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new uT(r)):(a.data=d.data,a._resolvedData=d._resolvedData),wf(n,e,a.component?f?f.children:null:t,r,i),y&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new c_(f.outlet.component,d))}else d&&xd(e,f,i),i.canActivateChecks.push(new uT(r)),wf(n,null,a.component?f?f.children:null:t,r,i)})(d,a[d.value.outlet],t,r.concat([d.value]),i),delete a[d.value.outlet]}),Zn(a,(d,f)=>xd(d,t.getContext(f),i)),i}function xd(n,e,t){const r=Os(n),i=n.value;Zn(r,(a,d)=>{xd(a,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new c_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Md(n){return"function"==typeof n}function Hg(n){return n instanceof eo||"EmptyError"===n?.name}const zg=Symbol("INITIAL_VALUE");function Od(){return qn(n=>$u(n.map(e=>e.pipe(Nn(1),so(zg)))).pipe((0,ut.U)(e=>{for(const t of e)if(!0!==t){if(t===zg)return zg;if(!1===t||t instanceof Ja)return t}return!0}),ri(e=>e!==zg),Nn(1)))}function pi(n){return(0,Hu.z)((0,be.b)(e=>{if(N(e))throw Ug(0,e)}),(0,ut.U)(e=>!0===e))}const Gg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qg(n,e,t,r,i){const a=Zr(n,e,t);return a.matched?function g_(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?lt(i.map(d=>{const f=vf(d,n);return uo(function cT(n){return n&&Md(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Od(),pi()):lt(!0)}(r=kw(e,r),e,t).pipe((0,ut.U)(d=>!0===d?a:{...Gg})):lt(a)}function Zr(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Gg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||zu)(t,n,e);if(!i)return{...Gg};const a={};Zn(i.posParams,(f,y)=>{a[y]=f.path});const d=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function Ku(n,e,t,r,i="corrected"){if(t.length>0&&function wT(n,e,t){return t.some(r=>Zg(n,e,r)&&Ps(r)!==Bt)}(n,t,r)){const d=new tn(e,function vT(n,e,t,r){const i={};i[Bt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Ps(a)!==Bt){const d=new tn([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[Ps(a)]=d}return i}(n,e,r,new tn(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function jw(n,e,t){return t.some(r=>Zg(n,e,r))}(n,t,r)){const d=new tn(n.segments,function $w(n,e,t,r,i,a){const d={};for(const f of r)if(Zg(n,t,f)&&!i[Ps(f)]){const y=new tn([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===a?n.segments.length:e.length,d[Ps(f)]=y}return{...i,...d}}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const a=new tn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Zg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function m_(n,e,t,r){return!!(Ps(n)===r||r!==Bt&&Zg(e,t,n))&&("**"===n.path||Zr(e,n,t).matched)}function Hw(n,e,t){return 0===e.length&&!n.children[t]}const bf=!1;class Wg{constructor(e){this.segmentGroup=e||null}}class zw{constructor(e){this.urlTree=e}}function Cf(n){return ro(new Wg(n))}function Gw(n){return ro(new zw(n))}class bT{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=Ku(this.urlTree.root,[],[],this.config).segmentGroup,t=new tn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Bt).pipe((0,ut.U)(a=>this.createUrlTree(b(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ze(a=>{if(a instanceof zw)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Wg?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Bt).pipe((0,ut.U)(i=>this.createUrlTree(b(i),e.queryParams,e.fragment))).pipe(ze(i=>{throw i instanceof Wg?this.noMatchError(i):i}))}noMatchError(e){return new l.vHH(4002,bf)}createUrlTree(e,t,r){const i=m(e);return new Ja(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,ut.U)(a=>new tn([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,an.D)(i).pipe(ae(a=>{const d=r.children[a],f=$g(t,a);return this.expandSegmentGroup(e,f,d,a).pipe((0,ut.U)(y=>({segment:y,outlet:a})))}),xt((a,d)=>(a[d.outlet]=d.segment,a),{}),mt())}expandSegment(e,t,r,i,a,d){return(0,an.D)(r).pipe(ae(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,d).pipe(ze(w=>{if(w instanceof Wg)return lt(null);throw w}))),Y(f=>!!f),ze((f,y)=>{if(Hg(f))return Hw(t,i,a)?lt(new tn([],{})):Cf(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,d,f){return m_(i,t,a,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d):Cf(t):Cf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Gw(a):this.lineralizeSegments(r,a).pipe((0,I.z)(d=>{const f=new tn(d,{});return this.expandSegment(e,f,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d){const{matched:f,consumedSegments:y,remainingSegments:w,positionalParamSegments:T}=Zr(t,i,a);if(!f)return Cf(t);const A=this.applyRedirectCommands(y,i.redirectTo,T);return i.redirectTo.startsWith("/")?Gw(A):this.lineralizeSegments(i,A).pipe((0,I.z)(F=>this.expandSegment(e,t,r,F.concat(w),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=kw(r,e),r.loadChildren?(r._loadedRoutes?lt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,ut.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new tn(i,{})))):lt(new tn(i,{}))):qg(t,r,i,e).pipe(qn(({matched:d,consumedSegments:f,remainingSegments:y})=>d?this.getChildConfig(e=r._injector??e,r,i).pipe((0,I.z)(T=>{const A=T.injector??e,F=T.routes,{segmentGroup:V,slicedSegments:z}=Ku(t,f,y,F),ie=new tn(V.segments,V.children);if(0===z.length&&ie.hasChildren())return this.expandChildren(A,F,ie).pipe((0,ut.U)(Ye=>new tn(f,Ye)));if(0===F.length&&0===z.length)return lt(new tn(f,{}));const ce=Ps(r)===a;return this.expandSegment(A,ie,F,z,ce?Bt:a,!0).pipe((0,ut.U)(Je=>new tn(f.concat(Je.segments),Je.children)))})):Cf(t)))}getChildConfig(e,t,r){return t.children?lt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?lt({routes:t._loadedRoutes,injector:t._loadedInjector}):function _T(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?lt(!0):lt(i.map(d=>{const f=vf(d,n);return uo(function h_(n){return n&&Md(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Od(),pi())}(e,t,r).pipe((0,I.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,be.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function Pd(n){return ro(Pw(bf,3))}())):lt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return lt(r);if(i.numberOfChildren>1||!i.children[Bt])return ro(new l.vHH(4e3,bf));i=i.children[Bt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new Ja(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Zn(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let d={};return Zn(t.children,(f,y)=>{d[y]=this.createSegmentGroup(e,f,r,i)}),new tn(a,d)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new l.vHH(4001,bf);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class pM{}class aa{constructor(e,t,r,i,a,d,f,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=f,this.urlSerializer=y}recognize(){const e=Ku(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Bt).pipe((0,ut.U)(t=>{if(null===t)return null;const r=new oa([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Bt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new sa(r,t),a=new n_(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=kg(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,an.D)(Object.keys(r.children)).pipe(ae(i=>{const a=r.children[i],d=$g(t,i);return this.processSegmentGroup(e,d,a,i)}),xt((i,a)=>i&&a?(i.push(...a),i):null),function Xn(n,e=!1){return(0,Rn.e)((t,r)=>{let i=0;t.subscribe((0,ar.x)(r,a=>{const d=n(a,i++);(d||e)&&r.next(a),!d&&r.complete()}))})}(i=>null!==i),D(null),mt(),(0,ut.U)(i=>{if(null===i)return null;const a=w_(i);return function __(n){n.sort((e,t)=>e.value.outlet===Bt?-1:t.value.outlet===Bt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,an.D)(t).pipe(ae(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,i,a)),Y(d=>!!d),ze(d=>{if(Hg(d))return Hw(r,i,a)?lt([]):lt(null);throw d}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!m_(t,r,i,a))return lt(null);let d;if("**"===t.path){const f=i.length>0?rf(i).parameters:{},y=Zw(r)+i.length;d=lt({snapshot:new oa(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Kg(t),Ps(t),t.component??t._loadedComponent??null,t,Rd(r),y,Yg(t),y),consumedSegments:[],remainingSegments:[]})}else d=qg(r,t,i,e).pipe((0,ut.U)(({matched:f,consumedSegments:y,remainingSegments:w,parameters:T})=>{if(!f)return null;const A=Zw(r)+y.length;return{snapshot:new oa(y,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Kg(t),Ps(t),t.component??t._loadedComponent??null,t,Rd(r),A,Yg(t),A),consumedSegments:y,remainingSegments:w}}));return d.pipe(qn(f=>{if(null===f)return lt(null);const{snapshot:y,consumedSegments:w,remainingSegments:T}=f;e=t._injector??e;const A=t._loadedInjector??e,F=function v_(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:V,slicedSegments:z}=Ku(r,w,T,F.filter(ce=>void 0===ce.redirectTo),this.relativeLinkResolution);if(0===z.length&&V.hasChildren())return this.processChildren(A,F,V).pipe((0,ut.U)(ce=>null===ce?null:[new sa(y,ce)]));if(0===F.length&&0===z.length)return lt([new sa(y,[])]);const ie=Ps(t)===a;return this.processSegment(A,F,V,z,ie?Bt:a).pipe((0,ut.U)(ce=>null===ce?null:[new sa(y,ce)]))}))}}function IT(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function w_(n){const e=[],t=new Set;for(const r of n){if(!IT(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=w_(r.children);e.push(new sa(r.value,i))}return e.filter(r=>!t.has(r))}function Rd(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Zw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Kg(n){return n.data||{}}function Yg(n){return n.resolve||{}}function Qg(n){return"string"==typeof n.title||null===n.title}function b_(n){return qn(e=>{const t=n(e);return t?(0,an.D)(t).pipe((0,ut.U)(()=>e)):lt(e)})}let Qw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Bt);return r}getResolvedTitleForRoute(t){return t.data[Dr]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Jw)},providedIn:"root"}),n})(),Jw=(()=>{class n extends Qw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Oi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ST{}class Xw extends class AT{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const If=new l.OlP("",{providedIn:"root",factory:()=>({})}),I_=new l.OlP("ROUTES");let T_=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return lt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=uo(t.loadComponent()).pipe((0,be.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),oo(()=>{this.componentLoaders.delete(t)})),i=new io(r,()=>new yr.x).pipe(Ss());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return lt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,ut.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,w,T=!1;Array.isArray(f)?w=f:(y=f.create(t).injector,w=bg(y.get(I_,[],l.XFs.Self|l.XFs.Optional)));return{routes:w.map(u_),injector:y}}),oo(()=>{this.childrenLoaders.delete(r)})),d=new io(a,()=>new yr.x).pipe(Ss());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return uo(t()).pipe((0,I.z)(r=>r instanceof l.YKP||Array.isArray(r)?lt(r):(0,an.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class eE{}class tE{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function nE(n){throw n}function rE(n,e,t){return e.parse("/")}const xT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_M={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function iE(){const n=(0,l.f3M)(lf),e=(0,l.f3M)(Vg),t=(0,l.f3M)(ke),r=(0,l.f3M)(l.zs3),i=(0,l.f3M)(l.Sil),a=(0,l.f3M)(I_,{optional:!0})??[],d=(0,l.f3M)(If,{optional:!0})??{},f=(0,l.f3M)(Jw),y=(0,l.f3M)(Qw,{optional:!0}),w=(0,l.f3M)(eE,{optional:!0}),T=(0,l.f3M)(ST,{optional:!0}),A=new dr(null,n,e,t,r,i,bg(a));return w&&(A.urlHandlingStrategy=w),T&&(A.routeReuseStrategy=T),A.titleStrategy=y??f,function Xg(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,A),A}let dr=(()=>{class n{constructor(t,r,i,a,d,f,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new yr.x,this.errorHandler=nE,this.malformedUriErrorHandler=rE,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>lt(void 0),this.urlHandlingStrategy=new tE,this.routeReuseStrategy=new Xw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(T_),this.configLoader.onLoadEndListener=F=>this.triggerEvent(new Tw(F)),this.configLoader.onLoadStartListener=F=>this.triggerEvent(new Iw(F)),this.ngModule=d.get(l.h0i),this.console=d.get(l.c2e);const A=d.get(l.R0b);this.isNgZoneEnabled=A instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function Cg(){return new Ja(new tn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Rg(this.currentUrlTree,this.rootComponentType),this.transitions=new Tn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(ri(i=>0!==i.id),(0,ut.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),qn(i=>{let a=!1,d=!1;return lt(i).pipe((0,be.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),qn(f=>{const y=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return D_(f.source)&&(this.browserUrlTree=f.extractedUrl),lt(f).pipe(qn(A=>{const F=this.transitions.getValue();return r.next(new e_(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),F!==this.transitions.getValue()?Rr.E:Promise.resolve(A)}),function CT(n,e,t,r){return qn(i=>function tu(n,e,t,r,i){return new bT(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,ut.U)(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,be.b)(A=>{this.currentNavigation={...this.currentNavigation,finalUrl:A.urlAfterRedirects},i.urlAfterRedirects=A.urlAfterRedirects}),function Kw(n,e,t,r,i,a){return(0,I.z)(d=>function gM(n,e,t,r,i,a,d="emptyOnly",f="legacy"){return new aa(n,e,t,r,i,d,f,a).recognize().pipe(qn(y=>null===y?function qw(n){return new _r.y(e=>e.error(n))}(new pM):lt(y)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,i,a).pipe((0,ut.U)(f=>({...d,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,be.b)(A=>{if(i.targetSnapshot=A.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(V,A)}this.browserUrlTree=A.urlAfterRedirects}const F=new nT(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);r.next(F)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:V,source:z,restoredState:ie,extras:ce}=f,Be=new e_(F,this.serializeUrl(V),z,ie);r.next(Be);const Je=Rg(V,this.rootComponentType).snapshot;return lt(i={...f,targetSnapshot:Je,urlAfterRedirects:V,extras:{...ce,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),Rr.E}),(0,be.b)(f=>{const y=new sM(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),(0,ut.U)(f=>i={...f,guards:dM(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function hT(n,e){return(0,I.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:d}}=t;return 0===d.length&&0===a.length?lt({...t,guardsResult:!0}):function fT(n,e,t,r){return(0,an.D)(n).pipe((0,I.z)(i=>function yT(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?lt(a.map(f=>{const y=jg(e)??i,w=vf(f,y);return uo(function Ef(n){return n&&Md(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):y.runInContext(()=>w(n,e,t,r))).pipe(Y())})).pipe(Od()):lt(!0)}(i.component,i.route,t,e,r)),Y(i=>!0!==i,!0))}(d,r,i,n).pipe((0,I.z)(f=>f&&function Vw(n){return"boolean"==typeof n}(f)?function p_(n,e,t,r){return(0,an.D)(e).pipe(ae(i=>na(function gT(n,e){return null!==n&&e&&e(new Dw(n)),lt(!0)}(i.route.parent,r),function pT(n,e){return null!==n&&e&&e(new Sw(n)),lt(!0)}(i.route,r),function Bw(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(d=>function hM(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Ii(()=>lt(d.guards.map(y=>{const w=jg(d.node)??t,T=vf(y,w);return uo(function f_(n){return n&&Md(n.canActivateChild)}(T)?T.canActivateChild(r,n):w.runInContext(()=>T(r,n))).pipe(Y())})).pipe(Od())));return lt(a).pipe(Od())}(n,i.path,t),function mT(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return lt(!0);const i=r.map(a=>Ii(()=>{const d=jg(e)??t,f=vf(a,d);return uo(function lT(n){return n&&Md(n.canActivate)}(f)?f.canActivate(e,n):d.runInContext(()=>f(e,n))).pipe(Y())}));return lt(i).pipe(Od())}(n,i.route,t))),Y(i=>!0!==i,!0))}(r,a,n,e):lt(f)),(0,ut.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,be.b)(f=>{if(i.guardsResult=f.guardsResult,N(f.guardsResult))throw Ug(0,f.guardsResult);const y=new oM(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(y)}),ri(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),b_(f=>{if(f.guards.canActivateChecks.length)return lt(f).pipe((0,be.b)(y=>{const w=new gf(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),qn(y=>{let w=!1;return lt(y).pipe(function mM(n,e){return(0,I.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return lt(t);let a=0;return(0,an.D)(i).pipe(ae(d=>function Nd(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!Qg(i)&&(a[Dr]=i.title),function E_(n,e,t,r){const i=function Yw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return lt({});const a={};return(0,an.D)(i).pipe((0,I.z)(d=>function DT(n,e,t,r){const i=jg(e)??r,a=vf(n,i);return uo(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[d],e,t,r).pipe(Y(),(0,be.b)(f=>{a[d]=f}))),Ut(1),function Nr(n){return(0,ut.U)(()=>n)}(a),ze(d=>Hg(d)?Rr.E:ro(d)))}(a,n,e,r).pipe((0,ut.U)(d=>(n._resolvedData=d,n.data=kg(n,t).resolve,i&&Qg(i)&&(n.data[Dr]=i.title),null)))}(d.route,r,n,e)),(0,be.b)(()=>a++),Ut(1),(0,I.z)(d=>a===i.length?lt(t):Rr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,be.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,be.b)(y=>{const w=new t_(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}))}),b_(f=>{const y=w=>{const T=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,be.b)(A=>{w.component=A}),(0,ut.U)(()=>{})));for(const A of w.children)T.push(...y(A));return T};return $u(y(f.targetSnapshot.root)).pipe(D(),Nn(1))}),b_(()=>this.afterPreactivation()),(0,ut.U)(f=>{const y=function Sd(n,e,t){const r=_f(n,e._root,t?t._root:void 0);return new Mw(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return i={...f,targetRouterState:y}}),(0,be.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,ut.U)(r=>(new l_(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,be.b)({next(){a=!0},complete(){a=!0}}),oo(()=>{a||d||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ze(f=>{if(d=!0,Rw(f)){s_(f)||(this.navigated=!0,this.restoreHistory(i,!0));const y=new Mg(i.id,this.serializeUrl(i.extractedUrl),f.message,f.cancellationCode);if(r.next(y),s_(f)){const w=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),T={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||D_(i.source)};this.scheduleNavigation(w,"imperative",null,T,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new Cw(i.id,this.serializeUrl(i.extractedUrl),f,i.targetSnapshot??void 0);r.next(y);try{i.resolve(this.errorHandler(f))}catch(w){i.reject(w)}}return Rr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const f={...a};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(i.state=f)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(u_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:d,queryParamsHandling:f,preserveFragment:y}=r,w=i||this.routerState.root,T=y?this.currentUrlTree.fragment:d;let A=null;switch(f){case"merge":A={...this.currentUrlTree.queryParams,...a};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=a||null}return null!==A&&(A=this.removeEmptyProps(A)),Xt(w,this.currentUrlTree,t,A,T??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=N(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function sE(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...xT}:!1===r?{..._M}:r,N(t))return Zy(this.currentUrlTree,t,i);const a=this.parseUrl(t);return Zy(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Yl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,d){if(this.disposed)return Promise.resolve(!1);let f,y,w;d?(f=d.resolve,y=d.reject,w=d.promise):w=new Promise((F,V)=>{f=F,y=V});const T=++this.navigationId;let A;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),A=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):A=0,this.setTransition({id:T,targetPageId:A,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:f,reject:y,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(F=>Promise.reject(F))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const a=new Mg(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return iE()},providedIn:"root"}),n})();function D_(n){return"imperative"!==n}let ho=(()=>{class n{constructor(t,r,i,a,d){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=d,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new yr.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(dr),l.Y36(Wu),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})(),Tf=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new yr.x,this.subscription=t.events.subscribe(a=>{a instanceof Yl&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,d){return!!(0!==t||r||i||a||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(dr),l.Y36(Wu),l.Y36(Ee))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&l.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&l.uIk("target",r.target)("href",r.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})(),Df=(()=>{class n{constructor(t,r,i,a,d,f){this.router=t,this.element=r,this.renderer=i,this.cdr=a,this.link=d,this.linkWithHref=f,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=t.events.subscribe(y=>{y instanceof Yl&&this.update()})}ngAfterContentInit(){lt(this.links.changes,this.linksWithHrefs.changes,lt(null)).pipe((0,ta.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,an.D)(t).pipe((0,ta.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function em(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(dr),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(ho,8),l.Y36(Tf,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,ho,5),l.Suo(i,Tf,5)),2&t){let a;l.iGM(a=l.CRH())&&(r.links=a),l.iGM(a=l.CRH())&&(r.linksWithHrefs=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]}),n})();class S_{}let A_=(()=>{class n{constructor(t,r,i,a,d){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(ri(t=>t instanceof Yl),ae(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,l.MMx)(a.providers,t,`Route: ${a.path}`));const d=a._injector??t,f=a._loadedInjector??d;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(d,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,an.D)(i).pipe((0,ta.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):lt(null);const a=i.pipe((0,I.z)(d=>null===d?lt(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,an.D)([a,d]).pipe((0,ta.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(dr),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(S_),l.LFG(T_))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xl=new l.OlP("");let aE=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof e_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Yl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Og&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Og(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ec(n,e){return{\u0275kind:n,\u0275providers:e}}function Af(n){return[{provide:I_,multi:!0,useValue:n}]}function PT(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(dr),i=n.get(x_);1===n.get(M_)&&r.initialNavigation(),n.get(Rs,null,l.XFs.Optional)?.setUpPreloading(),n.get(Xl,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const x_=new l.OlP("",{factory:()=>new yr.x}),M_=new l.OlP("",{providedIn:"root",factory:()=>1});const Rs=new l.OlP("");function kT(n){return ec(0,[{provide:Rs,useExisting:A_},{provide:S_,useExisting:n}])}const cE=new l.OlP("ROUTER_FORROOT_GUARD"),LT=[ke,{provide:lf,useClass:Gu},{provide:dr,useFactory:iE},Vg,{provide:Wu,useFactory:function uE(n){return n.routerState.root},deps:[dr]},T_];function dE(){return new l.PXZ("Router",dr)}let hE=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[LT,[],Af(t),{provide:cE,useFactory:fE,deps:[[dr,new l.FiY,new l.tp0]]},{provide:If,useValue:r||{}},r?.useHash?{provide:Ee,useClass:Xe}:{provide:Ee,useClass:tt},{provide:Xl,useFactory:()=>{const n=(0,l.f3M)(dr),e=(0,l.f3M)(Qc),t=(0,l.f3M)(If);return t.scrollOffset&&e.setOffset(t.scrollOffset),new aE(n,e,t)}},r?.preloadingStrategy?kT(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:dE},r?.initialNavigation?pE(r):[],[{provide:O_,useFactory:PT},{provide:l.tb,multi:!0,useExisting:O_}]]}}static forChild(t){return{ngModule:n,providers:[Af(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(cE,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Jl]}),n})();function fE(n){return"guarded"}function pE(n){return["disabled"===n.initialNavigation?ec(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(dr);return()=>{e.setUpLocationChangeListener()}}},{provide:M_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ec(2,[{provide:M_,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(Z,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(a=>{const d=e.get(dr),f=e.get(x_);(function i(a){e.get(dr).events.pipe(ri(f=>f instanceof Yl||f instanceof Mg||f instanceof Cw),(0,ut.U)(f=>f instanceof Yl||f instanceof Mg&&(0===f.code||1===f.code)&&null),ri(f=>null!==f),Nn(1)).subscribe(()=>{a()})})(()=>{a(!0),r=!0}),d.afterPreactivation=()=>(a(!0),r||f.closed?lt(void 0):f),d.initialNavigation()}))}}]).\u0275providers:[]]}const O_=new l.OlP("");var P_=k(4986),Wt=k(5813);function nm(){return(0,Rn.e)((n,e)=>{let t,r=!1;n.subscribe((0,ar.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function jT(n,e){return n===e}var wt,ki=k(2011),R_=(k(5881),k(3942)),ve=k(5861),Ti=k(9681),Yu=k(4859),la=k(1877),zt=k(2090),bM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qu={},N_=N_||{},Ht=bM||self;function k_(){}function rm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ca(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var im="closure_uid_"+(1e9*Math.random()>>>0),sm=0;function GT(n,e,t){return n.call.apply(n.bind,arguments)}function gE(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function gi(n,e,t){return(gi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?GT:gE).apply(null,arguments)}function om(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ii(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,a){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return e.prototype[i].apply(r,d)}}function Ju(){this.s=this.s,this.o=this.o}var mE={};Ju.prototype.s=!1,Ju.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function zT(n){return Object.prototype.hasOwnProperty.call(n,im)&&n[im]||(n[im]=++sm)}(this);delete mE[n]}},Ju.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function am(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function F_(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(rm(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let d=0;d<a;d++)n[i+d]=r[d]}else n.push(r)}}function Wr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Wr.prototype.h=function(){this.defaultPrevented=!0};var CM=function(){if(!Ht.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ht.addEventListener("test",k_,e),Ht.removeEventListener("test",k_,e)}catch{}return n}();function kd(n){return/^[\s\xa0]*$/.test(n)}var _E=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function vE(n,e){return n<e?-1:n>e?1:0}function nu(){var n=Ht.navigator;return n&&(n=n.userAgent)?n:""}function fo(n){return-1!=nu().indexOf(n)}function um(n){return um[" "](n),n}um[" "]=k_;var Fd,n,po=fo("Opera"),tc=fo("Trident")||fo("MSIE"),wE=fo("Edge"),xf=wE||tc,da=fo("Gecko")&&!(-1!=nu().toLowerCase().indexOf("webkit")&&!fo("Edge"))&&!(fo("Trident")||fo("MSIE"))&&!fo("Edge"),L_=-1!=nu().toLowerCase().indexOf("webkit")&&!fo("Edge");function U_(){var n=Ht.document;return n?n.documentMode:void 0}e:{var EE="",cm=(n=nu(),da?/rv:([^\);]+)(\)|;)/.exec(n):wE?/Edge\/([\d\.]+)/.exec(n):tc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):L_?/WebKit\/(\S+)/.exec(n):po?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(cm&&(EE=cm?cm[1]:""),tc){var bE=U_();if(null!=bE&&bE>parseFloat(EE)){Fd=String(bE);break e}}Fd=EE}var dm={};var V_=Ht.document&&tc&&(U_()||parseInt(Fd,10))||void 0;function pm(n,e){if(Wr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(da){e:{try{um(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ZT[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&pm.X.h.call(this)}}ii(pm,Wr);var ZT={2:"touch",3:"pen",4:"mouse"};pm.prototype.h=function(){pm.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Of="closure_listenable_"+(1e6*Math.random()|0),WT=0;function KT(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++WT,this.ba=this.ea=!1}function Pf(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function CE(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function IE(n){const e={};for(const t in n)e[t]=n[t];return e}const YT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B_(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<YT.length;a++)t=YT[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Rf(n){this.src=n,this.g={},this.h=0}function $_(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=yE(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Pf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Nf(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}Rf.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var d=Nf(n,e,r,i);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new KT(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var TE="closure_lm_"+(1e6*Math.random()|0),DE={};function QT(n,e,t,r,i){if(r&&r.once)return XT(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)QT(n,e[a],t,r,i);return null}return t=j_(t),n&&n[Of]?n.N(e,t,ca(r)?!!r.capture:!!r,i):JT(n,e,t,!1,r,i)}function JT(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var d=ca(i)?!!i.capture:!!i,f=ha(n);if(f||(n[TE]=f=new Rf(n)),(t=f.add(e,t,r,d,a)).proxy)return t;if(r=function IM(){const e=TM;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)CM||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(tD(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function XT(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)XT(n,e[a],t,r,i);return null}return t=j_(t),n&&n[Of]?n.O(e,t,ca(r)?!!r.capture:!!r,i):JT(n,e,t,!0,r,i)}function eD(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)eD(n,e[a],t,r,i);else r=ca(r)?!!r.capture:!!r,t=j_(t),n&&n[Of]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Nf(a=n.g[e],t,r,i))&&(Pf(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=ha(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Nf(e,t,r,i)),(t=-1<n?e[n]:null)&&SE(t))}function SE(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Of])$_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(tD(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=ha(e))?($_(t,n),0==t.h&&(t.src=null,e[TE]=null)):Pf(n)}}}function tD(n){return n in DE?DE[n]:DE[n]="on"+n}function TM(n,e){if(n.ba)n=!0;else{e=new pm(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&SE(n),n=t.call(r,e)}return n}function ha(n){return(n=n[TE])instanceof Rf?n:null}var kf="__closure_events_fn_"+(1e9*Math.random()>>>0);function j_(n){return"function"==typeof n?n:(n[kf]||(n[kf]=function(e){return n.handleEvent(e)}),n[kf])}function kr(){Ju.call(this),this.i=new Rf(this),this.P=this,this.I=null}function Fr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Wr(e,n);else if(e instanceof Wr)e.target=e.target||n;else{var i=e;B_(e=new Wr(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var d=e.g=t[a];i=Ff(d,r,!0,e)&&i}if(i=Ff(d=e.g=n,r,!0,e)&&i,i=Ff(d,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Ff(d=e.g=t[a],r,!1,e)&&i}function Ff(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var d=e[a];if(d&&!d.ba&&d.capture==t){var f=d.listener,y=d.ha||d.src;d.ea&&$_(n.i,d),i=!1!==f.call(y,r)&&i}}return i&&!r.defaultPrevented}ii(kr,Ju),kr.prototype[Of]=!0,kr.prototype.removeEventListener=function(n,e,t,r){eD(this,n,e,t,r)},kr.prototype.M=function(){if(kr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Pf(t[r]);delete n.g[e],n.h--}}this.I=null},kr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},kr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Lf=Ht.JSON.stringify;function nD(){var n=nc;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var G_,H_=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new rD,n=>n.reset());class rD{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function iD(n){Ht.setTimeout(()=>{throw n},0)}function z_(n,e){G_||function sD(){var n=Ht.Promise.resolve(void 0);G_=function(){n.then(q_)}}(),Ld||(G_(),Ld=!0),nc.add(n,e)}var Ld=!1,nc=new class Xu{constructor(){this.h=this.g=null}add(e,t){const r=H_.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function q_(){for(var n;n=nD();){try{n.h.call(n.g)}catch(t){iD(t)}var e=H_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ld=!1}function ru(n,e){kr.call(this),this.h=n||1,this.g=e||Ht,this.j=gi(this.lb,this),this.l=Date.now()}function Uf(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Ud(n,e,t){if("function"==typeof n)t&&(n=gi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=gi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ht.setTimeout(n,e||0)}function Z_(n){n.g=Ud(()=>{n.g=null,n.i&&(n.i=!1,Z_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ii(ru,kr),(wt=ru.prototype).ca=!1,wt.R=null,wt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Fr(this,"tick"),this.ca&&(Uf(this),this.start()))}},wt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wt.M=function(){ru.X.M.call(this),Uf(this),delete this.g};class AE extends Ju{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Z_(this)}M(){super.M(),this.g&&(Ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rc(n){Ju.call(this),this.h=n,this.g={}}ii(rc,Ju);var gm=[];function W_(n,e,t,r){Array.isArray(t)||(t&&(gm[0]=t.toString()),t=gm);for(var i=0;i<t.length;i++){var a=QT(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function mm(n){CE(n.g,function(e,t){this.g.hasOwnProperty(t)&&SE(e)},n),n.g={}}function ym(){this.g=!0}function ic(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function xE(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var d=1;d<i.length;d++)i[d]=""}}}return Lf(t)}catch{return e}}(n,t)+(r?" "+r:"")})}rc.prototype.M=function(){rc.X.M.call(this),mm(this)},rc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ym.prototype.Aa=function(){this.g=!1},ym.prototype.info=function(){};var el={},ME=null;function mi(){return ME=ME||new kr}function K_(n){Wr.call(this,el.Pa,n)}function Vf(n){const e=mi();Fr(e,new K_(e,n))}function uD(n,e){Wr.call(this,el.STAT_EVENT,n),this.stat=e}function Di(n){const e=mi();Fr(e,new uD(e,n))}function _m(n,e){Wr.call(this,el.Qa,n),this.size=e}function Vd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ht.setTimeout(function(){n()},e)}el.Pa="serverreachability",ii(K_,Wr),el.STAT_EVENT="statevent",ii(uD,Wr),el.Qa="timingevent",ii(_m,Wr);var vm={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},OE={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Y_(){}function PE(){}Y_.prototype.h=null;var wm,Bd={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function J_(){Wr.call(this,"d")}function X_(){Wr.call(this,"c")}function Bf(){}function $f(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new rc(this),this.O=ev,this.T=new ru(n=xf?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new go}function go(){this.i=null,this.g="",this.h=!1}ii(J_,Wr),ii(X_,Wr),ii(Bf,Y_),Bf.prototype.g=function(){return new XMLHttpRequest},Bf.prototype.i=function(){return{}},wm=new Bf;var ev=45e3,tv={},Em={};function RE(n,e,t){n.K=1,n.v=rl(fa(e)),n.s=t,n.P=!0,nv(n,null)}function nv(n,e){n.F=Date.now(),sc(n),n.A=fa(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),jE(t.i,"t",r),n.C=0,t=n.l.H,n.h=new go,n.g=fv(n.l,t?e:null,!n.s),0<n.N&&(n.L=new AE(gi(n.La,n,n.g),n.N)),W_(n.S,n.g,"readystatechange",n.ib),e=n.H?IE(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Vf(1),function DM(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var d="",f=a.split("&"),y=0;y<f.length;y++){var w=f[y].split("=");if(1<w.length){var T=w[0];w=w[1];var A=T.split("_");d=2<=A.length&&"type"==A[1]?d+(T+"=")+w+"&":d+(T+"=redacted&")}}else d=null;else d=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function NE(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function kE(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=lD(n,t),i==Em){4==e&&(n.o=4,Di(14),r=!1),ic(n.j,n.m,null,"[Incomplete Response]");break}if(i==tv){n.o=4,Di(15),ic(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ic(n.j,n.m,i,null),$d(n,i)}NE(n)&&i!=Em&&i!=tv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Di(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Qf(e),e.K=!0,Di(11))):(ic(n.j,n.m,t,"[Invalid Chunked Response]"),iu(n),tl(n))}function lD(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Em:(t=Number(e.substring(t,r)),isNaN(t)?tv:(r+=1)+t>e.length?Em:(e=e.substr(r,t),n.C=r+t,e))}function sc(n){n.V=Date.now()+n.O,FE(n,n.O)}function FE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Vd(gi(n.gb,n),e)}function bm(n){n.B&&(Ht.clearTimeout(n.B),n.B=null)}function tl(n){0==n.l.G||n.I||Jf(n.l,n)}function iu(n){bm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Uf(n.T),mm(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function $d(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||ov(t.h,n)))if(!n.J&&ov(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;pc(t),Wf(t)}Yf(t),Di(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Vd(gi(t.cb,t),6e3));if(1>=zE(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else gc(t,11)}else if((n.J||t.g==n)&&pc(t),!kd(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const T=w[3];null!=T&&(t.ma=T,t.j.info("VER="+t.ma));const A=w[4];null!=A&&(t.Ca=A,t.j.info("SVER="+t.Ca));const F=w[5];null!=F&&"number"==typeof F&&0<F&&(t.J=r=1.5*F,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const V=n.g;if(V){const z=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(z){var a=r.h;a.g||-1==z.indexOf("spdy")&&-1==z.indexOf("quic")&&-1==z.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(av(a,a.h),a.h=null))}if(r.D){const ie=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;ie&&(r.za=ie,Vn(r.F,r.D,ie))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=ep(r,r.H?r.ka:null,r.V),d.J){GE(r.h,d);var f=d,y=r.J;y&&f.setTimeout(y),f.B&&(bm(f),sc(f)),r.g=d}else hv(r);0<t.i.length&&Kf(t)}else"stop"!=w[0]&&"close"!=w[0]||gc(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?gc(t,7):xm(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}Vf(4)}catch{}}function cD(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(rm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function rv(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(rm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function SM(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(rm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(wt=$f.prototype).setTimeout=function(n){this.O=n},wt.ib=function(n){n=n.target;const e=this.L;e&&3==Fi(n)?e.l():this.La(n)},wt.La=function(n){try{if(n==this.g)e:{const T=Fi(this.g);var e=this.g.Ea();const A=this.g.aa();if(!(3>T)&&(3!=T||xf||this.g&&(this.h.h||this.g.fa()||uv(this.g)))){this.I||4!=T||7==e||Vf(8==e||0>=A?3:2),bm(this);var t=this.g.aa();this.Y=t;t:if(NE(this)){var r=uv(this.g);n="";var i=r.length,a=4==Fi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){iu(this),tl(this);var d="";break t}this.h.i=new Ht.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function oD(n,e,t,r,i,a,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+d})}(this.j,this.u,this.A,this.m,this.U,T,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kd(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Di(12),iu(this),tl(this);break e}ic(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,$d(this,t)}this.P?(kE(this,T,d),xf&&this.i&&3==T&&(W_(this.S,this.T,"tick",this.hb),this.T.start())):(ic(this.j,this.m,d,null),$d(this,d)),4==T&&iu(this),this.i&&!this.I&&(4==T?Jf(this.l,this):(this.i=!1,sc(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Di(12)):(this.o=0,Di(13)),iu(this),tl(this)}}}catch{}},wt.hb=function(){if(this.g){var n=Fi(this.g),e=this.g.fa();this.C<e.length&&(bm(this),kE(this,n,e),this.i&&4!=n&&sc(this))}},wt.cancel=function(){this.I=!0,iu(this)},wt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function aD(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Vf(3),Di(17)),iu(this),this.o=2,tl(this)):FE(this,this.V-n)};var iv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nl(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof nl){this.h=void 0!==e?e:n.h,jd(this,n.j),this.s=n.s,this.g=n.g,Ns(this,n.m),this.l=n.l,e=n.i;var t=new Gf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),jf(this,t),this.o=n.o}else n&&(t=String(n).match(iv))?(this.h=!!e,jd(this,t[1]||"",!0),this.s=Hf(t[2]||""),this.g=Hf(t[3]||"",!0),Ns(this,t[4]),this.l=Hf(t[5]||"",!0),jf(this,t[6]||"",!0),this.o=Hf(t[7]||"")):(this.h=!!e,this.i=new Gf(null,this.h))}function fa(n){return new nl(n)}function jd(n,e,t){n.j=t?Hf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ns(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function jf(n,e,t){e instanceof Gf?(n.i=e,function sv(n,e){e&&!n.j&&(ac(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(BE(this,r),jE(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=oc(e,hD)),n.i=new Gf(e,n.h))}function Vn(n,e,t){n.i.set(e,t)}function rl(n){return Vn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Hf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function oc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,UE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function UE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}nl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(oc(e,VE,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(oc(e,VE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(oc(t,"/"==t.charAt(0)?zf:dD,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",oc(t,AM)),n.join("")};var VE=/[#\/\?@]/g,dD=/[#\?:]/g,zf=/[#\?]/g,hD=/[#\?@]/g,AM=/#/g;function Gf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ac(n){n.g||(n.g=new Map,n.h=0,n.i&&function LE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function BE(n,e){ac(n),e=uc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function $E(n,e){return ac(n),e=uc(n,e),n.g.has(e)}function jE(n,e,t){BE(n,e),0<t.length&&(n.i=null,n.g.set(uc(n,e),am(t)),n.h+=t.length)}function uc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Cm(n){this.l=n||pD,n=Ht.PerformanceNavigationTiming?0<(n=Ht.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ht.g&&Ht.g.Ga&&Ht.g.Ga()&&Ht.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(wt=Gf.prototype).add=function(n,e){ac(this),this.i=null,n=uc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},wt.forEach=function(n,e){ac(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},wt.oa=function(){ac(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},wt.W=function(n){ac(this);let e=[];if("string"==typeof n)$E(this,n)&&(e=e.concat(this.g.get(uc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},wt.set=function(n,e){return ac(this),this.i=null,$E(this,n=uc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},wt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},wt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var i=a;""!==d[r]&&(i+="="+encodeURIComponent(String(d[r]))),n.push(i)}}return this.i=n.join("&")};var pD=10;function HE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function zE(n){return n.h?1:n.g?n.g.size:0}function ov(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function av(n,e){n.g?n.g.add(e):n.h=e}function GE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function qf(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return am(n.i)}function su(){}function xM(){this.g=new su}function Zf(n,e,t){const r=t||"";try{cD(n,function(i,a){let d=i;ca(i)&&(d=Lf(i)),e.push(r+a+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Im(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function lc(n){this.l=n.ac||null,this.j=n.jb||!1}function Tm(n,e){kr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=ks,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Cm.prototype.cancel=function(){if(this.i=qf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},su.prototype.stringify=function(n){return Ht.JSON.stringify(n,void 0)},su.prototype.parse=function(n){return Ht.JSON.parse(n,void 0)},ii(lc,Y_),lc.prototype.g=function(){return new Tm(this.l,this.j)},lc.prototype.i=function(n){return function(){return n}}({}),ii(Tm,kr);var ks=0;function Hd(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Sr(n){n.readyState=4,n.l=null,n.j=null,n.A=null,mo(n)}function mo(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(wt=Tm.prototype).open=function(n,e){if(this.readyState!=ks)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,mo(this)},wt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ht).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},wt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sr(this)),this.readyState=ks},wt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,mo(this)),this.g&&(this.readyState=3,mo(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Ht.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hd(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},wt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Sr(this):mo(this),3==this.readyState&&Hd(this)}},wt.Va=function(n){this.g&&(this.response=this.responseText=n,Sr(this))},wt.Ua=function(n){this.g&&(this.response=n,Sr(this))},wt.ga=function(){this.g&&Sr(this)},wt.setRequestHeader=function(n,e){this.v.append(n,e)},wt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},wt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Tm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Dm=Ht.JSON.parse;function fn(n){kr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Sm,this.K=this.L=!1}ii(fn,kr);var Sm="",zd=/^https?$/i,Gd=["POST","PUT"];function cc(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,dc(n),ou(n)}function dc(n){n.D||(n.D=!0,Fr(n,"complete"),Fr(n,"error"))}function hc(n){if(n.h&&typeof N_<"u"&&(!n.C[1]||4!=Fi(n)||2!=n.aa()))if(n.v&&4==Fi(n))Ud(n.Ha,0,n);else if(Fr(n,"readystatechange"),4==Fi(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(iv)[1]||null;if(!i&&Ht.self&&Ht.self.location){var a=Ht.self.location.protocol;i=a.substr(0,a.length-1)}r=!zd.test(i?i.toLowerCase():"")}t=r}if(t)Fr(n,"complete"),Fr(n,"success");else{n.m=6;try{var d=2<Fi(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",dc(n)}}finally{ou(n)}}}function ou(n,e){if(n.g){fc(n);const t=n.g,r=n.C[0]?k_:null;n.g=null,n.C=null,e||Fr(n,"ready");try{t.onreadystatechange=r}catch{}}}function fc(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ht.clearTimeout(n.A),n.A=null)}function Fi(n){return n.g?n.g.readyState:0}function uv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Sm:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function lv(n){let e="";return CE(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Am(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=lv(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Vn(n,e,t))}function Zd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function cv(n){this.Ca=0,this.i=[],this.j=new ym,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Zd("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Zd("baseRetryDelayMs",5e3,n),this.bb=Zd("retryDelaySeedMs",1e4,n),this.$a=Zd("forwardChannelMaxRetries",2,n),this.ta=Zd("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Cm(n&&n.concurrentRequestLimit),this.Fa=new xM,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function xm(n){if(dv(n),3==n.G){var e=n.U++,t=fa(n.F);Vn(t,"SID",n.I),Vn(t,"RID",e),Vn(t,"TYPE","terminate"),Wd(n,t),(e=new $f(n,n.j,e,void 0)).K=2,e.v=rl(fa(t)),t=!1,Ht.navigator&&Ht.navigator.sendBeacon&&(t=Ht.navigator.sendBeacon(e.v.toString(),"")),!t&&Ht.Image&&((new Image).src=e.v,t=!0),t||(e.g=fv(e.l,null),e.g.da(e.v)),e.F=Date.now(),sc(e)}Xf(n)}function Wf(n){n.g&&(Qf(n),n.g.cancel(),n.g=null)}function dv(n){Wf(n),n.u&&(Ht.clearTimeout(n.u),n.u=null),pc(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ht.clearTimeout(n.m),n.m=null)}function Kf(n){HE(n.h)||n.m||(n.m=!0,z_(n.Ja,n),n.C=0)}function qE(n,e){var t;t=e?e.m:n.U++;const r=fa(n.F);Vn(r,"SID",n.I),Vn(r,"RID",t),Vn(r,"AID",n.T),Wd(n,r),n.o&&n.s&&Am(r,n.o,n.s),t=new $f(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=ZE(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),av(n.h,t),RE(t,r,e)}function Wd(n,e){n.ia&&CE(n.ia,function(t,r){Vn(e,r,t)}),n.l&&cD({},function(t,r){Vn(e,r,t)})}function ZE(n,e,t){t=Math.min(n.i.length,t);var r=n.l?gi(n.l.Ra,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const d=["count="+t];-1==a?0<t?(a=i[0].h,d.push("ofs="+a)):a=0:d.push("ofs="+a);let f=!0;for(let y=0;y<t;y++){let w=i[y].h;const T=i[y].g;if(w-=a,0>w)a=Math.max(0,i[y].h-100),f=!1;else try{Zf(T,d,"req"+w+"_")}catch{r&&r(T)}}if(f){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function hv(n){n.g||n.u||(n.Z=1,z_(n.Ia,n),n.A=0)}function Yf(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Vd(gi(n.Ia,n),Mm(n,n.A)),n.A++,0))}function Qf(n){null!=n.B&&(Ht.clearTimeout(n.B),n.B=null)}function WE(n){n.g=new $f(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=fa(n.sa);Vn(e,"RID","rpc"),Vn(e,"SID",n.I),Vn(e,"CI",n.L?"0":"1"),Vn(e,"AID",n.T),Vn(e,"TYPE","xmlhttp"),Wd(n,e),n.o&&n.s&&Am(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=rl(fa(e)),t.s=null,t.P=!0,nv(t,n)}function pc(n){null!=n.v&&(Ht.clearTimeout(n.v),n.v=null)}function Jf(n,e){var t=null;if(n.g==e){pc(n),Qf(n),n.g=null;var r=2}else{if(!ov(n.h,e))return;t=e.D,GE(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Fr(r=mi(),new _m(r,t,e,i)),Kf(n)}else hv(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function mD(n,e){return!(zE(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Vd(gi(n.Ja,n,e),Mm(n,n.C)),n.C++,0)))}(n,e)||2==r&&Yf(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:gc(n,5);break;case 4:gc(n,10);break;case 3:gc(n,6);break;default:gc(n,2)}}function Mm(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function gc(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=gi(n.kb,n);t||(t=new nl("//www.google.com/images/cleardot.gif"),Ht.location&&"http"==Ht.location.protocol||jd(t,"https"),rl(t)),function gD(n,e){const t=new ym;if(Ht.Image){const r=new Image;r.onload=om(Im,t,r,"TestLoadImage: loaded",!0,e),r.onerror=om(Im,t,r,"TestLoadImage: error",!1,e),r.onabort=om(Im,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=om(Im,t,r,"TestLoadImage: timeout",!1,e),Ht.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Di(2);n.G=0,n.l&&n.l.va(e),Xf(n),dv(n)}function Xf(n){if(n.G=0,n.la=[],n.l){const e=qf(n.h);(0!=e.length||0!=n.i.length)&&(F_(n.la,e),F_(n.la,n.i),n.h.i.length=0,am(n.i),n.i.length=0),n.l.ua()}}function ep(n,e,t){var r=t instanceof nl?fa(t):new nl(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Ns(r,r.m);else{var i=Ht.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new nl(null,void 0);r&&jd(a,r),e&&(a.g=e),i&&Ns(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&Vn(r,t,e),Vn(r,"VER",n.ma),Wd(n,r),r}function fv(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new fn(t&&n.Da&&!n.ra?new lc({jb:!0}):n.ra)).Ka(n.H),e}function pv(){}function Kd(){if(tc&&!(10<=Number(V_)))throw Error("Environmental error: no available transport.")}function Li(n,e){kr.call(this),this.g=new cv(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!kd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!kd(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new mc(this)}function gv(n){J_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Om(){X_.call(this),this.status=1}function mc(n){this.g=n}(wt=fn.prototype).Ka=function(n){this.L=n},wt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():wm.g(),this.C=function Q_(n){return n.h||(n.h=n.i())}(this.u?this.u:wm),this.g.onreadystatechange=gi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void cc(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Ht.FormData&&n instanceof Ht.FormData,!(0<=yE(Gd,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,d]of t)this.g.setRequestHeader(a,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fc(this),0<this.B&&((this.K=function qd(n){return tc&&function hm(){return function lm(n){var e=dm;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=_E(String(Fd)).split("."),t=_E("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",a=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=vE(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||vE(0==i[2].length,0==a[2].length)||vE(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gi(this.qa,this)):this.A=Ud(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){cc(this,a)}},wt.qa=function(){typeof N_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fr(this,"timeout"),this.abort(8))},wt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Fr(this,"complete"),Fr(this,"abort"),ou(this))},wt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ou(this,!0)),fn.X.M.call(this)},wt.Ha=function(){this.s||(this.F||this.v||this.l?hc(this):this.fb())},wt.fb=function(){hc(this)},wt.aa=function(){try{return 2<Fi(this)?this.g.status:-1}catch{return-1}},wt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},wt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Dm(e)}},wt.Ea=function(){return this.m},wt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(wt=cv.prototype).ma=8,wt.G=1,wt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new $f(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=IE(a),B_(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ZE(this,i,e),Vn(t=fa(this.F),"RID",n),Vn(t,"CVER",22),this.D&&Vn(t,"X-HTTP-Session-Id",this.D),Wd(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(lv(a)))+"&"+e:this.o&&Am(t,this.o,a)),av(this.h,i),this.Ya&&Vn(t,"TYPE","init"),this.O?(Vn(t,"$req",e),Vn(t,"SID","null"),i.Z=!0,RE(i,t,null)):RE(i,t,e),this.G=2}}else 3==this.G&&(n?qE(this,n):0==this.i.length||HE(this.h)||qE(this))},wt.Ia=function(){if(this.u=null,WE(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Vd(gi(this.eb,this),n)}},wt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Di(10),Wf(this),WE(this))},wt.cb=function(){null!=this.v&&(this.v=null,Wf(this),Yf(this),Di(19))},wt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Di(2)):(this.j.info("Failed to ping google.com"),Di(1))},(wt=pv.prototype).xa=function(){},wt.wa=function(){},wt.va=function(){},wt.ua=function(){},wt.Ra=function(){},Kd.prototype.g=function(n,e){return new Li(n,e)},ii(Li,kr),Li.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Di(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=ep(n,null,n.V),Kf(n)},Li.prototype.close=function(){xm(this.g)},Li.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Lf(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Kf(e)},Li.prototype.M=function(){this.g.l=null,delete this.j,xm(this.g),delete this.g,Li.X.M.call(this)},ii(gv,J_),ii(Om,X_),ii(mc,pv),mc.prototype.xa=function(){Fr(this.g,"a")},mc.prototype.wa=function(n){Fr(this.g,new gv(n))},mc.prototype.va=function(n){Fr(this.g,new Om(n))},mc.prototype.ua=function(){Fr(this.g,"b")},Kd.prototype.createWebChannel=Kd.prototype.g,Li.prototype.send=Li.prototype.u,Li.prototype.open=Li.prototype.m,Li.prototype.close=Li.prototype.close,vm.NO_ERROR=0,vm.TIMEOUT=8,vm.HTTP_ERROR=6,OE.COMPLETE="complete",PE.EventType=Bd,Bd.OPEN="a",Bd.CLOSE="b",Bd.ERROR="c",Bd.MESSAGE="d",kr.prototype.listen=kr.prototype.N,fn.prototype.listenOnce=fn.prototype.O,fn.prototype.getLastError=fn.prototype.Oa,fn.prototype.getLastErrorCode=fn.prototype.Ea,fn.prototype.getStatus=fn.prototype.aa,fn.prototype.getResponseJson=fn.prototype.Sa,fn.prototype.getResponseText=fn.prototype.fa,fn.prototype.send=fn.prototype.da,fn.prototype.setWithCredentials=fn.prototype.Ka;var yD=Qu.createWebChannelTransport=function(){return new Kd},KE=Qu.getStatEventTarget=function(){return mi()},Pm=Qu.ErrorCode=vm,YE=Qu.EventType=OE,QE=Qu.Event=el,JE=Qu.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},_D=Qu.FetchXmlHttpFactory=lc,Rm=Qu.WebChannel=PE,mv=Qu.XhrIo=fn;const tp="@firebase/firestore";class Lr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lr.UNAUTHENTICATED=new Lr(null),Lr.GOOGLE_CREDENTIALS=new Lr("google-credentials-uid"),Lr.FIRST_PARTY=new Lr("first-party-uid"),Lr.MOCK_USER=new Lr("mock-user");let yc="9.12.1";const au=new la.Yd("@firebase/firestore");function Nm(){return au.logLevel}function $e(n,...e){if(au.logLevel<=la.in.DEBUG){const t=e.map(eb);au.debug(`Firestore (${yc}): ${n}`,...t)}}function hr(n,...e){if(au.logLevel<=la.in.ERROR){const t=e.map(eb);au.error(`Firestore (${yc}): ${n}`,...t)}}function il(n,...e){if(au.logLevel<=la.in.WARN){const t=e.map(eb);au.warn(`Firestore (${yc}): ${n}`,...t)}}function eb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ct(n="Unexpected state"){const e=`FIRESTORE (${yc}) INTERNAL ASSERTION FAILED: `+n;throw hr(e),new Error(e)}function Rt(n,e){n||ct()}function Qe(n,e){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends zt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class nb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Lr.UNAUTHENTICATED))}shutdown(){}}class vD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ib{constructor(e){this.t=e,this.currentUser=Lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Ur,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=d;e.enqueueRetryable((0,ve.Z)(function*(){yield w.promise,yield a(r.currentUser)}))},y=w=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Ur)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rt("string"==typeof r.accessToken),new nb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rt(null===e||"string"==typeof e),new Lr(e)}}class sb{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Lr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Rt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Yd{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new sb(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ob{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wD{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const d=a.token!==this.A;return this.A=a.token,$e("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Rt("string"==typeof t.token),this.A=t.token,new ob(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function bD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class yv{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=bD(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Zt(n,e){return n<e?-1:n>e?1:0}function sl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function km(n){return n+"\0"}class pn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pn.fromMillis(Date.now())}static fromDate(e){return pn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new pn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new pn(0,0))}static max(){return new Nt(new pn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qd{constructor(e,t,r){void 0===t?t=0:t>e.length&&ct(),void 0===r?r=e.length-t:r>e.length-t&&ct(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Qd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qd?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),d=t.get(i);if(a<d)return-1;if(a>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Kt extends Qd{construct(e,t,r){return new Kt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Kt(t)}static emptyPath(){return new Kt([])}}const yo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends Qd{construct(e,t,r){return new En(e,t,r)}static isValidIdentifier(e){return yo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new En(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Fe(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Fe(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Fe(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===f?(d=!d,i++):"."!==f||d?(r+=f,i++):(a(),i++)}if(a(),d)throw new Fe(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(t)}static emptyPath(){return new En([])}}class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(Kt.fromString(e))}static fromName(e){return new Ke(Kt.fromString(e).popFirst(5))}static empty(){return new Ke(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Kt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new Kt(e.slice()))}}class np{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function _v(n){return n.fields.find(e=>2===e.kind)}function _c(n){return n.fields.filter(e=>2!==e.kind)}np.UNKNOWN_ID=-1;class Fm{constructor(e,t){this.fieldPath=e,this.kind=t}}class uu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new uu(0,ls.min())}}function ab(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Nt.fromTimestamp(1e9===r?new pn(t+1,0):new pn(t,r));return new ls(i,Ke.empty(),e)}function wv(n){return new ls(n.readTime,n.key,-1)}class ls{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ls(Nt.min(),Ke.empty(),-1)}static max(){return new ls(Nt.max(),Ke.empty(),-1)}}function Lm(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ke.comparator(n.documentKey,e.documentKey),0!==t?t:Zt(n.largestBatchId,e.largestBatchId))}const Ev="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ol(n){return Um.apply(this,arguments)}function Um(){return Um=(0,ve.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==Ev)throw n;$e("LocalStore","Unexpectedly lost primary lease")}),Um.apply(this,arguments)}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,r)=>{t(e)})}static reject(e){return new de((t,r)=>{r(e)})}static waitFor(e){return new de((t,r)=>{let i=0,a=0,d=!1;e.forEach(f=>{++i,f.next(()=>{++a,d&&a===i&&t()},y=>r(y))}),d=!0,a===i&&t()})}static or(e){let t=de.resolve(!1);for(const r of e)t=t.next(i=>i?de.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new de((r,i)=>{const a=e.length,d=new Array(a);let f=0;for(let y=0;y<a;y++){const w=y;t(e[w]).next(T=>{d[w]=T,++f,f===a&&r(d)},T=>i(T))}})}static doWhile(e,t){return new de((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class Jd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Ur,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Xd(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=Vm(r.target.error);this.P.reject(new Xd(e,i))}}static open(e,t,r,i){try{return new Jd(t,e.transaction(i,r))}catch(a){throw new Xd(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||($e("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new lb(t)}}class Ui{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Ui.D((0,zt.z$)())&&hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $e("SimpleDb","Removing database:",e),al(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,zt.hl)())return!1;if(Ui.N())return!0;const e=(0,zt.z$)(),t=Ui.D(e),r=0<t&&t<10,i=Ui.k(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,ve.Z)(function*(){return t.db||($e("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=d=>{r(d.target.result)},a.onblocked=()=>{i(new Xd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=d=>{const f=d.target.error;i("VersionError"===f.name?new Fe(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Fe(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Xd(e,f))},a.onupgradeneeded=d=>{$e("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,a.transaction,d.oldVersion,t.version).next(()=>{$e("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,ve.Z)(function*(){const d="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.F(e);const y=Jd.open(a.db,e,d?"readonly":"readwrite",r),w=i(y).next(T=>(y.V(),T)).catch(T=>(y.abort(T),de.reject(T))).toPromise();return w.catch(()=>{}),yield y.v,w}catch(y){const w=y,T="FirebaseError"!==w.name&&f<3;if($e("SimpleDb","Transaction failed with error:",w.message,"Retrying:",T),a.close(),!T)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ub{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return al(this.U.delete())}}class Xd extends Fe{constructor(e,t){super(ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function lu(n){return"IndexedDbTransactionError"===n.name}class lb{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?($e("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),al(r)}add(e){return $e("SimpleDb","ADD",this.store.name,e,e),al(this.store.add(e))}get(e){return al(this.store.get(e)).next(t=>(void 0===t&&(t=null),$e("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return $e("SimpleDb","DELETE",this.store.name,e),al(this.store.delete(e))}count(){return $e("SimpleDb","COUNT",this.store.name),al(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.H(i,(d,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new de((a,d)=>{i.onerror=f=>{d(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new de((i,a)=>{r.onerror=d=>{a(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Y(e,t){$e("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(a,d,f)=>f.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new de((r,i)=>{t.onerror=a=>{const d=Vm(a.target.error);i(d)},t.onsuccess=a=>{const d=a.target.result;d?e(d.primaryKey,d.value).next(f=>{f?d.continue():r()}):r()}})}H(e,t){const r=[];return new de((i,a)=>{e.onerror=d=>{a(d.target.error)},e.onsuccess=d=>{const f=d.target.result;if(!f)return void i();const y=new ub(f),w=t(f.primaryKey,f.value,y);if(w instanceof de){const T=w.catch(A=>(y.done(),de.reject(A)));r.push(T)}y.isDone?i():null===y.G?f.continue():f.continue(y.G)}}).next(()=>de.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function al(n){return new de((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Vm(r.target.error);t(i)}})}let bv=!1;function Vm(n){const e=Ui.D((0,zt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bv||(bv=!0,setTimeout(()=>{throw r},0)),r}}return n}class cb{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;$e("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ve.Z)(function*(){t.task=null;try{$e("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){lu(r)?$e("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield ol(r)}yield t.nt(6e4)}))}}class ID{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ve.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,a=!0;return de.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return $e("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,i).next(f=>{i-=f,r.add(d)});a=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const d=a.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(i,a)).next(f=>($e("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,a)=>{const d=wv(a);Lm(d,r)>0&&(r=d)}),new ls(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Vi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function db(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function vc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Vi.at=-1;class fr{constructor(e,t){this.comparator=e,this.root=t||si.EMPTY}insert(e,t){return new fr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,si.BLACK,null,null))}remove(e){return new fr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,si.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bm(this.root,e,this.comparator,!0)}}class Bm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class si{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??si.RED,this.left=i??si.EMPTY,this.right=a??si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new si(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return si.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const e=this.left.check();if(e!==this.right.check())throw ct();return e+(this.isRed()?0:1)}}si.EMPTY=null,si.RED=!0,si.BLACK=!1,si.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(n,e,t,r,i){return this}insert(n,e,t){return new si(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kn{constructor(e){this.comparator=e,this.data=new fr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fb(this.data.getIterator())}getIteratorFrom(e){return new fb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof kn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kn(this.comparator);return t.data=e,t}}class fb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function eh(n){return n.hasNext()?n.getNext():void 0}class cs{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new cs([])}unionWith(e){let t=new kn(En.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new cs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Vr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Vr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Vr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vr.EMPTY_BYTE_STRING=new Vr("");const DD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ul(n){if(Rt(!!n),"string"==typeof n){let e=0;const t=DD.exec(n);if(Rt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pr(n.seconds),nanos:pr(n.nanos)}}function pr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function wc(n){return"string"==typeof n?Vr.fromBase64String(n):Vr.fromUint8Array(n)}function $m(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Cv(n){const e=n.mapValue.fields.__previous_value__;return $m(e)?Cv(e):e}function th(n){const e=ul(n.mapValue.fields.__local_write_time__.timestampValue);return new pn(e.seconds,e.nanos)}class pb{constructor(e,t,r,i,a,d,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=y}}class cu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new cu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}function nh(n){return null==n}function rh(n){return 0===n&&1/n==-1/0}function Iv(n){return"number"==typeof n&&Number.isInteger(n)&&!rh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const du={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ip={nullValue:"NULL_VALUE"};function hu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$m(n)?4:gb(n)?9007199254740991:10:ct()}function yi(n,e){if(n===e)return!0;const t=hu(n);if(t!==hu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return th(n).isEqual(th(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=ul(r.timestampValue),d=ul(i.timestampValue);return a.seconds===d.seconds&&a.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,wc(n.bytesValue).isEqual(wc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return pr(r.geoPointValue.latitude)===pr(i.geoPointValue.latitude)&&pr(r.geoPointValue.longitude)===pr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return pr(r.integerValue)===pr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=pr(r.doubleValue),d=pr(i.doubleValue);return a===d?rh(a)===rh(d):isNaN(a)&&isNaN(d)}return!1}(n,e);case 9:return sl(n.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:return function(r,i){const a=r.mapValue.fields||{},d=i.mapValue.fields||{};if(db(a)!==db(d))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===d[f]||!yi(a[f],d[f])))return!1;return!0}(n,e);default:return ct()}var i}function sp(n,e){return void 0!==(n.values||[]).find(t=>yi(t,e))}function ll(n,e){if(n===e)return 0;const t=hu(n),r=hu(e);if(t!==r)return Zt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const d=pr(i.integerValue||i.doubleValue),f=pr(a.integerValue||a.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return Ec(n.timestampValue,e.timestampValue);case 4:return Ec(th(n),th(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return function(i,a){const d=wc(i),f=wc(a);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const d=i.split("/"),f=a.split("/");for(let y=0;y<d.length&&y<f.length;y++){const w=Zt(d[y],f[y]);if(0!==w)return w}return Zt(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const d=Zt(pr(i.latitude),pr(a.latitude));return 0!==d?d:Zt(pr(i.longitude),pr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const d=i.values||[],f=a.values||[];for(let y=0;y<d.length&&y<f.length;++y){const w=ll(d[y],f[y]);if(w)return w}return Zt(d.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===du.mapValue&&a===du.mapValue)return 0;if(i===du.mapValue)return 1;if(a===du.mapValue)return-1;const d=i.fields||{},f=Object.keys(d),y=a.fields||{},w=Object.keys(y);f.sort(),w.sort();for(let T=0;T<f.length&&T<w.length;++T){const A=Zt(f[T],w[T]);if(0!==A)return A;const F=ll(d[f[T]],y[w[T]]);if(0!==F)return F}return Zt(f.length,w.length)}(n.mapValue,e.mapValue);default:throw ct()}}function Ec(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zt(n,e);const t=ul(n),r=ul(e),i=Zt(t.seconds,r.seconds);return 0!==i?i:Zt(t.nanos,r.nanos)}function op(n){return ap(n)}function ap(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ul(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?wc(n.bytesValue).toBase64():"referenceValue"in n?Ke.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const d of r.values||[])a?a=!1:i+=",",i+=ap(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",d=!0;for(const f of i)d?d=!1:a+=",",a+=`${f}:${ap(r.fields[f])}`;return a+"}"}(n.mapValue):ct();var e}function ih(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function jm(n){return!!n&&"integerValue"in n}function sh(n){return!!n&&"arrayValue"in n}function SD(n){return!!n&&"nullValue"in n}function St(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hm(n){return!!n&&"mapValue"in n}function up(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return vc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=up(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=up(n.arrayValue.values[t]);return e}return Object.assign({},n)}function gb(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function oh(n){return"nullValue"in n?ip:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ih(cu.empty(),Ke.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ct()}function AD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ih(cu.empty(),Ke.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?du:ct()}function lp(n,e){const t=ll(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function cp(n,e){const t=ll(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Hm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=up(t)}setAll(e){let t=En.emptyPath(),r={},i=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=f.popLast()}d?r[f.lastSegment()]=up(d):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Hm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Hm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){vc(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new rn(up(this.value))}}function xD(n){const e=[];return vc(n.fields,(t,r)=>{const i=new En([t]);if(Hm(r)){const a=xD(r.mapValue).fields;if(0===a.length)e.push(i);else for(const d of a)e.push(i.child(d))}else e.push(i)}),new cs(e)}class Bn{constructor(e,t,r,i,a,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=d}static newInvalidDocument(e){return new Bn(e,0,Nt.min(),Nt.min(),rn.empty(),0)}static newFoundDocument(e,t,r){return new Bn(e,1,t,Nt.min(),r,0)}static newNoDocument(e,t){return new Bn(e,2,t,Nt.min(),rn.empty(),0)}static newUnknownDocument(e,t){return new Bn(e,3,t,Nt.min(),rn.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mb{constructor(e,t=null,r=[],i=[],a=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=d,this.endAt=f,this.ht=null}}function yb(n,e=null,t=[],r=[],i=null,a=null,d=null){return new mb(n,e,t,r,i,a,d)}function cl(n){const e=Qe(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+op(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),nh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>op(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>op(r)).join(",")),e.ht=t}return e.ht}function ah(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!ND(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!yi(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Tb(n.startAt,e.startAt)&&Tb(n.endAt,e.endAt)}function dp(n){return Ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function zm(n,e){return n.filters.filter(t=>t instanceof wr&&t.field.isEqual(e))}function vb(n,e,t){let r=ip,i=!0;for(const a of zm(n,e)){let d=ip,f=!0;switch(a.op){case"<":case"<=":d=oh(a.value);break;case"==":case"in":case">=":d=a.value;break;case">":d=a.value,f=!1;break;case"!=":case"not-in":d=ip}lp({value:r,inclusive:i},{value:d,inclusive:f})<0&&(r=d,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const d=t.position[a];lp({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function wb(n,e,t){let r=du,i=!0;for(const a of zm(n,e)){let d=du,f=!0;switch(a.op){case">=":case">":d=AD(a.value),f=!1;break;case"==":case"in":case"<=":d=a.value;break;case"<":d=a.value,f=!1;break;case"!=":case"not-in":d=du}cp({value:r,inclusive:i},{value:d,inclusive:f})>0&&(r=d,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const d=t.position[a];cp({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class wr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new MD(e,t,r):"array-contains"===t?new Eb(e,r):"in"===t?new bb(e,r):"not-in"===t?new Cb(e,r):"array-contains-any"===t?new RD(e,r):new wr(e,t,r)}static lt(e,t,r){return"in"===t?new OD(e,r):new PD(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(ll(t,this.value)):null!==t&&hu(this.value)===hu(t)&&this.ft(ll(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ct()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class MD extends wr{constructor(e,t,r){super(e,t,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const t=Ke.comparator(e.key,this.key);return this.ft(t)}}class OD extends wr{constructor(e,t){super(e,"in",t),this.keys=hp(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class PD extends wr{constructor(e,t){super(e,"not-in",t),this.keys=hp(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function hp(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class Eb extends wr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sh(t)&&sp(t.arrayValue,this.value)}}class bb extends wr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&sp(this.value.arrayValue,t)}}class Cb extends wr{constructor(e,t){super(e,"not-in",t)}matches(e){if(sp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!sp(this.value.arrayValue,t)}}class RD extends wr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>sp(this.value.arrayValue,r))}}class Fs{constructor(e,t){this.position=e,this.inclusive=t}}class pa{constructor(e,t="asc"){this.field=e,this.dir=t}}function ND(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Ib(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],d=n.position[i];if(r=a.field.isKeyField()?Ke.comparator(Ke.fromName(d.referenceValue),t.key):ll(d,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Tb(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yi(n.position[t],e.position[t]))return!1;return!0}class ga{constructor(e,t=null,r=[],i=[],a=null,d="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=d,this.startAt=f,this.endAt=y,this._t=null,this.wt=null}}function Tv(n,e,t,r,i,a,d,f){return new ga(n,e,t,r,i,a,d,f)}function bc(n){return new ga(n)}function Db(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Gm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Dv(n){for(const e of n.filters)if(e.dt())return e.field;return null}function Sv(n){return null!==n.collectionGroup}function fp(n){const e=Qe(n);if(null===e._t){e._t=[];const t=Dv(e),r=Gm(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new pa(t)),e._t.push(new pa(En.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new pa(En.keyField(),a))}}}return e._t}function Bi(n){const e=Qe(n);if(!e.wt)if("F"===e.limitType)e.wt=yb(e.path,e.collectionGroup,fp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of fp(e))t.push(new pa(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Fs(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Fs(e.startAt.position,e.startAt.inclusive):null;e.wt=yb(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function Av(n,e,t){return new ga(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qm(n,e){return ah(Bi(n),Bi(e))&&n.limitType===e.limitType}function xv(n){return`${cl(Bi(n))}|lt:${n.limitType}`}function uh(n){return`Query(target=${function _b(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${op(r.value)}`;var r}).join(", ")}]`),nh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>op(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>op(t)).join(",")),`Target(${e})`}(Bi(n))}; limitType=${n.limitType})`}function Mv(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ke.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,d){const f=Ib(i,a,d);return i.inclusive?f<=0:f<0}(t.startAt,fp(t),r)||t.endAt&&!function(i,a,d){const f=Ib(i,a,d);return i.inclusive?f>=0:f>0}(t.endAt,fp(t),r)));var t,r}function Sb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Ov(n){return(e,t)=>{let r=!1;for(const i of fp(n)){const a=pp(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function pp(n,e,t){const r=n.field.isKeyField()?Ke.comparator(e.key,t.key):function(i,a,d){const f=a.data.field(i),y=d.data.field(i);return null!==f&&null!==y?ll(f,y):ct()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ct()}}function Ab(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function xb(n){return{integerValue:""+n}}function Mb(n,e){return Iv(e)?xb(e):Ab(n,e)}class Zm{constructor(){this._=void 0}}function kD(n,e,t){return n instanceof lh?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof _o?Rb(n,e):n instanceof dl?Nb(n,e):function(r,i){const a=Pb(r,i),d=kb(a)+kb(r.yt);return jm(a)&&jm(r.yt)?xb(d):Ab(r.It,d)}(n,e)}function Ob(n,e,t){return n instanceof _o?Rb(n,e):n instanceof dl?Nb(n,e):t}function Pb(n,e){return n instanceof Cc?jm(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class lh extends Zm{}class _o extends Zm{constructor(e){super(),this.elements=e}}function Rb(n,e){const t=Pv(e);for(const r of n.elements)t.some(i=>yi(i,r))||t.push(r);return{arrayValue:{values:t}}}class dl extends Zm{constructor(e){super(),this.elements=e}}function Nb(n,e){let t=Pv(e);for(const r of n.elements)t=t.filter(i=>!yi(i,r));return{arrayValue:{values:t}}}class Cc extends Zm{constructor(e,t){super(),this.It=e,this.yt=t}}function kb(n){return pr(n.integerValue||n.doubleValue)}function Pv(n){return sh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class gp{constructor(e,t){this.field=e,this.transform=t}}class FD{constructor(e,t){this.version=e,this.transformResults=t}}class Wn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Wm{}function Fb(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new dh(n.key,Wn.none()):new ch(n.key,n.data,Wn.none());{const t=n.data,r=rn.empty();let i=new kn(En.comparator);for(let a of e.fields)if(!i.has(a)){let d=t.field(a);null===d&&a.length>1&&(a=a.popLast(),d=t.field(a)),null===d?r.delete(a):r.set(a,d),i=i.add(a)}return new fu(n.key,r,new cs(i.toArray()),Wn.none())}}function LD(n,e,t){n instanceof ch?function(r,i,a){const d=r.value.clone(),f=Ub(r.fieldTransforms,i,a.transformResults);d.setAll(f),i.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(n,e,t):n instanceof fu?function(r,i,a){if(!mp(r.precondition,i))return void i.convertToUnknownDocument(a.version);const d=Ub(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(Lb(r)),f.setAll(d),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ic(n,e,t,r){return n instanceof ch?function(i,a,d,f){if(!mp(i.precondition,a))return d;const y=i.value.clone(),w=Vb(i.fieldTransforms,f,a);return y.setAll(w),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof fu?function(i,a,d,f){if(!mp(i.precondition,a))return d;const y=Vb(i.fieldTransforms,f,a),w=a.data;return w.setAll(Lb(i)),w.setAll(y),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(d=t,mp(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):d);var a,d}function UD(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=Pb(r.transform,i||null);null!=a&&(null===t&&(t=rn.empty()),t.set(r.field,a))}return t||null}function Nv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&sl(t,r,(i,a)=>function Rv(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof _o&&r instanceof _o||t instanceof dl&&r instanceof dl?sl(t.elements,r.elements,yi):t instanceof Cc&&r instanceof Cc?yi(t.yt,r.yt):t instanceof lh&&r instanceof lh);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class ch extends Wm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fu extends Wm{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Lb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Ub(n,e,t){const r=new Map;Rt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],d=a.transform,f=e.data.field(a.field);r.set(a.field,Ob(d,f,t[i]))}return r}function Vb(n,e,t){const r=new Map;for(const i of n){const a=i.transform,d=t.data.field(i.field);r.set(i.field,kD(a,d,e))}return r}class dh extends Wm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kv extends Wm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VD{constructor(e){this.count=e}}var Er,dn;function Bb(n){switch(n){default:return ct();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function $b(n){if(void 0===n)return hr("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Er.OK:return ue.OK;case Er.CANCELLED:return ue.CANCELLED;case Er.UNKNOWN:return ue.UNKNOWN;case Er.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Er.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Er.INTERNAL:return ue.INTERNAL;case Er.UNAVAILABLE:return ue.UNAVAILABLE;case Er.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Er.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Er.NOT_FOUND:return ue.NOT_FOUND;case Er.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Er.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Er.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Er.ABORTED:return ue.ABORTED;case Er.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Er.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Er.DATA_LOSS:return ue.DATA_LOSS;default:return ct()}}(dn=Er||(Er={}))[dn.OK=0]="OK",dn[dn.CANCELLED=1]="CANCELLED",dn[dn.UNKNOWN=2]="UNKNOWN",dn[dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dn[dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dn[dn.NOT_FOUND=5]="NOT_FOUND",dn[dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",dn[dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",dn[dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",dn[dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dn[dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dn[dn.ABORTED=10]="ABORTED",dn[dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",dn[dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",dn[dn.INTERNAL=13]="INTERNAL",dn[dn.UNAVAILABLE=14]="UNAVAILABLE",dn[dn.DATA_LOSS=15]="DATA_LOSS";class pu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vc(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return hb(this.inner)}size(){return this.innerSize}}const BD=new fr(Ke.comparator);function $i(){return BD}const jb=new fr(Ke.comparator);function Tc(...n){let e=jb;for(const t of n)e=e.insert(t.key,t);return e}function Km(n){let e=jb;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function vo(){return yp()}function Ym(){return yp()}function yp(){return new pu(n=>n.toString(),(n,e)=>n.isEqual(e))}const $D=new fr(Ke.comparator),Fv=new kn(Ke.comparator);function Qt(...n){let e=Fv;for(const t of n)e=e.add(t);return e}const Hb=new kn(Zt);function gu(){return Hb}class hh{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,_p.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new hh(Nt.min(),i,gu(),$i(),Qt())}}class _p{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new _p(r,t,Qt(),Qt(),Qt())}}class Lv{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class Uv{constructor(e,t){this.targetId=e,this.At=t}}class Qm{constructor(e,t,r=Vr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class zb{constructor(){this.Rt=0,this.bt=Bv(),this.Pt=Vr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Qt(),t=Qt(),r=Qt();return this.bt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ct()}}),new _p(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=Bv()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Vv{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=$i(),this.qt=Gb(),this.Kt=new kn(Zt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:ct()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const a=i.target;if(dp(a))if(0===r){const d=new Ke(a.path);this.jt(t,d,Bn.newNoDocument(d,Nt.min()))}else Rt(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,d)=>{const f=this.Xt(d);if(f){if(a.current&&dp(f.target)){const y=new Ke(f.target.path);null!==this.Ut.get(y)||this.ee(d,y)||this.jt(d,y,Bn.newNoDocument(y,e))}a.Dt&&(t.set(d,a.xt()),a.Nt())}});let r=Qt();this.qt.forEach((a,d)=>{let f=!0;d.forEachWhile(y=>{const w=this.Xt(y);return!w||2===w.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.Ut.forEach((a,d)=>d.setReadTime(e));const i=new hh(e,t,this.Kt,this.Ut,r);return this.Ut=$i(),this.qt=Gb(),this.Kt=new kn(Zt),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new zb,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new kn(Zt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||$e("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new zb),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Gb(){return new fr(Ke.comparator)}function Bv(){return new fr(Ke.comparator)}const $v={asc:"ASCENDING",desc:"DESCENDING"},qb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Zb{constructor(e,t){this.databaseId=e,this.gt=t}}function fh(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jv(n,e){return n.gt?e.toBase64():e.toUint8Array()}function jD(n,e){return fh(n,e.toTimestamp())}function Kr(n){return Rt(!!n),Nt.fromTimestamp(function(e){const t=ul(e);return new pn(t.seconds,t.nanos)}(n))}function Hv(n,e){return(t=n,new Kt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Wb(n){const e=Kt.fromString(n);return Rt(qv(e)),e}function ph(n,e){return Hv(n.databaseId,e.path)}function mu(n,e){const t=Wb(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ke(HD(t))}function Jm(n,e){return Hv(n.databaseId,e)}function Kb(n){const e=Wb(n);return 4===e.length?Kt.emptyPath():HD(e)}function vp(n){return new Kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function HD(n){return Rt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function zD(n,e,t){return{name:ph(n,e),fields:t.value.mapValue.fields}}function Yb(n,e,t){const r=mu(n,e.name),i=Kr(e.updateTime),a=new rn({mapValue:{fields:e.fields}}),d=Bn.newFoundDocument(r,i,a);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function wp(n,e){let t;if(e instanceof ch)t={update:zD(n,e.key,e.value)};else if(e instanceof dh)t={delete:ph(n,e.key)};else if(e instanceof fu)t={update:zD(n,e.key,e.data),updateMask:iC(e.fieldMask)};else{if(!(e instanceof kv))return ct();t={verify:ph(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const d=a.transform;if(d instanceof lh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof _o)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof dl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Cc)return{fieldPath:a.field.canonicalString(),increment:d.yt};throw ct()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:jD(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ct()),t;var i}function zv(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Wn.updateTime(Kr(i.updateTime)):void 0!==i.exists?Wn.exists(i.exists):Wn.none():Wn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,d){let f=null;"setToServerValue"in d?(Rt("REQUEST_TIME"===d.setToServerValue),f=new lh):"appendMissingElements"in d?f=new _o(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new dl(d.removeAllFromArray.values||[]):"increment"in d?f=new Cc(a,d.increment):ct();const y=En.fromServerFormat(d.fieldPath);return new gp(y,f)}(n,i)):[];var i;if(e.update){const i=mu(n,e.update.name),a=new rn({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new cs((e.updateMask.fieldPaths||[]).map(w=>En.fromServerFormat(w)));return new fu(i,a,d,t,r)}return new ch(i,a,t,r)}if(e.delete){const i=mu(n,e.delete);return new dh(i,t)}if(e.verify){const i=mu(n,e.verify);return new kv(i,t)}return ct()}function Xb(n,e){return{documents:[Jm(n,e.path)]}}function Gv(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Jm(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Jm(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const w=y.map(T=>function(A){if("=="===A.op){if(St(A.value))return{unaryFilter:{field:Dc(A.field),op:"IS_NAN"}};if(SD(A.value))return{unaryFilter:{field:Dc(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(St(A.value))return{unaryFilter:{field:Dc(A.field),op:"IS_NOT_NAN"}};if(SD(A.value))return{unaryFilter:{field:Dc(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dc(A.field),op:Ep(A.op),value:A.value}}}(T));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(y){if(0!==y.length)return y.map(w=>{return{field:Dc((T=w).field),direction:ZD(T.dir)};var T})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const d=(w=e.limit,n.gt||nh(w)?w:{value:w});var w,f,y;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function eC(n){let e=Kb(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Rt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=tC(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(T=>{return new pa(Sc((A=T).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(T){let A;return A="object"==typeof T?T.value:T,nh(A)?null:A}(t.limit));let y=null;var T;t.startAt&&(y=new Fs((T=t.startAt).values||[],!!T.before));let w=null;return t.endAt&&(w=function(T){return new Fs(T.values||[],!T.before)}(t.endAt)),Tv(e,i,d,a,f,"F",y,w)}function tC(n){return n?void 0!==n.unaryFilter?[rC(n)]:void 0!==n.fieldFilter?[nC(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>tC(e)).reduce((e,t)=>e.concat(t)):ct():[]}function ZD(n){return $v[n]}function Ep(n){return qb[n]}function Dc(n){return{fieldPath:n.canonicalString()}}function Sc(n){return En.fromServerFormat(n.fieldPath)}function nC(n){return wr.create(Sc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(n.fieldFilter.op),n.fieldFilter.value)}function rC(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Sc(n.unaryFilter.field);return wr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Sc(n.unaryFilter.field);return wr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Sc(n.unaryFilter.field);return wr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Sc(n.unaryFilter.field);return wr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}function iC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qv(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Si(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Zv(e)),e=MM(n.get(t),e);return Zv(e)}function MM(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function Zv(n){return n+"\x01\x01"}function wo(n){const e=n.length;if(Rt(e>=2),2===e)return Rt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Kt.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const d=n.indexOf("\x01",a);switch((d<0||d>t)&&ct(),n.charAt(d+1)){case"\x01":const f=n.substring(a,d);let y;0===i.length?y=f:(i+=f,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(a,d),i+="\0";break;case"\x11":i+=n.substring(a,d+1);break;default:ct()}a=d+2}return new Kt(r)}const sC=["userId","batchId"];function Xm(n,e){return[n,Si(e)]}function oC(n,e,t){return[n,Si(e),t]}const bp={},WD=["prefixPath","collectionGroup","readTime","documentId"],Wv=["prefixPath","collectionGroup","documentId"],ma=["collectionGroup","readTime","prefixPath","documentId"],KD=["canonicalId","targetId"],Kv=["targetId","path"],Cp=["path","targetId"],YD=["collectionId","parent"],QD=["indexId","uid"],JD=["uid","sequenceNumber"],ey=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ty=["indexId","uid","orderedDocumentKey"],XD=["userId","collectionPath","documentId"],eS=["userId","collectionPath","largestBatchId"],aC=["userId","collectionGroup","largestBatchId"],Yv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Qv=[...Yv,"documentOverlays"],Jv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],uC=Jv,tS=[...uC,"indexConfiguration","indexState","indexEntries"];class lC extends rp{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Ar(n,e){const t=Qe(n);return Ui.M(t.ie,e)}class Ip{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&LD(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ic(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ic(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Ym();return this.mutations.forEach(i=>{const a=e.get(i.key),d=a.overlayedDocument;let f=this.applyToLocalView(d,a.mutatedFields);f=t.has(i.key)?null:f;const y=Fb(d,f);null!==y&&r.set(i.key,y),d.isValidDocument()||d.convertToNoDocument(Nt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qt())}isEqual(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,(t,r)=>Nv(t,r))&&sl(this.baseMutations,e.baseMutations,(t,r)=>Nv(t,r))}}class ny{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Rt(e.mutations.length===r.length);let i=$D;const a=e.mutations;for(let d=0;d<a.length;d++)i=i.insert(a[d].key,r[d].version);return new ny(e,t,r,i)}}class Tp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ya{constructor(e,t,r,i,a=Nt.min(),d=Nt.min(),f=Vr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(e){return new ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class cC{constructor(e){this.re=e}}function dC(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ry(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:ph(i=n.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:fh(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:hl(e.version)};else{if(!e.isUnknownDocument())return ct();r.unknownDocument={path:t.path.toArray(),version:hl(e.version)}}var i,a;return r}function ry(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function hl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yu(n){const e=new pn(n.seconds,n.nanoseconds);return Nt.fromTimestamp(e)}function fl(n,e){const t=(e.baseMutations||[]).map(a=>zv(n.re,a));for(let a=0;a<e.mutations.length-1;++a){const d=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(d.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>zv(n.re,a)),i=pn.fromMillis(e.localWriteTimeMs);return new Ip(e.batchId,i,t,r)}function gh(n){const e=yu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?yu(n.lastLimboFreeSnapshotVersion):Nt.min();let r;var i;return void 0!==n.query.documents?(Rt(1===(i=n.query).documents.length),r=Bi(bc(Kb(i.documents[0])))):r=Bi(eC(n.query)),new ya(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Vr.fromBase64String(n.resumeToken))}function Xv(n,e){const t=hl(e.snapshotVersion),r=hl(e.lastLimboFreeSnapshotVersion);let i;i=dp(e.target)?Xb(n.re,e.target):Gv(n.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:cl(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function iy(n){const e=eC({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Av(e,e.limit,"L"):e}function e0(n,e){return new Tp(e.largestBatchId,zv(n.re,e.overlayMutation))}function t0(n,e){const t=e.path.lastSegment();return[n,Si(e.path.popLast()),t]}function n0(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:hl(r.readTime),documentKey:Si(r.documentKey.path),largestBatchId:r.largestBatchId}}class rS{getBundleMetadata(e,t){return r0(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:yu(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return r0(e).put({bundleId:(r=t).id,createTime:hl(Kr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return hC(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:iy(i.bundledQuery),readTime:yu(i.readTime)};var i})}saveNamedQuery(e,t){return hC(e).put({name:(r=t).name,readTime:hl(Kr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function r0(n){return Ar(n,"bundles")}function hC(n){return Ar(n,"namedQueries")}class Yr{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Yr(e,t.uid||"")}getOverlay(e,t){return _a(e).get(t0(this.userId,t)).next(r=>r?e0(this.It,r):null)}getOverlays(e,t){const r=vo();return de.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,d)=>{const f=new Tp(t,d);i.push(this.ue(e,f))}),de.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(Si(d.getCollectionPath())));const a=[];return i.forEach(d=>{const f=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);a.push(_a(e).Y("collectionPathOverlayIndex",f))}),de.waitFor(a)}getOverlaysForCollection(e,t,r){const i=vo(),a=Si(t),d=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return _a(e).W("collectionPathOverlayIndex",d).next(f=>{for(const y of f){const w=e0(this.It,y);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=vo();let d;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return _a(e).Z({index:"collectionGroupOverlayIndex",range:f},(y,w,T)=>{const A=e0(this.It,w);a.size()<i||A.largestBatchId===d?(a.set(A.getKey(),A),d=A.largestBatchId):T.done()}).next(()=>a)}ue(e,t){return _a(e).put(function(r,i,a){const[d,f,y]=t0(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:y,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:wp(r.re,a.mutation)}}(this.It,this.userId,t))}}function _a(n){return Ar(n,"documentOverlays")}class Ac{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(pr(e.integerValue));else if("doubleValue"in e){const r=pr(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),rh(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(wc(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?gb(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):ct()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),Ke.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function iS(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function sS(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=iS(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}Ac.Te=new Ac;class OM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=sS(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=sS(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class fC{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class pC{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class _u{constructor(){this.Be=new OM,this.Le=new fC(this.Be),this.Ue=new pC(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class xc{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new xc(this.indexId,this.documentKey,this.arrayValue,r)}}function vu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=gC(n.arrayValue,e.arrayValue),0!==t?t:(t=gC(n.directionalValue,e.directionalValue),0!==t?t:Ke.comparator(n.documentKey,e.documentKey)))}function gC(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class mC{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=_v(e);if(void 0!==t&&!this.ze(t))return!1;const r=_c(e);let i=0,a=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const d=r[i];if(!this.He(this.je,d)||!this.Je(this.Ge[a++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(a>=this.Ge.length||!this.Je(this.Ge[a++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class oS{constructor(){this.Ye=new s0}addToCollectionParentIndex(e,t){return this.Ye.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(ls.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(ls.min())}updateCollectionGroup(e,t,r){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class s0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new kn(Kt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kn(Kt.comparator)).toArray()}}const sy=new Uint8Array(0);class o0{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new s0,this.Ze=new pu(r=>cl(r),(r,i)=>ah(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:r,parent:Si(i)};return a0(e).put(a)}return de.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[km(t),""],!1,!0);return a0(e).W(i).next(a=>{for(const d of a){if(d.collectionId!==t)break;r.push(wo(d.parent))}return r})}addFieldIndex(e,t){const r=Mc(e),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var d;delete i.indexId;const a=r.add(i);if(t.indexState){const d=Oc(e);return a.next(f=>{d.put(n0(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=Mc(e),i=Oc(e),a=mh(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=mh(e);let i=!0;const a=new Map;return de.forEach(this.tn(t),d=>this.en(e,d).next(f=>{i&&(i=!!f),a.set(d,f)})).next(()=>{if(i){let d=Qt();const f=[];return de.forEach(a,(y,w)=>{var T;$e("IndexedDbIndexManager",`Using index ${T=y,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(Ye=>`${Ye.fieldPath}:${Ye.kind}`).join(",")}`} to execute ${cl(t)}`);const A=function(Ye,We){const Et=_v(We);if(void 0===Et)return null;for(const Tt of zm(Ye,Et.fieldPath))switch(Tt.op){case"array-contains-any":return Tt.value.arrayValue.values||[];case"array-contains":return[Tt.value]}return null}(w,y),F=function(Ye,We){const Et=new Map;for(const Tt of _c(We))for(const un of zm(Ye,Tt.fieldPath))switch(un.op){case"==":case"in":Et.set(Tt.fieldPath.canonicalString(),un.value);break;case"not-in":case"!=":return Et.set(Tt.fieldPath.canonicalString(),un.value),Array.from(Et.values())}return null}(w,y),V=function(Ye,We){const Et=[];let Tt=!0;for(const un of _c(We)){const $r=0===un.kind?vb(Ye,un.fieldPath,Ye.startAt):wb(Ye,un.fieldPath,Ye.startAt);Et.push($r.value),Tt&&(Tt=$r.inclusive)}return new Fs(Et,Tt)}(w,y),z=function(Ye,We){const Et=[];let Tt=!0;for(const un of _c(We)){const $r=0===un.kind?wb(Ye,un.fieldPath,Ye.endAt):vb(Ye,un.fieldPath,Ye.endAt);Et.push($r.value),Tt&&(Tt=$r.inclusive)}return new Fs(Et,Tt)}(w,y),ie=this.nn(y,w,V),ce=this.nn(y,w,z),Be=this.sn(y,w,F),Je=this.rn(y.indexId,A,ie,V.inclusive,ce,z.inclusive,Be);return de.forEach(Je,Ye=>r.J(Ye,t.limit).next(We=>{We.forEach(Et=>{const Tt=Ke.fromSegments(Et.documentKey);d.has(Tt)||(d=d.add(Tt),f.push(Tt))})}))}).next(()=>f)}return de.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,a,d,f){const y=(null!=t?t.length:1)*Math.max(r.length,a.length),w=y/(null!=t?t.length:1),T=[];for(let A=0;A<y;++A){const F=t?this.on(t[A/w]):sy,V=this.un(e,F,r[A%w],i),z=this.cn(e,F,a[A%w],d),ie=f.map(ce=>this.un(e,F,ce,!0));T.push(...this.createRange(V,z,ie))}return T}un(e,t,r,i){const a=new xc(e,Ke.empty(),t,r);return i?a:a.Ke()}cn(e,t,r,i){const a=new xc(e,Ke.empty(),t,r);return i?a.Ke():a}en(e,t){const r=new mC(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let d=null;for(const f of a)r.We(f)&&(!d||f.fields.length>d.fields.length)&&(d=f);return d})}getIndexType(e,t){let r=2;return de.forEach(this.tn(t),i=>this.en(e,i).next(a=>{a?0!==r&&a.fields.length<function(d){let f=new kn(En.comparator),y=!1;for(const w of d.filters){const T=w;T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?y=!0:f=f.add(T.field))}for(const w of d.orderBy)w.field.isKeyField()||(f=f.add(w.field));return f.size+(y?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new _u;for(const i of _c(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const d=r.qe(i.kind);Ac.Te.ce(a,d)}return r.$e()}on(e){const t=new _u;return Ac.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new _u;return Ac.Te.ce(ih(this.databaseId,t),r.qe(function(i){const a=_c(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new _u);let a=0;for(const d of _c(e)){const f=r[a++];for(const y of i)if(this.ln(t,d.fieldPath)&&sh(f))i=this.fn(i,d,f);else{const w=y.qe(d.kind);Ac.Te.ce(f,w)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],a=[];for(const d of r.arrayValue.values||[])for(const f of i){const y=new _u;y.seed(f.$e()),Ac.Te.ce(d,y.qe(t.kind)),a.push(y)}return a}ln(e,t){return!!e.filters.find(r=>r instanceof wr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Mc(e),i=Oc(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(a=>{const d=[];return de.forEach(a,f=>i.get([f.indexId,this.uid]).next(y=>{d.push(function(w,T){const A=T?new uu(T.sequenceNumber,new ls(yu(T.readTime),new Ke(wo(T.documentKey)),T.largestBatchId)):uu.empty(),F=w.fields.map(([V,z])=>new Fm(En.fromServerFormat(V),z));return new np(w.indexId,w.collectionGroup,F,A)}(f,y))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Zt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Mc(e),a=Oc(e);return this._n(e).next(d=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>de.forEach(f,y=>a.put(n0(y.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return de.forEach(t,(i,a)=>{const d=r.get(i.collectionGroup);return(d?de.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),de.forEach(f,y=>this.wn(e,i,y).next(w=>{const T=this.mn(a,y);return w.isEqual(T)?de.resolve():this.gn(e,a,y,w,T)}))))})}yn(e,t,r,i){return mh(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return mh(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=mh(e);let a=new kn(vu);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,f)=>{a=a.add(new xc(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}mn(e,t){let r=new kn(vu);const i=this.an(t,e);if(null==i)return r;const a=_v(t);if(null!=a){const d=e.data.field(a.fieldPath);if(sh(d))for(const f of d.arrayValue.values||[])r=r.add(new xc(t.indexId,e.key,this.on(f),i))}else r=r.add(new xc(t.indexId,e.key,sy,i));return r}gn(e,t,r,i,a){$e("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(f,y,w,T,A){const F=f.getIterator(),V=y.getIterator();let z=eh(F),ie=eh(V);for(;z||ie;){let ce=!1,Be=!1;if(z&&ie){const Je=w(z,ie);Je<0?Be=!0:Je>0&&(ce=!0)}else null!=z?Be=!0:ce=!0;ce?(T(ie),ie=eh(V)):Be?(A(z),z=eh(F)):(z=eh(F),ie=eh(V))}}(i,a,vu,f=>{d.push(this.yn(e,t,r,f))},f=>{d.push(this.pn(e,t,r,f))}),de.waitFor(d)}_n(e){let t=1;return Oc(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,f)=>vu(d,f)).filter((d,f,y)=>!f||0!==vu(d,y[f-1]));const i=[];i.push(e);for(const d of r){const f=vu(d,e),y=vu(d,t);if(0===f)i[0]=e.Ke();else if(f>0&&y<0)i.push(d),i.push(d.Ke());else if(y>0)break}i.push(t);const a=[];for(let d=0;d<i.length;d+=2)a.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,sy,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,sy,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(aS)}getMinOffset(e,t){return de.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||ct())).next(aS)}}function a0(n){return Ar(n,"collectionParents")}function mh(n){return Ar(n,"indexEntries")}function Mc(n){return Ar(n,"indexConfiguration")}function Oc(n){return Ar(n,"indexState")}function aS(n){Rt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Lm(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new ls(e.readTime,e.documentKey,t)}const u0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ji{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ji(e,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function l0(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],d=IDBKeyRange.only(t.batchId);let f=0;const y=r.Z({range:d},(T,A,F)=>(f++,F.delete()));a.push(y.next(()=>{Rt(1===f)}));const w=[];for(const T of t.mutations){const A=oC(e,T.key.path,t.batchId);a.push(i.delete(A)),w.push(T.key)}return de.waitFor(a).next(()=>w)}function wu(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ct();e=n.noDocument}return JSON.stringify(e).length}ji.DEFAULT_COLLECTION_PERCENTILE=10,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ji.DEFAULT=new ji(41943040,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ji.DISABLED=new ji(-1,0,0);class oy{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){Rt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new oy(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return va(e).Z({index:"userMutationsIndex",range:r},(i,a,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Dp(e),d=va(e);return d.add({}).next(f=>{Rt("number"==typeof f);const y=new Ip(f,t,r,i),w=function(F,V,z){const ie=z.baseMutations.map(Be=>wp(F.re,Be)),ce=z.mutations.map(Be=>wp(F.re,Be));return{userId:V,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:ie,mutations:ce}}(this.It,this.userId,y),T=[];let A=new kn((F,V)=>Zt(F.canonicalString(),V.canonicalString()));for(const F of i){const V=oC(this.userId,F.key.path,f);A=A.add(F.key.path.popLast()),T.push(d.put(w)),T.push(a.put(V,bp))}return A.forEach(F=>{T.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.In[f]=y.keys()}),de.waitFor(T).next(()=>y)})}lookupMutationBatch(e,t){return va(e).get(t).next(r=>r?(Rt(r.userId===this.userId),fl(this.It,r)):null)}Tn(e,t){return this.In[t]?de.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return va(e).Z({index:"userMutationsIndex",range:i},(d,f,y)=>{f.userId===this.userId&&(Rt(f.batchId>=r),a=fl(this.It,f)),y.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return va(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,a,d)=>{r=a.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return va(e).W("userMutationsIndex",t).next(r=>r.map(i=>fl(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Xm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Dp(e).Z({range:i},(d,f,y)=>{const[w,T,A]=d,F=wo(T);if(w===this.userId&&t.path.isEqual(F))return va(e).get(A).next(V=>{if(!V)throw ct();Rt(V.userId===this.userId),a.push(fl(this.It,V))});y.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new kn(Zt);const i=[];return t.forEach(a=>{const d=Xm(this.userId,a.path),f=IDBKeyRange.lowerBound(d),y=Dp(e).Z({range:f},(w,T,A)=>{const[F,V,z]=w,ie=wo(V);F===this.userId&&a.path.isEqual(ie)?r=r.add(z):A.done()});i.push(y)}),de.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=Xm(this.userId,r),d=IDBKeyRange.lowerBound(a);let f=new kn(Zt);return Dp(e).Z({range:d},(y,w,T)=>{const[A,F,V]=y,z=wo(F);A===this.userId&&r.isPrefixOf(z)?z.length===i&&(f=f.add(V)):T.done()}).next(()=>this.En(e,f))}En(e,t){const r=[],i=[];return t.forEach(a=>{i.push(va(e).get(a).next(d=>{if(null===d)throw ct();Rt(d.userId===this.userId),r.push(fl(this.It,d))}))}),de.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return l0(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),de.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return de.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Dp(e).Z({range:r},(a,d,f)=>{if(a[0]===this.userId){const y=wo(a[1]);i.push(y)}else f.done()}).next(()=>{Rt(0===i.length)})})}containsKey(e,t){return c0(e,this.userId,t)}Rn(e){return yC(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function c0(n,e,t){const r=Xm(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let d=!1;return Dp(n).Z({range:a,X:!0},(f,y,w)=>{const[T,A,F]=f;T===e&&A===i&&(d=!0),w.done()}).next(()=>d)}function va(n){return Ar(n,"mutations")}function Dp(n){return Ar(n,"documentMutations")}function yC(n){return Ar(n,"mutationQueues")}class yh{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new yh(0)}static vn(){return new yh(-1)}}class uS{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new yh(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Nt.fromTimestamp(new pn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>_h(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Rt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return _h(e).Z((d,f)=>{const y=gh(f);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,a.push(this.removeTargetData(e,y)))}).next(()=>de.waitFor(a)).next(()=>i)}forEachTarget(e,t){return _h(e).Z((r,i)=>{const a=gh(i);t(a)})}Vn(e){return _C(e).get("targetGlobalKey").next(t=>(Rt(null!==t),t))}Sn(e,t){return _C(e).put("targetGlobalKey",t)}Dn(e,t){return _h(e).put(Xv(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=cl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return _h(e).Z({range:i,index:"queryTargetsIndex"},(d,f,y)=>{const w=gh(f);ah(t,w.target)&&(a=w,y.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Eu(e);return t.forEach(d=>{const f=Si(d.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,d))}),de.waitFor(i)}removeMatchingKeys(e,t,r){const i=Eu(e);return de.forEach(t,a=>{const d=Si(a.path);return de.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Eu(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Eu(e);let a=Qt();return i.Z({range:r,X:!0},(d,f,y)=>{const w=wo(d[1]),T=new Ke(w);a=a.add(T)}).next(()=>a)}containsKey(e,t){const r=Si(t.path),i=IDBKeyRange.bound([r],[km(r)],!1,!0);let a=0;return Eu(e).Z({index:"documentTargetsIndex",X:!0,range:i},([d,f],y,w)=>{0!==d&&(a++,w.done())}).next(()=>a>0)}se(e,t){return _h(e).get(t).next(r=>r?gh(r):null)}}function _h(n){return Ar(n,"targets")}function _C(n){return Ar(n,"targetGlobal")}function Eu(n){return Ar(n,"targetDocuments")}function d0([n,e],[t,r]){const i=Zt(n,t);return 0===i?Zt(e,r):i}class lS{constructor(e){this.xn=e,this.buffer=new kn(d0),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();d0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vC{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;$e("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ve.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){lu(r)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield ol(r)}yield t.Fn(3e5)}))}}class wC{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return de.resolve(Vi.at);const r=new lS(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(u0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u0):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,a,d,f,y,w;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,d=Date.now(),this.nthSequenceNumber(e,i))).next(A=>(r=A,f=Date.now(),this.removeTargets(e,r,t))).next(A=>(a=A,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(w=Date.now(),Nm()<=la.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-T}ms\n\tDetermined least recently used ${i} in `+(f-d)+`ms\n\tRemoved ${a} targets in `+(y-f)+`ms\n\tRemoved ${A} documents in `+(w-y)+`ms\nTotal Duration: ${w-T}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:A})))}}class cS{constructor(e,t){this.db=e,this.garbageCollector=new wC(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return ay(e,r)}removeReference(e,t,r){return ay(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return ay(e,t)}Gn(e,t){return function(r,i){let a=!1;return yC(r).tt(d=>c0(r,d,i).next(f=>(f&&(a=!0),de.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Kn(e,(d,f)=>{if(f<=t){const y=this.Gn(e,d).next(w=>{if(!w)return a++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Nt.min()),Eu(e).delete([0,Si(d.path)])))});i.push(y)}}).next(()=>de.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return ay(e,t)}Kn(e,t){const r=Eu(e);let i,a=Vi.at;return r.Z({index:"documentTargetsIndex"},([d,f],{path:y,sequenceNumber:w})=>{0===d?(a!==Vi.at&&t(new Ke(wo(i)),a),a=w,i=y):a=Vi.at}).next(()=>{a!==Vi.at&&t(new Ke(wo(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ay(n,e){return Eu(n).put((r=n.currentSequenceNumber,{targetId:0,path:Si(e.path),sequenceNumber:r}));var r}class h0{constructor(){this.changes=new pu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?de.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class dS{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return pl(e).put(r)}removeEntry(e,t,r){return pl(e).delete(function(i,a){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],ry(a),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Bn.newInvalidDocument(t);return pl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Sp(t))},(i,a)=>{r=this.jn(t,a)}).next(()=>r)}Wn(e,t){let r={size:0,document:Bn.newInvalidDocument(t)};return pl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Sp(t))},(i,a)=>{r={document:this.jn(t,a),size:wu(a)}}).next(()=>r)}getEntries(e,t){let r=$i();return this.zn(e,t,(i,a)=>{const d=this.jn(i,a);r=r.insert(i,d)}).next(()=>r)}Hn(e,t){let r=$i(),i=new fr(Ke.comparator);return this.zn(e,t,(a,d)=>{const f=this.jn(a,d);r=r.insert(a,f),i=i.insert(a,wu(d))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return de.resolve();let i=new kn(hS);t.forEach(y=>i=i.add(y));const a=IDBKeyRange.bound(Sp(i.first()),Sp(i.last())),d=i.getIterator();let f=d.getNext();return pl(e).Z({index:"documentKeyIndex",range:a},(y,w,T)=>{const A=Ke.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&hS(f,A)<0;)r(f,null),f=d.getNext();f&&f.isEqual(A)&&(r(f,w),f=d.hasNext()?d.getNext():null),f?T.j(Sp(f)):T.done()}).next(()=>{for(;f;)r(f,null),f=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),ry(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return pl(e).W(IDBKeyRange.bound(i,a,!0)).next(d=>{let f=$i();for(const y of d){const w=this.jn(Ke.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);f=f.insert(w.key,w)}return f})}getAllFromCollectionGroup(e,t,r,i){let a=$i();const d=bC(t,r),f=bC(t,ls.max());return pl(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,f,!0)},(y,w,T)=>{const A=this.jn(Ke.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(A.key,A),a.size===i&&T.done()}).next(()=>a)}newChangeBuffer(e){return new EC(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return p0(e).get("remoteDocumentGlobalKey").next(t=>(Rt(!!t),t))}Qn(e,t){return p0(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function nS(n,e){let t;if(e.document)t=Yb(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ke.fromSegments(e.noDocument.path),i=yu(e.noDocument.readTime);t=Bn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ct();{const r=Ke.fromSegments(e.unknownDocument.path),i=yu(e.unknownDocument.version);t=Bn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new pn(r[0],r[1]);return Nt.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Nt.min()))return r}return Bn.newInvalidDocument(e)}}function f0(n){return new dS(n)}class EC extends h0{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new pu(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new kn((a,d)=>Zt(a.canonicalString(),d.canonicalString()));return this.changes.forEach((a,d)=>{const f=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,f.readTime)),d.isValidDocument()){const y=dC(this.Yn.It,d);i=i.add(a.path.popLast()),r+=wu(y)-f.size,t.push(this.Yn.addEntry(e,a,y))}else if(r-=f.size,this.trackRemovals){const y=dC(this.Yn.It,d.convertToNoDocument(Nt.min()));t.push(this.Yn.addEntry(e,a,y))}}),i.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,r)),de.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((a,d)=>{this.Xn.set(a,{size:d,readTime:r.get(a).readTime})}),r))}}function p0(n){return Ar(n,"remoteDocumentGlobal")}function pl(n){return Ar(n,"remoteDocumentsV14")}function Sp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function bC(n,e){const t=e.documentKey.path.toArray();return[n,ry(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function hS(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Zt(t[a],r[a]),i)return i;return i=Zt(t.length,r.length),i||(i=Zt(t[t.length-2],r[r.length-2]),i||Zt(t[t.length-1],r[r.length-1]))}class CC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class fS{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Ic(r.mutation,i,cs.empty(),pn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Qt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Qt()){const i=vo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let d=Tc();return a.forEach((f,y)=>{d=d.insert(f,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=vo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Qt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((d,f)=>{t.set(d,f)})})}computeViews(e,t,r,i){let a=$i();const d=yp(),f=yp();return t.forEach((y,w)=>{const T=r.get(w.key);i.has(w.key)&&(void 0===T||T.mutation instanceof fu)?a=a.insert(w.key,w):void 0!==T&&(d.set(w.key,T.mutation.getFieldMask()),Ic(T.mutation,w,T.mutation.getFieldMask(),pn.now()))}),this.recalculateAndSaveOverlays(e,a).next(y=>(y.forEach((w,T)=>d.set(w,T)),t.forEach((w,T)=>{var A;return f.set(w,new CC(T,null!==(A=d.get(w))&&void 0!==A?A:null))}),f))}recalculateAndSaveOverlays(e,t){const r=yp();let i=new fr((d,f)=>d-f),a=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const f of d)f.keys().forEach(y=>{const w=t.get(y);if(null===w)return;let T=r.get(y)||cs.empty();T=f.applyToLocalView(w,T),r.set(y,T);const A=(i.get(f.batchId)||Qt()).add(y);i=i.insert(f.batchId,A)})}).next(()=>{const d=[],f=i.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),w=y.key,T=y.value,A=Ym();T.forEach(F=>{if(!a.has(F)){const V=Fb(t.get(F),r.get(F));null!==V&&A.set(F,V),a=a.add(F)}}),d.push(this.documentOverlayCache.saveOverlays(e,w,A))}return de.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ke.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Sv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const d=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):de.resolve(vo());let f=-1,y=a;return d.next(w=>de.forEach(w,(T,A)=>(f<A.largestBatchId&&(f=A.largestBatchId),a.get(T)?de.resolve():this.getBaseDocument(e,T,A).next(F=>{y=y.insert(T,F)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,y,w,Qt())).next(T=>({batchId:f,changes:Km(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ke(t)).next(r=>{let i=Tc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=Tc();return this.indexManager.getCollectionParents(e,i).next(d=>de.forEach(d,f=>{const y=(w=t,T=f.child(i),new ga(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,T;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(w=>{w.forEach((T,A)=>{a=a.insert(T,A)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(a=>{a.forEach((f,y)=>{const w=y.getKey();null===i.get(w)&&(i=i.insert(w,Bn.newInvalidDocument(w)))});let d=Tc();return i.forEach((f,y)=>{const w=a.get(f);void 0!==w&&Ic(w.mutation,y,cs.empty(),pn.now()),Mv(t,y)&&(d=d.insert(f,y))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):de.resolve(Bn.newInvalidDocument(t))}}class PM{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return de.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Kr(r.createTime)}),de.resolve()}getNamedQuery(e,t){return de.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:iy(r.bundledQuery),readTime:Kr(r.readTime)}),de.resolve();var r}}class RM{constructor(){this.overlays=new fr(Ke.comparator),this.es=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const r=vo();return de.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.ue(e,t,a)}),de.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),de.resolve()}getOverlaysForCollection(e,t,r){const i=vo(),a=t.length+1,d=new Ke(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const y=f.getNext().value,w=y.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&y.largestBatchId>r&&i.set(y.getKey(),y)}return de.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new fr((w,T)=>w-T);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let T=a.get(w.largestBatchId);null===T&&(T=vo(),a=a.insert(w.largestBatchId,T)),T.set(w.getKey(),w)}}const f=vo(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,T)=>f.set(w,T)),!(f.size()>=i)););return de.resolve(f)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Tp(t,r));let a=this.es.get(t);void 0===a&&(a=Qt(),this.es.set(t,a)),this.es.set(t,a.add(r.key))}}class IC{constructor(){this.ns=new kn(oi.ss),this.rs=new kn(oi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new oi(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new oi(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Ke(new Kt([])),r=new oi(t,e),i=new oi(t,e+1),a=[];return this.rs.forEachInRange([r,i],d=>{this.cs(d),a.push(d.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ke(new Kt([])),r=new oi(t,e),i=new oi(t,e+1);let a=Qt();return this.rs.forEachInRange([r,i],d=>{a=a.add(d.key)}),a}containsKey(e){const t=new oi(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class oi{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ke.comparator(e.key,t.key)||Zt(e._s,t._s)}static os(e,t){return Zt(e._s,t._s)||Ke.comparator(e.key,t.key)}}class NM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new kn(oi.ss)}checkEmpty(e){return de.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.ws;this.ws++;const d=new Ip(a,t,r,i);this.mutationQueue.push(d);for(const f of i)this.gs=this.gs.add(new oi(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return de.resolve(d)}lookupMutationBatch(e,t){return de.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),a=i<0?0:i;return de.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new oi(t,0),i=new oi(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],d=>{const f=this.ys(d._s);a.push(f)}),de.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new kn(Zt);return t.forEach(i=>{const a=new oi(i,0),d=new oi(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,d],f=>{r=r.add(f._s)})}),de.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ke.isDocumentKey(a)||(a=a.child(""));const d=new oi(new Ke(a),0);let f=new kn(Zt);return this.gs.forEachWhile(y=>{const w=y.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(y._s)),!0)},d),de.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Rt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return de.forEach(t.mutations,i=>{const a=new oi(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new oi(t,0),i=this.gs.firstAfterOrEqual(r);return de.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return de.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class kM{constructor(e){this.Es=e,this.docs=new fr(Ke.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return de.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(t))}getEntries(e,t){let r=$i();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Bn.newInvalidDocument(i))}),de.resolve(r)}getAllFromCollection(e,t,r){let i=$i();const a=new Ke(t.child("")),d=this.docs.getIteratorFrom(a);for(;d.hasNext();){const{key:f,value:{document:y}}=d.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||Lm(wv(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return de.resolve(i)}getAllFromCollectionGroup(e,t,r,i){ct()}As(e,t){return de.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new FM(this)}getSize(e){return de.resolve(this.size)}}class FM extends h0{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),de.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class uy{constructor(e){this.persistence=e,this.Rs=new pu(t=>cl(t),ah),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new IC,this.targetCount=0,this.vs=yh.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),de.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new yh(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Dn(t),de.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Rs.forEach((d,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Rs.delete(d),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),de.waitFor(a).next(()=>i)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return de.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),de.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(d=>{a.push(i.markPotentiallyOrphaned(e,d))}),de.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),de.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return de.resolve(r)}containsKey(e,t){return de.resolve(this.Ps.containsKey(t))}}class pS{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Vi(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new uy(this),this.indexManager=new oS,this.remoteDocumentCache=new kM(r=>this.referenceDelegate.xs(r)),this.It=new cC(t),this.Ns=new PM(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new RM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new NM(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){$e("MemoryPersistence","Starting transaction:",e);const i=new TC(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Os(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ms(e,t){return de.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class TC extends rp{constructor(e){super(),this.currentSequenceNumber=e}}class Pc{constructor(e){this.persistence=e,this.Fs=new IC,this.$s=null}static Bs(e){return new Pc(e)}get Ls(){if(this.$s)return this.$s;throw ct()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),de.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),de.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Ls,r=>{const i=Ke.fromPath(r);return this.Us(e,i).next(a=>{a||t.removeEntry(i,Nt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return de.or([()=>de.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class DC{constructor(e){this.It=e}$(e,t,r,i){const a=new Jd("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sC,{unique:!0}),f.createObjectStore("documentMutations"),g0(e),function(f){f.createObjectStore("remoteDocuments")}(e));let d=de.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),g0(e)),d=d.next(()=>function(f){const y=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",w)}(a))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(f,y){return y.store("mutations").W().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sC,{unique:!0});const T=y.store("mutations"),A=w.map(F=>T.put(F));return de.waitFor(A)})}(e,a))),d=d.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.qs(a))),r<6&&i>=6&&(d=d.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),r<7&&i>=7&&(d=d.next(()=>this.Gs(a))),r<8&&i>=8&&(d=d.next(()=>this.Qs(e,a))),r<9&&i>=9&&(d=d.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.js(a))),r<11&&i>=11&&(d=d.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(f){const y=f.createObjectStore("documentOverlays",{keyPath:XD});y.createIndex("collectionPathOverlayIndex",eS,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",aC,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(f){const y=f.createObjectStore("remoteDocumentsV14",{keyPath:WD});y.createIndex("documentKeyIndex",Wv),y.createIndex("collectionGroupIndex",ma)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>this.zs(e,a))),r<15&&i>=15&&(d=d.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:QD}).createIndex("sequenceNumberIndex",JD,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:ey}).createIndex("documentKeyIndex",ty,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=wu(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>de.forEach(i,a=>{const d=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(f=>de.forEach(f,y=>{Rt(y.userId===a.userId);const w=fl(this.It,y);return l0(e,a.userId,w).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Z((d,f)=>{const y=new Kt(d),w=[0,Si(y)];a.push(t.get(w).next(T=>T?de.resolve():t.put({targetId:0,path:Si(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>de.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:YD});const r=t.store("collectionParents"),i=new s0,a=d=>{if(i.add(d)){const f=d.lastSegment(),y=d.popLast();return r.put({collectionId:f,parent:Si(y)})}};return t.store("remoteDocuments").Z({X:!0},(d,f)=>{const y=new Kt(d);return a(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,f,y],w)=>{const T=wo(f);return a(T.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const a=gh(i),d=Xv(this.It,a);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((a,d)=>{const f=t.store("remoteDocumentsV14"),y=(w=d,w.document?new Ke(Kt.fromString(w.document.name).popFirst(5)):w.noDocument?Ke.fromSegments(w.noDocument.path):w.unknownDocument?Ke.fromSegments(w.unknownDocument.path):ct()).path.toArray();var w;const T={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(f.put(T))}).next(()=>de.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=f0(this.It),a=new pS(Pc.Bs,this.It.re);return r.W().next(d=>{const f=new Map;return d.forEach(y=>{var w;let T=null!==(w=f.get(y.userId))&&void 0!==w?w:Qt();fl(this.It,y).keys().forEach(A=>T=T.add(A)),f.set(y.userId,T)}),de.forEach(f,(y,w)=>{const T=new Lr(w),A=Yr.oe(this.It,T),F=a.getIndexManager(T),V=oy.oe(T,this.It,F,a.referenceDelegate);return new fS(i,V,A,F).recalculateAndSaveOverlaysForDocumentKeys(new lC(t,Vi.at),y).next()})})}}function g0(n){n.createObjectStore("targetDocuments",{keyPath:Kv}).createIndex("documentTargetsIndex",Cp,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",KD,{unique:!0}),n.createObjectStore("targetGlobal")}const SC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ap{constructor(e,t,r,i,a,d,f,y,w,T,A=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=a,this.window=d,this.document=f,this.Js=w,this.Ys=T,this.Xs=A,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=F=>Promise.resolve(),!Ap.C())throw new Fe(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cS(this,i),this.ii=t+"main",this.It=new cC(y),this.ri=new Ui(this.ii,this.Xs,new DC(this.It)),this.Cs=new uS(this.referenceDelegate,this.It),this.remoteDocumentCache=f0(this.It),this.Ns=new rS,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===T&&hr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(ue.FAILED_PRECONDITION,SC);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Vi(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,ve.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ve.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ly(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(lu(e))return $e("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return vh(e).get("owner").next(t=>de.resolve(this.mi(t)))}gi(e){return ly(e).delete(this.clientId)}yi(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ar(r,"clientMetadata");return i.W().next(a=>{const d=e.Ii(a,18e5),f=a.filter(y=>-1===d.indexOf(y));return de.forEach(f,y=>i.delete(y.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?de.resolve(!0):vh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Fe(ue.FAILED_PRECONDITION,SC);return!1}}return!(!this.networkEnabled||!this.inForeground)||ly(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&$e("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new lC(t,Vi.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>ly(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return oy.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new o0(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Yr.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){$e("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(d=this.Xs)?tS:14===d?uC:13===d?Jv:12===d?Qv:11===d?Yv:void ct();var d;let f;return this.ri.runTransaction(e,i,a,y=>(f=new lC(y,this.Ss?this.Ss.next():Vi.at),"readwrite-primary"===t?this.fi(f).next(w=>!!w||this.di(f)).next(w=>{if(!w)throw hr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Fe(ue.FAILED_PRECONDITION,Ev);return r(f)}).next(w=>this.wi(f).next(()=>w)):this.Vi(f).next(()=>r(f)))).then(y=>(f.raiseOnCommittedEvent(),y))}Vi(e){return vh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(ue.FAILED_PRECONDITION,SC)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vh(e).put("owner",t)}static C(){return Ui.C()}_i(e){const t=vh(e);return t.get("owner").next(r=>this.mi(r)?($e("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):de.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(hr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,zt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return $e("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return hr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){hr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function vh(n){return Ar(n,"owner")}function ly(n){return Ar(n,"clientMetadata")}function cy(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class AC{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Qt(),i=Qt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new AC(e,t.fromCache,r,i)}}class xC{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(a=>a||this.Oi(e,t,i,r)).next(a=>a||this.Mi(e,t))}ki(e,t){if(Db(t))return de.resolve(null);let r=Bi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Av(t,null,"F"),r=Bi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const d=Qt(...a);return this.Ni.getDocuments(e,d).next(f=>this.indexManager.getMinOffset(e,r).next(y=>{const w=this.Fi(t,f);return this.$i(t,w,d,y.readTime)?this.ki(e,Av(t,null,"F")):this.Bi(e,w,t,y)}))})))}Oi(e,t,r,i){return Db(t)||i.isEqual(Nt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(a=>{const d=this.Fi(t,a);return this.$i(t,d,r,i)?this.Mi(e,t):(Nm()<=la.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uh(t)),this.Bi(e,d,t,ab(i,-1)))})}Fi(e,t){let r=new kn(Ov(e));return t.forEach((i,a)=>{Mv(e,a)&&(r=r.add(a))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Mi(e,t){return Nm()<=la.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",uh(t)),this.Ni.getDocumentsMatchingQuery(e,t,ls.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(d=>{a=a.insert(d.key,d)}),a))}}class gS{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new fr(Zt),this.qi=new pu(a=>cl(a),ah),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fS(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function MC(n,e,t,r){return new gS(n,e,t,r)}function xp(n,e){return m0.apply(this,arguments)}function m0(){return m0=(0,ve.Z)(function*(n,e){const t=Qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const d=[],f=[];let y=Qt();for(const w of i){d.push(w.batchId);for(const T of w.mutations)y=y.add(T.key)}for(const w of a){f.push(w.batchId);for(const T of w.mutations)y=y.add(T.key)}return t.localDocuments.getDocuments(r,y).next(w=>({ji:w,removedBatchIds:d,addedBatchIds:f}))})})}),m0.apply(this,arguments)}function LM(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,f,y,w){const T=y.batch,A=T.keys();let F=de.resolve();return A.forEach(V=>{F=F.next(()=>w.getEntry(f,V)).next(z=>{const ie=y.docVersions.get(V);Rt(null!==ie),z.version.compareTo(ie)<0&&(T.applyToRemoteDocument(z,y),z.isValidDocument()&&(z.setReadTime(y.commitVersion),w.addEntry(z)))})}),F.next(()=>d.mutationQueue.removeMutationBatch(f,T))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=Qt();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(f=f.add(d.batch.mutations[y].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function mS(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function UM(n,e){const t=Qe(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const f=[];e.targetChanges.forEach((T,A)=>{const F=i.get(A);if(!F)return;f.push(t.Cs.removeMatchingKeys(a,T.removedDocuments,A).next(()=>t.Cs.addMatchingKeys(a,T.addedDocuments,A)));let V=F.withSequenceNumber(a.currentSequenceNumber);var z,ie,ce;e.targetMismatches.has(A)?V=V.withResumeToken(Vr.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):T.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(T.resumeToken,r)),i=i.insert(A,V),ie=V,ce=T,(0===(z=F).resumeToken.approximateByteSize()||ie.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8||ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(a,V))});let y=$i(),w=Qt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,T))}),f.push(OC(a,d,e.documentUpdates).next(T=>{y=T.Wi,w=T.zi})),!r.isEqual(Nt.min())){const T=t.Cs.getLastRemoteSnapshotVersion(a).next(A=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(T)}return de.waitFor(f).next(()=>d.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,y,w)).next(()=>y)}).then(a=>(t.Ui=i,a))}function OC(n,e,t){let r=Qt(),i=Qt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let d=$i();return t.forEach((f,y)=>{const w=a.get(f);y.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),y.isNoDocument()&&y.version.isEqual(Nt.min())?(e.removeEntry(f,y.readTime),d=d.insert(f,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(y),d=d.insert(f,y)):$e("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",y.version)}),{Wi:d,zi:i}})}function yS(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wh(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(a=>a?(i=a,de.resolve(i)):t.Cs.allocateTargetId(r).next(d=>(i=new ya(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function Mp(n,e,t){return y0.apply(this,arguments)}function y0(){return y0=(0,ve.Z)(function*(n,e,t){const r=Qe(n),i=r.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!lu(d))throw d;$e("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),y0.apply(this,arguments)}function Op(n,e,t){const r=Qe(n);let i=Nt.min(),a=Qt();return r.persistence.runTransaction("Execute query","readonly",d=>function(f,y,w){const T=Qe(f),A=T.qi.get(w);return void 0!==A?de.resolve(T.Ui.get(A)):T.Cs.getTargetData(y,w)}(r,d,Bi(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,f.targetId).next(y=>{a=y})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?i:Nt.min(),t?a:Qt())).next(f=>(Ls(r,Sb(e),f),{documents:f,Hi:a})))}function _0(n,e){const t=Qe(n),r=Qe(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.se(a,e).next(d=>d?d.target:null))}function _S(n,e){const t=Qe(n),r=t.Ki.get(e)||Nt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,ab(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Ls(t,e,i),i))}function Ls(n,e,t){let r=n.Ki.get(e)||Nt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ki.set(e,r)}function Pp(){return Pp=(0,ve.Z)(function*(n,e,t,r){const i=Qe(n);let a=Qt(),d=$i();for(const w of t){const T=e.Ji(w.metadata.name);w.document&&(a=a.add(T));const A=e.Yi(w);A.setReadTime(e.Xi(w.metadata.readTime)),d=d.insert(T,A)}const f=i.Gi.newChangeBuffer({trackRemovals:!0}),y=yield wh(i,(w=r,Bi(bc(Kt.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>OC(w,f,d).next(T=>(f.apply(w),T)).next(T=>i.Cs.removeMatchingKeysForTargetId(w,y.targetId).next(()=>i.Cs.addMatchingKeys(w,a,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,T.Wi,T.zi)).next(()=>T.Wi)))}),Pp.apply(this,arguments)}function wS(n,e){return Hi.apply(this,arguments)}function Hi(){return Hi=(0,ve.Z)(function*(n,e,t=Qt()){const r=yield wh(n,Bi(iy(e.bundledQuery))),i=Qe(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const d=Kr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Ns.saveNamedQuery(a,e);const f=r.withResumeToken(Vr.EMPTY_BYTE_STRING,d);return i.Ui=i.Ui.insert(f.targetId,f),i.Cs.updateTargetData(a,f).next(()=>i.Cs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Cs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(a,e))})}),Hi.apply(this,arguments)}function PC(n,e){return`firestore_clients_${n}_${e}`}function dy(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function v0(n,e){return`firestore_targets_${n}_${e}`}class hy{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let a,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(a=new Fe(i.error.code,i.error.message))),d?new hy(e,t,i.state,a):(hr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rc{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Fe(r.error.code,r.error.message))),a?new Rc(e,r.state,i):(hr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=gu();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=Iv(r.activeTargetIds[d]),a=a.add(r.activeTargetIds[d]);return i?new Rp(e,a):(hr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class fy{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new fy(t.clientId,t.onlineState):(hr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class w0{constructor(){this.activeTargetIds=gu()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class py{constructor(e,t,r,i,a){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new fr(Zt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=PC(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new w0),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const a=e.getItem(PC(e.persistenceKey,i));if(a){const d=Rp.Zi(i,a);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(v0(this.persistenceKey,e));if(r){const i=Rc.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(v0(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return $e("SharedClientState","READ",e,t),t}setItem(e,t){$e("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){$e("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if($e("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void hr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(a){let d=Vi.at;if(null!=a)try{const f=JSON.parse(a);Rt("number"==typeof f),d=f}catch(f){hr("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(r.newValue);i!==Vi.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Mr(a)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new hy(this.currentUser,e,t,r),a=dy(this.persistenceKey,this.currentUser,e);this.setItem(a,i.tr())}Er(e){const t=dy(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=v0(this.persistenceKey,e),a=new Rc(e,t,r);this.setItem(i,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return Rp.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return hy.Zi(new Lr(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return Rc.Zi(i,t)}yr(e){return fy.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);$e("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),d=[],f=[];return a.forEach(y=>{i.has(y)||d.push(y)}),i.forEach(y=>{a.has(y)||f.push(y)}),this.syncEngine.Br(d,f).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=gu();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class E0{constructor(){this.Lr=new w0,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new w0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ES{qr(e){}shutdown(){}}class b0{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const bS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class C0{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class gl extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,a){const d=this.ho(e,t);$e("RestConnection","Sending: ",d,r);const f={};return this.lo(f,i,a),this.fo(e,d,f,r).then(y=>($e("RestConnection","Received: ",y),y),y=>{throw il("RestConnection",`${e} failed with error: `,y,"url: ",d,"request:",r),y})}_o(e,t,r,i,a,d){return this.ao(e,t,r,i,a)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+yc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ho(e,t){return`${this.oo}/v1/${t}:${bS[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((a,d)=>{const f=new mv;f.setWithCredentials(!0),f.listenOnce(YE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Pm.NO_ERROR:const w=f.getResponseJson();$e("Connection","XHR received:",JSON.stringify(w)),a(w);break;case Pm.TIMEOUT:$e("Connection",'RPC "'+e+'" timed out'),d(new Fe(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Pm.HTTP_ERROR:const T=f.getStatus();if($e("Connection",'RPC "'+e+'" failed with status:',T,"response text:",f.getResponseText()),T>0){const A=f.getResponseJson().error;if(A&&A.status&&A.message){const F=function(V){const z=V.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(z)>=0?z:ue.UNKNOWN}(A.status);d(new Fe(F,A.message))}else d(new Fe(ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Fe(ue.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{$e("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);f.send(t,"POST",y,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=yD(),d=KE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new _D({})),this.lo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=i.join("");$e("Connection","Creating WebChannel: "+y,f);const w=a.createWebChannel(y,f);let T=!1,A=!1;const F=new C0({Hr:z=>{A?$e("Connection","Not sending because WebChannel is closed:",z):(T||($e("Connection","Opening WebChannel transport."),w.open(),T=!0),$e("Connection","WebChannel sending:",z),w.send(z))},Jr:()=>w.close()}),V=(z,ie,ce)=>{z.listen(ie,Be=>{try{ce(Be)}catch(Je){setTimeout(()=>{throw Je},0)}})};return V(w,Rm.EventType.OPEN,()=>{A||$e("Connection","WebChannel transport opened.")}),V(w,Rm.EventType.CLOSE,()=>{A||(A=!0,$e("Connection","WebChannel transport closed"),F.io())}),V(w,Rm.EventType.ERROR,z=>{A||(A=!0,il("Connection","WebChannel transport errored:",z),F.io(new Fe(ue.UNAVAILABLE,"The operation could not be completed")))}),V(w,Rm.EventType.MESSAGE,z=>{var ie;if(!A){const ce=z.data[0];Rt(!!ce);const Be=ce,Je=Be.error||(null===(ie=Be[0])||void 0===ie?void 0:ie.error);if(Je){$e("Connection","WebChannel received error:",Je);const Ye=Je.status;let We=function(Tt){const un=Er[Tt];if(void 0!==un)return $b(un)}(Ye),Et=Je.message;void 0===We&&(We=ue.INTERNAL,Et="Unknown error status: "+Ye+" with message "+Je.message),A=!0,F.io(new Fe(We,Et)),w.close()}else $e("Connection","WebChannel received:",ce),F.ro(ce)}}),V(d,QE.STAT_EVENT,z=>{z.stat===JE.PROXY?$e("Connection","Detected buffering proxy"):z.stat===JE.NOPROXY&&$e("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.so()},0),F}}function I0(){return typeof window<"u"?window:null}function Eh(){return typeof document<"u"?document:null}function ds(n){return new Zb(n,!0)}class T0{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&$e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class CS{constructor(e,t,r,i,a,d,f,y){this.Hs=e,this.vo=r,this.Vo=i,this.So=a,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new T0(e,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,ve.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,ve.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,ve.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(hr(t.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===ue.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new Fe(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.No.Ro((0,ve.Z)(function*(){e.state=0,e.start()}))}jo(e){return $e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Hs.enqueueAndForget(()=>this.Do===e?t():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IS extends CS{constructor(e,t,r,i,a,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.It=a}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function Qb(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:ct(),i=e.targetChange.targetIds||[],a=function(y,w){return y.gt?(Rt(void 0===w||"string"==typeof w),Vr.fromBase64String(w||"")):(Rt(void 0===w||w instanceof Uint8Array),Vr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(y){const w=void 0===y.code?ue.UNKNOWN:$b(y.code);return new Fe(w,y.message||"")}(d);t=new Qm(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=mu(n,r.document.name),a=Kr(r.document.updateTime),d=new rn({mapValue:{fields:r.document.fields}}),f=Bn.newFoundDocument(i,a,d);t=new Lv(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=mu(n,r.document),a=r.readTime?Kr(r.readTime):Nt.min(),d=Bn.newNoDocument(i,a);t=new Lv([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=mu(n,r.document);t=new Lv([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ct();{const r=e.filter,a=new VD(r.count||0);t=new Uv(r.targetId,a)}}var y;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return Nt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Nt.min():a.readTime?Kr(a.readTime):Nt.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=vp(this.It),t.addTarget=function(i,a){let d;const f=a.target;return d=dp(f)?{documents:Xb(i,f)}:{query:Gv(i,f)},d.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?d.resumeToken=jv(i,a.resumeToken):a.snapshotVersion.compareTo(Nt.min())>0&&(d.readTime=fh(i,a.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function qD(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ct()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=vp(this.It),t.removeTarget=e,this.Lo(t)}}class TS extends CS{constructor(e,t,r,i,a,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.It=a,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function Jb(n,e){return n&&n.length>0?(Rt(void 0!==e),n.map(t=>function(r,i){let a=Kr(r.updateTime?r.updateTime:i);return a.isEqual(Nt.min())&&(a=Kr(i)),new FD(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Kr(e.commitTime);return this.listener.tu(r,t)}return Rt(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=vp(this.It),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>wp(this.It,r))};this.Lo(t)}}class DS extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.It=i,this.su=!1}iu(){if(this.su)throw new Fe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.So.ao(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(ue.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,d])=>this.So._o(e,t,r,a,d,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Fe(ue.UNKNOWN,a.toString())})}terminate(){this.su=!0}}class VM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(hr(t),this.uu=!1):$e("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class RC{constructor(e,t,r,i,a){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.qr(f=>{r.enqueueAndForget((0,ve.Z)(function*(){var y;Us(d)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,ve.Z)(function*(w){const T=Qe(w);T.wu.add(4),yield kp(T),T.yu.set("Unknown"),T.wu.delete(4),yield Np(T)}),function(w){return y.apply(this,arguments)})(d))}))}),this.yu=new VM(r,i)}}function Np(n){return my.apply(this,arguments)}function my(){return my=(0,ve.Z)(function*(n){if(Us(n))for(const e of n.mu)yield e(!0)}),my.apply(this,arguments)}function kp(n){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,ve.Z)(function*(n){for(const e of n.mu)yield e(!1)}),Fp.apply(this,arguments)}function Lp(n,e){const t=Qe(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),Ch(t)?_y(t):ml(t).Oo()&&yy(t,e))}function bh(n,e){const t=Qe(n),r=ml(t);t._u.delete(e),r.Oo()&&D0(t,e),0===t._u.size&&(r.Oo()?r.$o():Us(t)&&t.yu.set("Unknown"))}function yy(n,e){n.pu.Mt(e.targetId),ml(n).Ho(e)}function D0(n,e){n.pu.Mt(e),ml(n).Jo(e)}function _y(n){n.pu=new Vv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n._u.get(e)||null}),ml(n).start(),n.yu.cu()}function Ch(n){return Us(n)&&!ml(n).ko()&&n._u.size>0}function Us(n){return 0===Qe(n).wu.size}function S0(n){n.pu=void 0}function AS(n){return vy.apply(this,arguments)}function vy(){return vy=(0,ve.Z)(function*(n){n._u.forEach((e,t)=>{yy(n,e)})}),vy.apply(this,arguments)}function NC(n,e){return A0.apply(this,arguments)}function A0(){return A0=(0,ve.Z)(function*(n,e){S0(n),Ch(n)?(n.yu.lu(e),_y(n)):n.yu.set("Unknown")}),A0.apply(this,arguments)}function xS(n,e,t){return kC.apply(this,arguments)}function kC(){return kC=(0,ve.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof Qm&&2===e.state&&e.cause)try{yield(r=(0,ve.Z)(function*(i,a){const d=a.cause;for(const f of a.targetIds)i._u.has(f)&&(yield i.remoteSyncer.rejectListen(f,d),i._u.delete(f),i.pu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){$e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield x0(n,r)}else if(e instanceof Lv?n.pu.Gt(e):e instanceof Uv?n.pu.Yt(e):n.pu.Wt(e),!t.isEqual(Nt.min()))try{const r=yield mS(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const d=i.pu.te(a);return d.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const w=i._u.get(y);w&&i._u.set(y,w.withResumeToken(f.resumeToken,a))}}),d.targetMismatches.forEach(f=>{const y=i._u.get(f);if(!y)return;i._u.set(f,y.withResumeToken(Vr.EMPTY_BYTE_STRING,y.snapshotVersion)),D0(i,f);const w=new ya(y.target,f,1,y.sequenceNumber);yy(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){$e("RemoteStore","Failed to raise snapshot:",r),yield x0(n,r)}var r}),kC.apply(this,arguments)}function x0(n,e,t){return wy.apply(this,arguments)}function wy(){return wy=(0,ve.Z)(function*(n,e,t){if(!lu(e))throw e;n.wu.add(1),yield kp(n),n.yu.set("Offline"),t||(t=()=>mS(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield Np(n)}))}),wy.apply(this,arguments)}function FC(n,e){return e().catch(t=>x0(n,t,e))}function Ih(n){return M0.apply(this,arguments)}function M0(){return M0=(0,ve.Z)(function*(n){const e=Qe(n),t=Eo(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;BM(e);)try{const i=yield yS(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,$M(e,i)}catch(i){yield x0(e,i)}MS(e)&&OS(e)}),M0.apply(this,arguments)}function BM(n){return Us(n)&&n.du.length<10}function $M(n,e){n.du.push(e);const t=Eo(n);t.Oo()&&t.Xo&&t.Zo(e.mutations)}function MS(n){return Us(n)&&!Eo(n).ko()&&n.du.length>0}function OS(n){Eo(n).start()}function jM(n){return O0.apply(this,arguments)}function O0(){return O0=(0,ve.Z)(function*(n){Eo(n).nu()}),O0.apply(this,arguments)}function Ey(n){return P0.apply(this,arguments)}function P0(){return P0=(0,ve.Z)(function*(n){const e=Eo(n);for(const t of n.du)e.Zo(t.mutations)}),P0.apply(this,arguments)}function PS(n,e,t){return by.apply(this,arguments)}function by(){return by=(0,ve.Z)(function*(n,e,t){const r=n.du.shift(),i=ny.from(r,e,t);yield FC(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ih(n)}),by.apply(this,arguments)}function Nc(n,e){return Cy.apply(this,arguments)}function Cy(){return Cy=(0,ve.Z)(function*(n,e){var t;e&&Eo(n).Xo&&(yield(t=(0,ve.Z)(function*(r,i){if(Bb(a=i.code)&&a!==ue.ABORTED){const d=r.du.shift();Eo(r).Fo(),yield FC(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield Ih(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),MS(n)&&OS(n)}),Cy.apply(this,arguments)}function Iy(n,e){return Up.apply(this,arguments)}function Up(){return Up=(0,ve.Z)(function*(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const r=Us(t);t.wu.add(3),yield kp(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Np(t)}),Up.apply(this,arguments)}function R0(n,e){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,ve.Z)(function*(n,e){const t=Qe(n);e?(t.wu.delete(2),yield Np(t)):e||(t.wu.add(2),yield kp(t),t.yu.set("Unknown"))}),Vp.apply(this,arguments)}function ml(n){return n.Iu||(n.Iu=function(e,t,r){const i=Qe(e);return i.iu(),new IS(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:AS.bind(null,n),Zr:NC.bind(null,n),zo:xS.bind(null,n)}),n.mu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Iu.Fo(),Ch(n)?_y(n):n.yu.set("Unknown")):(yield n.Iu.stop(),S0(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Eo(n){return n.Tu||(n.Tu=function(e,t,r){const i=Qe(e);return i.iu(),new TS(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:jM.bind(null,n),Zr:Nc.bind(null,n),eu:Ey.bind(null,n),tu:PS.bind(null,n)}),n.mu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Tu.Fo(),yield Ih(n)):(yield n.Tu.stop(),n.du.length>0&&($e("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class LC{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,a){const d=Date.now()+r,f=new LC(e,t,d,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bp(n,e){if(hr("AsyncQueue",`${e}: ${n}`),lu(n))return new Fe(ue.UNAVAILABLE,`${e}: ${n}`);throw n}class $p{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ke.comparator(t.key,r.key):(t,r)=>Ke.comparator(t.key,r.key),this.keyedMap=Tc(),this.sortedSet=new fr(this.comparator)}static emptySet(e){return new $p(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $p)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new $p;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class RS{constructor(){this.Eu=new fr(Ke.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):ct():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class kc{constructor(e,t,r,i,a,d,f,y,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=y,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,a){const d=[];return t.forEach(f=>{d.push({type:0,doc:f})}),new kc(e,t,$p.emptySet(t),d,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class NS{constructor(){this.Ru=void 0,this.listeners=[]}}class kS{constructor(){this.queries=new pu(e=>xv(e),qm),this.onlineState="Unknown",this.bu=new Set}}function N0(n,e){return k0.apply(this,arguments)}function k0(){return k0=(0,ve.Z)(function*(n,e){const t=Qe(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new NS),i)try{a.Ru=yield t.onListen(r)}catch(d){const f=Bp(d,`Initialization of query '${uh(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Pu(t.onlineState),a.Ru&&e.vu(a.Ru)&&F0(t)}),k0.apply(this,arguments)}function Ty(n,e){return Dy.apply(this,arguments)}function Dy(){return Dy=(0,ve.Z)(function*(n,e){const t=Qe(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const d=a.listeners.indexOf(e);d>=0&&(a.listeners.splice(d,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Dy.apply(this,arguments)}function UC(n,e){const t=Qe(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const f of d.listeners)f.vu(i)&&(r=!0);d.Ru=i}}r&&F0(t)}function FS(n,e,t){const r=Qe(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function F0(n){n.bu.forEach(e=>{e.next()})}class Sy{constructor(e,t,r){this.query=e,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new kc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||(!this.options.ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}class L0{constructor(e,t){this.payload=e,this.byteLength=t}Ou(){return"metadata"in this.payload}}class LS{constructor(e){this.It=e}Ji(e){return mu(this.It,e)}Yi(e){return e.metadata.exists?Yb(this.It,e.document,!1):Bn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Kr(e)}}class VC{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ay(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Kt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new LS(this.It);for(const i of e)if(i.metadata.queries){const a=r.Ji(i.metadata.name);for(const d of i.metadata.queries){const f=(t.get(d)||Qt()).add(a);t.set(d,f)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function vS(n,e,t,r){return Pp.apply(this,arguments)}(e.localStore,new LS(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield wS(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Ay(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class BC{constructor(e){this.key=e}}class $C{constructor(e){this.key=e}}class US{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Qt(),this.mutatedKeys=Qt(),this.Gu=Ov(e),this.Qu=new $p(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new RS,i=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,d=i,f=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,A)=>{const F=i.get(T),V=Mv(this.query,A)?A:null,z=!!F&&this.mutatedKeys.has(F.key),ie=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let ce=!1;F&&V?F.data.isEqual(V.data)?z!==ie&&(r.track({type:3,doc:V}),ce=!0):this.Hu(F,V)||(r.track({type:2,doc:V}),ce=!0,(y&&this.Gu(V,y)>0||w&&this.Gu(V,w)<0)&&(f=!0)):!F&&V?(r.track({type:0,doc:V}),ce=!0):F&&!V&&(r.track({type:1,doc:F}),ce=!0,(y||w)&&(f=!0)),ce&&(V?(d=d.add(V),a=ie?a.add(T):a.delete(T)):(d=d.delete(T),a=a.delete(T)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const T="F"===this.query.limitType?d.last():d.first();d=d.delete(T.key),a=a.delete(T.key),r.track({type:1,doc:T})}return{Qu:d,zu:r,$i:f,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Au();a.sort((w,T)=>function(A,F){const V=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return V(A)-V(F)}(w.type,T.type)||this.Gu(w.doc,T.doc)),this.Ju(r);const d=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,y=f!==this.qu;return this.qu=f,0!==a.length||y?{snapshot:new kc(this.query,e.Qu,i,a,e.mutatedKeys,0===f,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new RS,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Qt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new $C(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new BC(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=Qt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return kc.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class HM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class VS{constructor(e){this.key=e,this.nc=!1}}class BS{constructor(e,t,r,i,a,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new pu(f=>xv(f),qm),this.rc=new Map,this.oc=new Set,this.uc=new fr(Ke.comparator),this.cc=new Map,this.ac=new IC,this.hc={},this.lc=new Map,this.fc=yh.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function $S(n,e){return jC.apply(this,arguments)}function jC(){return jC=(0,ve.Z)(function*(n,e){const t=qS(n);let r,i;const a=t.ic.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.ec();else{const d=yield wh(t.localStore,Bi(e));t.isPrimaryClient&&Lp(t.remoteStore,d);const f=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield HC(t,e,r,"current"===f,d.resumeToken)}return i}),jC.apply(this,arguments)}function HC(n,e,t,r,i){return zC.apply(this,arguments)}function zC(){return zC=(0,ve.Z)(function*(n,e,t,r,i){n._c=(A,F,V)=>{return(z=(0,ve.Z)(function*(ie,ce,Be,Je){let Ye=ce.view.Wu(Be);Ye.$i&&(Ye=yield Op(ie.localStore,ce.query,!1).then(({documents:Tt})=>ce.view.Wu(Tt,Ye)));const We=Je&&Je.targetChanges.get(ce.targetId),Et=ce.view.applyChanges(Ye,ie.isPrimaryClient,We);return P(ie,ce.targetId,Et.Xu),Et.snapshot}),function(ie,ce,Be,Je){return z.apply(this,arguments)})(n,A,F,V);var z};const a=yield Op(n.localStore,e,!0),d=new US(e,a.Hi),f=d.Wu(a.documents),y=_p.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=d.applyChanges(f,n.isPrimaryClient,y);P(n,t,w.Xu);const T=new HM(e,t,d);return n.ic.set(e,T),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),w.snapshot}),zC.apply(this,arguments)}function zM(n,e){return GC.apply(this,arguments)}function GC(){return GC=(0,ve.Z)(function*(n,e){const t=Qe(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(a=>!qm(a,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Mp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),bh(t.remoteStore,r.targetId),C(t,r.targetId)}).catch(ol))):(C(t,r.targetId),yield Mp(t.localStore,r.targetId,!0))}),GC.apply(this,arguments)}function qC(){return qC=(0,ve.Z)(function*(n,e,t){const r=ZS(n);try{const i=yield function(a,d){const f=Qe(a),y=pn.now(),w=d.reduce((F,V)=>F.add(V.key),Qt());let T,A;return f.persistence.runTransaction("Locally write mutations","readwrite",F=>{let V=$i(),z=Qt();return f.Gi.getEntries(F,w).next(ie=>{V=ie,V.forEach((ce,Be)=>{Be.isValidDocument()||(z=z.add(ce))})}).next(()=>f.localDocuments.getOverlayedDocuments(F,V)).next(ie=>{T=ie;const ce=[];for(const Be of d){const Je=UD(Be,T.get(Be.key).overlayedDocument);null!=Je&&ce.push(new fu(Be.key,Je,xD(Je.value.mapValue),Wn.exists(!0)))}return f.mutationQueue.addMutationBatch(F,y,ce,d)}).next(ie=>{A=ie;const ce=ie.applyToLocalDocumentSet(T,z);return f.documentOverlayCache.saveOverlays(F,ie.batchId,ce)})}).then(()=>({batchId:A.batchId,changes:Km(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,d,f){let y=a.hc[a.currentUser.toKey()];y||(y=new fr(Zt)),y=y.insert(d,f),a.hc[a.currentUser.toKey()]=y}(r,i.batchId,t),yield ee(r,i.changes),yield Ih(r.remoteStore)}catch(i){const a=Bp(i,"Failed to persist write");t.reject(a)}}),qC.apply(this,arguments)}function HS(n,e){return ZC.apply(this,arguments)}function ZC(){return ZC=(0,ve.Z)(function*(n,e){const t=Qe(n);try{const r=yield UM(t.localStore,e);e.targetChanges.forEach((i,a)=>{const d=t.cc.get(a);d&&(Rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.nc=!0:i.modifiedDocuments.size>0?Rt(d.nc):i.removedDocuments.size>0&&(Rt(d.nc),d.nc=!1))}),yield ee(t,r,e)}catch(r){yield ol(r)}}),ZC.apply(this,arguments)}function zS(n,e,t){const r=Qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((a,d)=>{const f=d.view.Pu(e);f.snapshot&&i.push(f.snapshot)}),function(a,d){const f=Qe(a);f.onlineState=d;let y=!1;f.queries.forEach((w,T)=>{for(const A of T.listeners)A.Pu(d)&&(y=!0)}),y&&F0(f)}(r.eventManager,e),i.length&&r.sc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function GM(n,e,t){return WC.apply(this,arguments)}function WC(){return WC=(0,ve.Z)(function*(n,e,t){const r=Qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),a=i&&i.key;if(a){let d=new fr(Ke.comparator);d=d.insert(a,Bn.newNoDocument(a,Nt.min()));const f=Qt().add(a),y=new hh(Nt.min(),new Map,new kn(Zt),d,f);yield HS(r,y),r.uc=r.uc.remove(a),r.cc.delete(e),W(r)}else yield Mp(r.localStore,e,!1).then(()=>C(r,e,t)).catch(ol)}),WC.apply(this,arguments)}function s(n,e){return o.apply(this,arguments)}function o(){return o=(0,ve.Z)(function*(n,e){const t=Qe(n),r=e.batch.batchId;try{const i=yield LM(t.localStore,e);E(t,r,null),_(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ee(t,i)}catch(i){yield ol(i)}}),o.apply(this,arguments)}function u(n,e,t){return c.apply(this,arguments)}function c(){return c=(0,ve.Z)(function*(n,e,t){const r=Qe(n);try{const i=yield function(a,d){const f=Qe(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return f.mutationQueue.lookupMutationBatch(y,d).next(T=>(Rt(null!==T),w=T.keys(),f.mutationQueue.removeMutationBatch(y,T))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,w,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>f.localDocuments.getDocuments(y,w))})}(r.localStore,e);E(r,e,t),_(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ee(r,i)}catch(i){yield ol(i)}}),c.apply(this,arguments)}function p(){return p=(0,ve.Z)(function*(n,e){const t=Qe(n);Us(t.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const d=Qe(a);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=Bp(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),p.apply(this,arguments)}function _(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function E(n,e,t){const r=Qe(n);let i=r.hc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function C(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||S(n,r)})}function S(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(bh(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),W(n))}function P(n,e,t){for(const r of t)r instanceof BC?(n.ac.addReference(r.key,e),L(n,r)):r instanceof $C?($e("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||S(n,r.key)):ct()}function L(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||($e("SyncEngine","New document in limbo: "+t),n.oc.add(r),W(n))}function W(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Ke(Kt.fromString(e)),r=n.fc.next();n.cc.set(r,new VS(t)),n.uc=n.uc.insert(t,r),Lp(n.remoteStore,new ya(Bi(bc(t.path)),r,2,Vi.at))}}function ee(n,e,t){return Ce.apply(this,arguments)}function Ce(){return Ce=(0,ve.Z)(function*(n,e,t){const r=Qe(n),i=[],a=[],d=[];var f;r.ic.isEmpty()||(r.ic.forEach((f,y)=>{d.push(r._c(y,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const T=AC.Ci(y.targetId,w);a.push(T)}}))}),yield Promise.all(d),r.sc.zo(i),yield(f=(0,ve.Z)(function*(y,w){const T=Qe(y);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>de.forEach(w,F=>de.forEach(F.Si,V=>T.persistence.referenceDelegate.addReference(A,F.targetId,V)).next(()=>de.forEach(F.Di,V=>T.persistence.referenceDelegate.removeReference(A,F.targetId,V)))))}catch(A){if(!lu(A))throw A;$e("LocalStore","Failed to update sequence numbers: "+A)}for(const A of w){const F=A.targetId;if(!A.fromCache){const V=T.Ui.get(F),ie=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);T.Ui=T.Ui.insert(F,ie)}}}),function(y,w){return f.apply(this,arguments)})(r.localStore,a))}),Ce.apply(this,arguments)}function He(n,e){return Ze.apply(this,arguments)}function Ze(){return Ze=(0,ve.Z)(function*(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){$e("SyncEngine","User change. New user:",e.toKey());const r=yield xp(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(d=>{d.forEach(f=>{f.reject(new Fe(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ee(t,r.ji)}var i}),Ze.apply(this,arguments)}function dt(n,e){const t=Qe(n),r=t.cc.get(e);if(r&&r.nc)return Qt().add(r.key);{let i=Qt();const a=t.rc.get(e);if(!a)return i;for(const d of a){const f=t.ic.get(d);i=i.unionWith(f.view.ju)}return i}}function Dt(n,e){return Pe.apply(this,arguments)}function Pe(){return Pe=(0,ve.Z)(function*(n,e){const t=Qe(n),r=yield Op(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&P(t,e.targetId,i.Xu),i}),Pe.apply(this,arguments)}function kt(n,e){return gn.apply(this,arguments)}function gn(){return gn=(0,ve.Z)(function*(n,e){const t=Qe(n);return _S(t.localStore,e).then(r=>ee(t,r))}),gn.apply(this,arguments)}function er(n,e,t,r){return bu.apply(this,arguments)}function bu(){return bu=(0,ve.Z)(function*(n,e,t,r){const i=Qe(n),a=yield function(d,f){const y=Qe(d),w=Qe(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",T=>w.Tn(T,f).next(A=>A?y.localDocuments.getDocuments(T,A):de.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield Ih(i.remoteStore):"acknowledged"===t||"rejected"===t?(E(i,e,r||null),_(i,e),f=e,Qe(Qe(i.localStore).mutationQueue).An(f)):ct(),yield ee(i,a)):$e("SyncEngine","Cannot apply mutation batch with id: "+e)}),bu.apply(this,arguments)}function jp(){return jp=(0,ve.Z)(function*(n,e){const t=Qe(n);if(qS(t),ZS(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield xy(t,r.toArray());t.dc=!0,yield R0(t.remoteStore,!0);for(const a of i)Lp(t.remoteStore,a)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((a,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(C(t,d),Mp(t.localStore,d,!0))),bh(t.remoteStore,d)}),yield i,yield xy(t,r),function(a){const d=Qe(a);d.cc.forEach((f,y)=>{bh(d.remoteStore,y)}),d.ac.fs(),d.cc=new Map,d.uc=new fr(Ke.comparator)}(t),t.dc=!1,yield R0(t.remoteStore,!1)}}),jp.apply(this,arguments)}function xy(n,e,t){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,ve.Z)(function*(n,e,t){const r=Qe(n),i=[],a=[];for(const d of e){let f;const y=r.rc.get(d);if(y&&0!==y.length){f=yield wh(r.localStore,Bi(y[0]));for(const w of y){const T=r.ic.get(w),A=yield Dt(r,T);A.snapshot&&a.push(A.snapshot)}}else{const w=yield _0(r.localStore,d);f=yield wh(r.localStore,w),yield HC(r,My(w),d,!1,f.resumeToken)}i.push(f)}return r.sc.zo(a),i}),Hp.apply(this,arguments)}function My(n){return Tv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function V0(n){const e=Qe(n);return Qe(Qe(e.localStore).persistence).vi()}function B0(n,e,t,r){return zp.apply(this,arguments)}function zp(){return zp=(0,ve.Z)(function*(n,e,t,r){const i=Qe(n);if(i.dc)return void $e("SyncEngine","Ignoring unexpected query state notification.");const a=i.rc.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const d=yield _S(i.localStore,Sb(a[0])),f=hh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Vr.EMPTY_BYTE_STRING);yield ee(i,d,f);break}case"rejected":yield Mp(i.localStore,e,!0),C(i,e,r);break;default:ct()}}),zp.apply(this,arguments)}function $0(n,e,t){return GS.apply(this,arguments)}function GS(){return GS=(0,ve.Z)(function*(n,e,t){const r=qS(n);if(r.dc){for(const i of e){if(r.rc.has(i)){$e("SyncEngine","Adding an already active target "+i);continue}const a=yield _0(r.localStore,i),d=yield wh(r.localStore,a);yield HC(r,My(a),d.targetId,!1,d.resumeToken),Lp(r.remoteStore,d)}for(const i of t)r.rc.has(i)&&(yield Mp(r.localStore,i,!1).then(()=>{bh(r.remoteStore,i),C(r,i)}).catch(ol))}}),GS.apply(this,arguments)}function qS(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=HS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dt.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GM.bind(null,e),e.sc.zo=UC.bind(null,e.eventManager),e.sc.wc=FS.bind(null,e.eventManager),e}function ZS(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=u.bind(null,e),e}class qM{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.It=ds(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return MC(this.persistence,new xC,e.initialUser,this.It)}yc(e){return new pS(Pc.Bs,this.It)}gc(e){return new E0}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ZM extends qM{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield ZS(r.Ac.syncEngine),yield Ih(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return MC(this.persistence,new xC,e.initialUser,this.It)}Tc(e,t){return new vC(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new ID(t,this.persistence);return new cb(e.asyncQueue,r)}yc(e){const t=cy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ji.withCacheSize(this.cacheSizeBytes):ji.DEFAULT;return new Ap(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,I0(),Eh(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new E0}}class ON extends ZM{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof py&&(r.sharedClientState.syncEngine={Fr:er.bind(null,i),$r:B0.bind(null,i),Br:$0.bind(null,i),vi:V0.bind(null,i),Mr:kt.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var a=(0,ve.Z)(function*(d){yield function U0(n,e){return jp.apply(this,arguments)}(r.Ac.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return a.apply(this,arguments)}}())})()}gc(e){const t=I0();if(!py.C(t))throw new Fe(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=cy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new py(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class WS{initialize(e,t){var r=this;return(0,ve.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>zS(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=He.bind(null,r.syncEngine),yield R0(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new kS}createDatastore(e){const t=ds(e.databaseInfo.databaseId),r=new gl(e.databaseInfo);return new DS(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>zS(this.syncEngine,f,0),d=b0.C()?new b0:new ES,new RC(t,r,i,a,d);var t,r,i,a,d}createSyncEngine(e,t){return function(r,i,a,d,f,y,w){const T=new BS(r,i,a,d,f,y);return w&&(T.dc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const r=Qe(t);$e("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield kp(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function KS(n,e,t){if(!t)throw new Fe(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function WM(n,e,t,r){if(!0===e&&!0===r)throw new Fe(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function KM(n){if(!Ke.isDocumentKey(n))throw new Fe(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function YM(n){if(Ke.isDocumentKey(n))throw new Fe(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function KC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ct()}function hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=KC(n);throw new Fe(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function QM(n,e){if(e<=0)throw new Fe(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const JM=new Map;class XM{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,WM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class j0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XM({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XM(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new rb;switch(t.type){case"gapi":return new Yd(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Fe(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=JM.get(e);t&&($e("ComponentProvider","Removing Datastore"),JM.delete(e),t.terminate())}(this),Promise.resolve()}}function e1(n,e,t,r={}){var i;const a=(n=hn(n,j0))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&il("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,f;if("string"==typeof r.mockUserToken)d=r.mockUserToken,f=Lr.MOCK_USER;else{d=(0,zt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Fe(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Lr(y)}n._authCredentials=new vD(new nb(d,f))}}class ur{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ur(this.firestore,e,this._key)}}class zi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zi(this.firestore,e,this._query)}}class yl extends zi{constructor(e,t,r){super(e,t,bc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ur(this.firestore,null,new Ke(e))}withConverter(e){return new yl(this.firestore,e,this._path)}}function t1(n,e,...t){if(n=(0,zt.m9)(n),KS("collection","path",e),n instanceof j0){const r=Kt.fromString(e,...t);return YM(r),new yl(n,null,r)}{if(!(n instanceof ur||n instanceof yl))throw new Fe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Kt.fromString(e,...t));return YM(r),new yl(n.firestore,null,r)}}function YC(n,e,...t){if(n=(0,zt.m9)(n),1===arguments.length&&(e=yv.R()),KS("doc","path",e),n instanceof j0){const r=Kt.fromString(e,...t);return KM(r),new ur(n,null,new Ke(r))}{if(!(n instanceof ur||n instanceof yl))throw new Fe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Kt.fromString(e,...t));return KM(r),new ur(n.firestore,n instanceof yl?n.converter:null,new Ke(r))}}function n1(n,e){return n=(0,zt.m9)(n),e=(0,zt.m9)(e),(n instanceof ur||n instanceof yl)&&(e instanceof ur||e instanceof yl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function YS(n,e){return n=(0,zt.m9)(n),e=(0,zt.m9)(e),n instanceof zi&&e instanceof zi&&n.firestore===e.firestore&&qm(n._query,e._query)&&n.converter===e.converter}function r1(n,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class QC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class RN{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Ur,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const a=yield e.Cc(i);return new L0(JSON.parse(a),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,ve.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class FN{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ve.Z)(function*(a,d){const f=Qe(a),y=vp(f.It)+"/documents",w={documents:d.map(V=>ph(f.It,V))},T=yield f._o("BatchGetDocuments",y,w,d.length),A=new Map;T.forEach(V=>{const z=function GD(n,e){return"found"in e?function(t,r){Rt(!!r.found);const i=mu(t,r.found.name),a=Kr(r.found.updateTime),d=new rn({mapValue:{fields:r.found.fields}});return Bn.newFoundDocument(i,a,d)}(n,e):"missing"in e?function(t,r){Rt(!!r.missing),Rt(!!r.readTime);const i=mu(t,r.missing),a=Kr(r.readTime);return Bn.newNoDocument(i,a)}(n,e):ct()}(f.It,V);A.set(z.key.toString(),z)});const F=[];return d.forEach(V=>{const z=A.get(V.toString());Rt(!!z),F.push(z)}),F}),function(a,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new dh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Ke.fromPath(i);e.mutations.push(new kv(a,e.precondition(a)))}),yield(r=(0,ve.Z)(function*(i,a){const d=Qe(i),f=vp(d.It)+"/documents",y={writes:a.map(w=>wp(d.It,w))};yield d.ao("Commit",f,y)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ct();t=Nt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Fe(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Nt.min())?Wn.exists(!1):Wn.updateTime(t):Wn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nt.min()))throw new Fe(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Wn.updateTime(t)}return Wn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class LN{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.No=new T0(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.No.Ro((0,ve.Z)(function*(){const t=new FN(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Fc(a)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!nh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Bb(t)}return!1}}class UN{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Lr.UNAUTHENTICATED,this.clientId=yv.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,ve.Z)(function*(f){$e("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>($e("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Bp(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function i1(n,e){return QS.apply(this,arguments)}function QS(){return QS=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ve.Z)(function*(a){r.isEqual(a)||(yield xp(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),QS.apply(this,arguments)}function s1(n,e){return JS.apply(this,arguments)}function JS(){return JS=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield XS(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Iy(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>Iy(e.remoteStore,a)),n.onlineComponents=e}),JS.apply(this,arguments)}function XS(n){return eA.apply(this,arguments)}function eA(){return eA=(0,ve.Z)(function*(n){return n.offlineComponents||($e("FirestoreClient","Using default OfflineComponentProvider"),yield i1(n,new qM)),n.offlineComponents}),eA.apply(this,arguments)}function JC(n){return tA.apply(this,arguments)}function tA(){return tA=(0,ve.Z)(function*(n){return n.onlineComponents||($e("FirestoreClient","Using default OnlineComponentProvider"),yield s1(n,new WS)),n.onlineComponents}),tA.apply(this,arguments)}function o1(n){return XS(n).then(e=>e.persistence)}function XC(n){return XS(n).then(e=>e.localStore)}function nA(n){return JC(n).then(e=>e.remoteStore)}function rA(n){return JC(n).then(e=>e.syncEngine)}function Oy(n){return iA.apply(this,arguments)}function iA(){return iA=(0,ve.Z)(function*(n){const e=yield JC(n),t=e.eventManager;return t.onListen=$S.bind(null,e.syncEngine),t.onUnlisten=zM.bind(null,e.syncEngine),t}),iA.apply(this,arguments)}function u1(n,e,t={}){const r=new Ur;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,a,d,f,y){const w=new QC({next:A=>{a.enqueueAndForget(()=>Ty(i,T));const F=A.docs.has(d);!F&&A.fromCache?y.reject(new Fe(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&A.fromCache&&f&&"server"===f.source?y.reject(new Fe(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),T=new Sy(bc(d.path),w,{includeMetadataChanges:!0,ku:!0});return N0(i,T)}(yield Oy(n),n.asyncQueue,e,t,r)})),r.promise}function l1(n,e,t={}){const r=new Ur;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,a,d,f,y){const w=new QC({next:A=>{a.enqueueAndForget(()=>Ty(i,T)),A.fromCache&&"server"===f.source?y.reject(new Fe(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),T=new Sy(d,w,{includeMetadataChanges:!0,ku:!0});return N0(i,T)}(yield Oy(n),n.asyncQueue,e,t,r)})),r.promise}class qN{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new T0(this,"async_queue_retry"),this.Wc=()=>{const t=Eh();t&&$e("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=Eh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=Eh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Ur;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ve.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(t){if(!lu(t))throw t;$e("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,hr("INTERNAL UNHANDLED ERROR: ",function(a){let d=a.message||"";return a.stack&&(d=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),d}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=LC.createAndSchedule(this,e,t,r,a=>this.Yc(a));return this.qc.push(i),i}zc(){this.Kc&&ct()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function sA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class ZN{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ur,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class lr extends j0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new qN,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||c1(this),this._firestoreClient.terminate()}}function KN(n,e){const t="object"==typeof n?n:(0,Ti.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Ti._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=(0,zt.P0)("firestore");a&&e1(i,...a)}return i}function Br(n){return n._firestoreClient||c1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function c1(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new pb(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new UN(n._authCredentials,n._appCheckCredentials,n._queue,r)}function d1(n,e,t){const r=new Ur;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield i1(n,t),yield s1(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(d=a).name?d.code===ue.FAILED_PRECONDITION||d.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw a;il("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var d})).then(()=>r.promise)}function h1(n){if(n._initialized||n._terminated)throw new Fe(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class _l{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _l(Vr.fromBase64String(e))}catch(t){throw new Fe(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _l(Vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Fc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gp{constructor(e){this._methodName=e}}class eI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const ik=/^__.*__$/;class sk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new fu(e,this.data,this.fieldMask,t,this.fieldTransforms):new ch(e,this.data,t,this.fieldTransforms)}}class f1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new fu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function p1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class tI{constructor(e,t,r,i,a,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new tI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return iI(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(p1(this.sa)&&ik.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class ok{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||ds(e)}da(e,t,r,i=!1){return new tI({sa:e,methodName:t,fa:r,path:En.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function qp(n){const e=n._freezeSettings(),t=ds(n._databaseId);return new ok(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nI(n,e,t,r,i,a={}){const d=n.da(a.merge||a.mergeFields?2:0,e,t,i);lA("Data must be an object, but it was:",d,r);const f=y1(r,d);let y,w;if(a.merge)y=new cs(d.fieldMask),w=d.fieldTransforms;else if(a.mergeFields){const T=[];for(const A of a.mergeFields){const F=cA(e,A,t);if(!d.contains(F))throw new Fe(ue.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);v1(T,F)||T.push(F)}y=new cs(T),w=d.fieldTransforms.filter(A=>y.covers(A.field))}else y=null,w=d.fieldTransforms;return new sk(new rn(f),y,w)}class H0 extends Gp{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof H0}}function g1(n,e,t){return new tI({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class oA extends Gp{_toFieldTransform(e){return new gp(e.path,new lh)}isEqual(e){return e instanceof oA}}class ak extends Gp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=g1(this,e,!0),r=this._a.map(a=>Zp(a,t)),i=new _o(r);return new gp(e.path,i)}isEqual(e){return this===e}}class uk extends Gp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=g1(this,e,!0),r=this._a.map(a=>Zp(a,t)),i=new dl(r);return new gp(e.path,i)}isEqual(e){return this===e}}class lk extends Gp{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Cc(e.It,Mb(e.It,this.wa));return new gp(e.path,t)}isEqual(e){return this===e}}function aA(n,e,t,r){const i=n.da(1,e,t);lA("Data must be an object, but it was:",i,r);const a=[],d=rn.empty();vc(r,(y,w)=>{const T=rI(e,y,t);w=(0,zt.m9)(w);const A=i.ca(T);if(w instanceof H0)a.push(T);else{const F=Zp(w,A);null!=F&&(a.push(T),d.set(T,F))}});const f=new cs(a);return new f1(d,f,i.fieldTransforms)}function uA(n,e,t,r,i,a){const d=n.da(1,e,t),f=[cA(e,r,t)],y=[i];if(a.length%2!=0)throw new Fe(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<a.length;F+=2)f.push(cA(e,a[F])),y.push(a[F+1]);const w=[],T=rn.empty();for(let F=f.length-1;F>=0;--F)if(!v1(w,f[F])){const V=f[F];let z=y[F];z=(0,zt.m9)(z);const ie=d.ca(V);if(z instanceof H0)w.push(V);else{const ce=Zp(z,ie);null!=ce&&(w.push(V),T.set(V,ce))}}const A=new cs(w);return new f1(T,A,d.fieldTransforms)}function m1(n,e,t,r=!1){return Zp(t,n.da(r?4:3,e))}function Zp(n,e){if(_1(n=(0,zt.m9)(n)))return lA("Unsupported field value:",e,n),y1(n,e);if(n instanceof Gp)return function(t,r){if(!p1(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const d of t){let f=Zp(d,r.aa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,zt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Mb(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=pn.fromDate(t);return{timestampValue:fh(r.It,i)}}if(t instanceof pn){const i=new pn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:fh(r.It,i)}}if(t instanceof eI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof _l)return{bytesValue:jv(r.It,t._byteString)};if(t instanceof ur){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Hv(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${KC(t)}`)}(n,e)}function y1(n,e){const t={};return hb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vc(n,(r,i)=>{const a=Zp(i,e.ra(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function _1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof pn||n instanceof eI||n instanceof _l||n instanceof ur||n instanceof Gp)}function lA(n,e,t){if(!_1(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=KC(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function cA(n,e,t){if((e=(0,zt.m9)(e))instanceof Fc)return e._internalPath;if("string"==typeof e)return rI(n,e);throw iI("Field path arguments must be of type string or ",n,!1,void 0,t)}const ck=new RegExp("[~\\*/\\[\\]]");function rI(n,e,t){if(e.search(ck)>=0)throw iI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Fc(...e.split("."))._internalPath}catch{throw iI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function iI(n,e,t,r,i){const a=r&&!r.isEmpty(),d=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(a||d)&&(y+=" (found",a&&(y+=` in field ${r}`),d&&(y+=` in document ${i}`),y+=")"),new Fe(ue.INVALID_ARGUMENT,f+n+y)}function v1(n,e){return n.some(t=>t.isEqual(e))}class z0{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ur(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new dk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class dk extends z0{data(){return super.data()}}function sI(n,e){return"string"==typeof e?rI(n,e):e instanceof Fc?e._internalPath:e._delegate._internalPath}function w1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Fe(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class G0{}function Th(n,...e){for(const t of e)n=t._apply(n);return n}class hk extends G0{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=qp(e.firestore),r=function(i,a,d,f,y,w,T){let A;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Fe(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){D1(T,w);const V=[];for(const z of T)V.push(T1(f,i,z));A={arrayValue:{values:V}}}else A=T1(f,i,T)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||D1(T,w),A=m1(d,"where",T,"in"===w||"not-in"===w);const F=wr.create(y,w,A);return function(V,z){if(z.dt()){const ce=Dv(V);if(null!==ce&&!ce.isEqual(z.field))throw new Fe(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ce.toString()}' and '${z.field.toString()}'`);const Be=Gm(V);null!==Be&&S1(0,z.field,Be)}const ie=function(ce,Be){for(const Je of ce.filters)if(Be.indexOf(Je.op)>=0)return Je.op;return null}(V,function(ce){switch(ce){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(z.op));if(null!==ie)throw new Fe(ue.INVALID_ARGUMENT,ie===z.op?`Invalid query. You cannot use more than one '${z.op.toString()}' filter.`:`Invalid query. You cannot use '${z.op.toString()}' filters with '${ie.toString()}' filters.`)}(i,F),F}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new zi(e.firestore,e.converter,function(i,a){const d=i.filters.concat([a]);return new ga(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class pk extends G0{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Fe(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new pa(i,a);return function(f,y){if(null===Gm(f)){const w=Dv(f);null!==w&&S1(0,w,y.field)}}(r,d),d}(e._query,this.ma,this.pa);return new zi(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new ga(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class E1 extends G0{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new zi(e.firestore,e.converter,Av(e._query,this.Ia,this.Ta))}}class b1 extends G0{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=I1(e,this.type,this.Ea,this.Aa);return new zi(e.firestore,e.converter,(i=t,new ga((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class C1 extends G0{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=I1(e,this.type,this.Ea,this.Aa);return new zi(e.firestore,e.converter,(i=t,new ga((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function I1(n,e,t,r){if(t[0]=(0,zt.m9)(t[0]),t[0]instanceof z0)return function(i,a,d,f,y){if(!f)throw new Fe(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const T of fp(i))if(T.field.isKeyField())w.push(ih(a,f.key));else{const A=f.data.field(T.field);if($m(A))throw new Fe(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const F=T.field.canonicalString();throw new Fe(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}w.push(A)}return new Fs(w,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=qp(n.firestore);return function(a,d,f,y,w,T){const A=a.explicitOrderBy;if(w.length>A.length)throw new Fe(ue.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let V=0;V<w.length;V++){const z=w[V];if(A[V].field.isKeyField()){if("string"!=typeof z)throw new Fe(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof z}`);if(!Sv(a)&&-1!==z.indexOf("/"))throw new Fe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${z}' contains a slash.`);const ie=a.path.child(Kt.fromString(z));if(!Ke.isDocumentKey(ie))throw new Fe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${ie}' is not because it contains an odd number of segments.`);const ce=new Ke(ie);F.push(ih(d,ce))}else{const ie=m1(f,y,z);F.push(ie)}}return new Fs(F,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function T1(n,e,t){if("string"==typeof(t=(0,zt.m9)(t))){if(""===t)throw new Fe(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sv(e)&&-1!==t.indexOf("/"))throw new Fe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Kt.fromString(t));if(!Ke.isDocumentKey(r))throw new Fe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ih(n,new Ke(r))}if(t instanceof ur)return ih(n,t._key);throw new Fe(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${KC(t)}.`)}function D1(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Fe(ue.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function S1(n,e,t){if(!t.isEqual(e))throw new Fe(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class dA{convertValue(e,t="none"){switch(hu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ct()}}convertObject(e,t){const r={};return vc(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new eI(pr(e.latitude),pr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Cv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(th(e));default:return null}}convertTimestamp(e){const t=ul(e);return new pn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Kt.fromString(e);Rt(qv(r));const i=new cu(r.get(1),r.get(3)),a=new Ke(r.popFirst(5));return i.isEqual(t)||hr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function oI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class bk extends dA{constructor(e){super(),this.firestore=e}convertBytes(e){return new _l(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ur(this.firestore,null,t)}}class Wp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lc extends z0{constructor(e,t,r,i,a,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new q0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(sI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class q0 extends Lc{data(e={}){return super.data(e)}}class Dh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Wp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new q0(this._firestore,this._userDataWriter,r.key,r,new Wp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new q0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Wp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const f=new q0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Wp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,w=-1;return 0!==d.type&&(y=a.indexOf(d.doc.key),a=a.delete(d.doc.key)),1!==d.type&&(a=a.add(d.doc),w=a.indexOf(d.doc.key)),{type:Ck(d.type),doc:f,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ck(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}function A1(n,e){return n instanceof Lc&&e instanceof Lc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Dh&&e instanceof Dh&&n._firestore===e._firestore&&YS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Sh extends dA{constructor(e){super(),this.firestore=e}convertBytes(e){return new _l(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ur(this.firestore,null,t)}}function x1(n,e,t){n=hn(n,ur);const r=hn(n.firestore,lr),i=oI(n.converter,e,t);return Py(r,[nI(qp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Wn.none())])}function M1(n,e,t,...r){n=hn(n,ur);const i=hn(n.firestore,lr),a=qp(i);let d;return d="string"==typeof(e=(0,zt.m9)(e))||e instanceof Fc?uA(a,"updateDoc",n._key,e,t,r):aA(a,"updateDoc",n._key,e),Py(i,[d.toMutation(n._key,Wn.exists(!0))])}function O1(n,...e){var t,r,i;n=(0,zt.m9)(n);let a={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||sA(e[d])||(a=e[d],d++);const f={includeMetadataChanges:a.includeMetadataChanges};if(sA(e[d])){const A=e[d];e[d]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[d+1]=null===(r=A.error)||void 0===r?void 0:r.bind(A),e[d+2]=null===(i=A.complete)||void 0===i?void 0:i.bind(A)}let y,w,T;if(n instanceof ur)w=hn(n.firestore,lr),T=bc(n._key.path),y={next:A=>{e[d]&&e[d](hA(w,n,A))},error:e[d+1],complete:e[d+2]};else{const A=hn(n,zi);w=hn(A.firestore,lr),T=A._query;const F=new Sh(w);y={next:V=>{e[d]&&e[d](new Dh(w,F,A,V))},error:e[d+1],complete:e[d+2]},w1(n._query)}return function(A,F,V,z){const ie=new QC(z),ce=new Sy(F,ie,V);return A.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return N0(yield Oy(A),ce)})),()=>{ie.bc(),A.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return Ty(yield Oy(A),ce)}))}}(Br(w),T,f,y)}function Py(n,e){return function(t,r){const i=new Ur;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function jS(n,e,t){return qC.apply(this,arguments)}(yield rA(t),r,i)})),i.promise}(Br(n),e)}function hA(n,e,t){const r=t.docs.get(e._key),i=new Sh(n);return new Lc(n,i,e._key,r,new Wp(t.hasPendingWrites,t.fromCache),e.converter)}const Rk={maxAttempts:5};class P1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=qp(e)}set(e,t,r){this._verifyNotCommitted();const i=Ah(e,this._firestore),a=oI(i.converter,t,r),d=nI(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,Wn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Ah(e,this._firestore);let d;return d="string"==typeof(t=(0,zt.m9)(t))||t instanceof Fc?uA(this._dataReader,"WriteBatch.update",a._key,t,r,i):aA(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(d.toMutation(a._key,Wn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ah(e,this._firestore);return this._mutations=this._mutations.concat(new dh(t._key,Wn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ah(n,e){if((n=(0,zt.m9)(n)).firestore!==e)throw new Fe(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Nk extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=qp(e)}get(e){const t=Ah(e,this._firestore),r=new bk(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ct();const a=i[0];if(a.isFoundDocument())return new z0(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new z0(this._firestore,r,t._key,null,t.converter);throw ct()})}set(e,t,r){const i=Ah(e,this._firestore),a=oI(i.converter,t,r),d=nI(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const a=Ah(e,this._firestore);let d;return d="string"==typeof(t=(0,zt.m9)(t))||t instanceof Fc?uA(this._dataReader,"Transaction.update",a._key,t,r,i):aA(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,d),this}delete(e){const t=Ah(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ah(e,this._firestore),r=new Sh(this._firestore);return super.get(e).then(i=>new Lc(this._firestore,r,t._key,i._document,new Wp(!1,!1),t.converter))}}function fA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function N1(){if(typeof Uint8Array>"u")throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function k1(){if(!function TD(){return typeof atob<"u"}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){yc=Ti.SDK_VERSION,(0,Ti._registerComponent)(new Yu.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),d=new lr(new ib(t.getProvider("auth-internal")),new wD(t.getProvider("app-check-internal")),function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Fe(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(f.options.projectId,y)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),d._setSettings(i),d},"PUBLIC").setMultipleInstances(!0)),(0,Ti.registerVersion)(tp,"3.7.1",n),(0,Ti.registerVersion)(tp,"3.7.1","esm2017")}();class Z0{constructor(e){this._delegate=e}static fromBase64String(e){return k1(),new Z0(_l.fromBase64String(e))}static fromUint8Array(e){return N1(),new Z0(_l.fromUint8Array(e))}toBase64(){return k1(),this._delegate.toBase64()}toUint8Array(){return N1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function pA(n){return function Hk(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class zk{enableIndexedDbPersistence(e,t){return function YN(n,e){h1(n=hn(n,lr));const t=Br(n),r=n._freezeSettings(),i=new WS;return d1(t,i,new ZM(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function QN(n){h1(n=hn(n,lr));const e=Br(n),t=n._freezeSettings(),r=new WS;return d1(e,r,new ON(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function JN(n){if(n._initialized&&!n._terminated)throw new Fe(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ur;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(r){if(!Ui.C())return Promise.resolve();const i=r+"main";yield Ui.delete(i)}),function(r){return t.apply(this,arguments)})(cy(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class F1{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof cu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&il("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){e1(this._delegate,e,t,r)}enableNetwork(){return function ek(n){return function VN(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield o1(n),t=yield nA(n);return e.setNetworkEnabled(!0),function(r){const i=Qe(r);return i.wu.delete(0),Np(i)}(t)}))}(Br(n=hn(n,lr)))}(this._delegate)}disableNetwork(){return function tk(n){return function BN(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield o1(n),t=yield nA(n);return e.setNetworkEnabled(!1),(r=(0,ve.Z)(function*(i){const a=Qe(i);a.wu.add(0),yield kp(a),a.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Br(n=hn(n,lr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,WM("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function XN(n){return function(e){const t=new Ur;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function h(n,e){return p.apply(this,arguments)}(yield rA(e),t)})),t.promise}(Br(n=hn(n,lr)))}(this._delegate)}onSnapshotsInSync(e){return function Pk(n,e){return function HN(n,e){const t=new QC(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield Oy(n),i=t,Qe(r).bu.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield Oy(n),i=t,void Qe(r).bu.delete(i);var r,i}))}}(Br(n=hn(n,lr)),sA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ry(this,t1(this._delegate,e))}catch(t){throw hs(t,"collection()","Firestore.collection()")}}doc(e){try{return new wa(this,YC(this._delegate,e))}catch(t){throw hs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new fs(this,function PN(n,e){if(n=hn(n,j0),KS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(ue.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new zi(n,null,(t=e,new ga(Kt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw hs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function kk(n,e,t){n=hn(n,lr);const r=Object.assign(Object.assign({},Rk),t);return function(i){if(i.maxAttempts<1)throw new Fe(ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,d){const f=new Ur;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const y=yield function a1(n){return JC(n).then(e=>e.datastore)}(i);new LN(i.asyncQueue,y,d,a,f).run()})),f.promise}(Br(n),i=>e(new Nk(n,i)),r)}(this._delegate,t=>e(new L1(this,t)))}batch(){return Br(this._delegate),new U1(new P1(this._delegate,e=>Py(this._delegate,e)))}loadBundle(e){return function nk(n,e){const t=Br(n=hn(n,lr)),r=new ZN;return function zN(n,e,t,r){const i=function(a,d){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,y=function(y,w){if(y instanceof Uint8Array)return r1(y,w);if(y instanceof ArrayBuffer)return r1(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new RN(y,d);var y}(t,ds(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function MN(n,e,t){const r=Qe(n);var i;(i=(0,ve.Z)(function*(a,d,f){try{const y=yield d.getMetadata();if(yield function(F,V){const z=Qe(F),ie=Kr(V.createTime);return z.persistence.runTransaction("hasNewerBundle","readonly",ce=>z.Ns.getBundleMetadata(ce,V.id)).then(ce=>!!ce&&ce.createTime.compareTo(ie)>=0)}(a.localStore,y))return yield d.close(),f._completeWith({taskState:"Success",documentsLoaded:(F=y).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);f._updateProgress(Ay(y));const w=new VC(y,a.localStore,d.It);let T=yield d.mc();for(;T;){const F=yield w.Fu(T);F&&f._updateProgress(F),T=yield d.mc()}const A=yield w.complete();return yield ee(a,A.Lu,void 0),yield function(F,V){const z=Qe(F);return z.persistence.runTransaction("Save bundle","readwrite",ie=>z.Ns.saveBundleMetadata(ie,V))}(a.localStore,y),f._completeWith(A.progress),Promise.resolve(A.Bu)}catch(y){return il("SyncEngine",`Loading bundle failed with ${y}`),f._failWith(y),Promise.resolve(new Set)}var F}),function(a,d,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield rA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function rk(n,e){return function GN(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,r){const i=Qe(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ns.getNamedQuery(a,r))}(yield XC(n),e)}))}(Br(n=hn(n,lr)),e).then(t=>t?new zi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new fs(this,t):null)}}class aI extends dA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Z0(new _l(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return wa.forKey(t,this.firestore,null)}}class L1{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new aI(e)}get(e){const t=Yp(e);return this._delegate.get(t).then(r=>new W0(this._firestore,new Lc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Yp(e);return r?(fA("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Yp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Yp(e);return this._delegate.delete(t),this}}class U1{constructor(e){this._delegate=e}set(e,t,r){const i=Yp(e);return r?(fA("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Yp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Yp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Kp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new q0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new K0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Kp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Kp(e,new aI(e),t),i.set(t,a)),a}}Kp.INSTANCES=new WeakMap;class wa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new aI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new wa(t,new ur(t._delegate,r,new Ke(e)))}static forKey(e,t,r){return new wa(t,new ur(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ry(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ry(this.firestore,t1(this._delegate,e))}catch(t){throw hs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,zt.m9)(e))instanceof ur&&n1(this._delegate,e)}set(e,t){t=fA("DocumentReference.set",t);try{return t?x1(this._delegate,e,t):x1(this._delegate,e)}catch(r){throw hs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?M1(this._delegate,e):M1(this._delegate,e,t,...r)}catch(i){throw hs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Mk(n){return Py(hn(n.firestore,lr),[new dh(n._key,Wn.none())])}(this._delegate)}onSnapshot(...e){const t=V1(e),r=B1(e,i=>new W0(this.firestore,new Lc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return O1(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function Tk(n){n=hn(n,ur);const e=hn(n.firestore,lr),t=Br(e),r=new Sh(e);return function $N(n,e){const t=new Ur;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,a,d){try{const f=yield function(y,w){const T=Qe(y);return T.persistence.runTransaction("read document","readonly",A=>T.localDocuments.getDocument(A,w))}(i,a);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new Fe(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const y=Bp(f,`Failed to get document '${a} from cache`);d.reject(y)}}),function(i,a,d){return r.apply(this,arguments)})(yield XC(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Lc(e,r,n._key,i,new Wp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Dk(n){n=hn(n,ur);const e=hn(n.firestore,lr);return u1(Br(e),n._key,{source:"server"}).then(t=>hA(e,n,t))}(this._delegate):function Ik(n){n=hn(n,ur);const e=hn(n.firestore,lr);return u1(Br(e),n._key).then(t=>hA(e,n,t))}(this._delegate),t.then(r=>new W0(this.firestore,new Lc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new wa(this.firestore,this._delegate.withConverter(e?Kp.getInstance(this.firestore,e):null))}}function hs(n,e,t){return n.message=n.message.replace(e,t),n}function V1(n){for(const e of n)if("object"==typeof e&&!pA(e))return e;return{}}function B1(n,e){var t,r;let i;return i=pA(n[0])?n[0]:pA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class W0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new wa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return A1(this._delegate,e._delegate)}}class K0 extends W0{data(e){const t=this._delegate.data(e);return function tb(n,e){n||ct()}(void 0!==t),t}}class fs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new aI(e)}where(e,t,r){try{return new fs(this.firestore,Th(this._delegate,function fk(n,e,t){const r=e,i=sI("where",n);return new hk(i,r,t)}(e,t,r)))}catch(i){throw hs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new fs(this.firestore,Th(this._delegate,function gk(n,e="asc"){const t=e,r=sI("orderBy",n);return new pk(r,t)}(e,t)))}catch(r){throw hs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new fs(this.firestore,Th(this._delegate,function mk(n){return QM("limit",n),new E1("limit",n,"F")}(e)))}catch(t){throw hs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new fs(this.firestore,Th(this._delegate,function yk(n){return QM("limitToLast",n),new E1("limitToLast",n,"L")}(e)))}catch(t){throw hs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new fs(this.firestore,Th(this._delegate,function _k(...n){return new b1("startAt",n,!0)}(...e)))}catch(t){throw hs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new fs(this.firestore,Th(this._delegate,function vk(...n){return new b1("startAfter",n,!1)}(...e)))}catch(t){throw hs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new fs(this.firestore,Th(this._delegate,function wk(...n){return new C1("endBefore",n,!1)}(...e)))}catch(t){throw hs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new fs(this.firestore,Th(this._delegate,function Ek(...n){return new C1("endAt",n,!0)}(...e)))}catch(t){throw hs(t,"endAt()","Query.endAt()")}}isEqual(e){return YS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Ak(n){n=hn(n,zi);const e=hn(n.firestore,lr),t=Br(e),r=new Sh(e);return function jN(n,e){const t=new Ur;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,a,d){try{const f=yield Op(i,a,!0),y=new US(a,f.Hi),w=y.Wu(f.documents),T=y.applyChanges(w,!1);d.resolve(T.snapshot)}catch(f){const y=Bp(f,`Failed to execute query '${a} against cache`);d.reject(y)}}),function(i,a,d){return r.apply(this,arguments)})(yield XC(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Dh(e,r,n,i))}(this._delegate):"server"===e?.source?function xk(n){n=hn(n,zi);const e=hn(n.firestore,lr),t=Br(e),r=new Sh(e);return l1(t,n._query,{source:"server"}).then(i=>new Dh(e,r,n,i))}(this._delegate):function Sk(n){n=hn(n,zi);const e=hn(n.firestore,lr),t=Br(e),r=new Sh(e);return w1(n._query),l1(t,n._query).then(i=>new Dh(e,r,n,i))}(this._delegate),t.then(r=>new gA(this.firestore,new Dh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=V1(e),r=B1(e,i=>new gA(this.firestore,new Dh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return O1(this._delegate,t,r)}withConverter(e){return new fs(this.firestore,this._delegate.withConverter(e?Kp.getInstance(this.firestore,e):null))}}class qk{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new K0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new fs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new K0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new qk(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new K0(this._firestore,r))})}isEqual(e){return A1(this._delegate,e._delegate)}}class Ry extends fs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new wa(this.firestore,e):null}doc(e){try{return new wa(this.firestore,void 0===e?YC(this._delegate):YC(this._delegate,e))}catch(t){throw hs(t,"doc()","CollectionReference.doc()")}}add(e){return function Ok(n,e){const t=hn(n.firestore,lr),r=YC(n),i=oI(n.converter,e);return Py(t,[nI(qp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Wn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new wa(this.firestore,t))}isEqual(e){return n1(this._delegate,e._delegate)}withConverter(e){return new Ry(this.firestore,this._delegate.withConverter(e?Kp.getInstance(this.firestore,e):null))}}function Yp(n){return hn(n,ur)}class mA{constructor(...e){this._delegate=new Fc(...e)}static documentId(){return new mA(En.keyField().canonicalString())}isEqual(e){return(e=(0,zt.m9)(e))instanceof Fc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Qp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Lk(){return new oA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Qp(e)}static delete(){const e=function Fk(){return new H0("deleteField")}();return e._methodName="FieldValue.delete",new Qp(e)}static arrayUnion(...e){const t=function Uk(...n){return new ak("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Qp(t)}static arrayRemove(...e){const t=function Vk(...n){return new uk("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Qp(t)}static increment(e){const t=function Bk(n){return new lk("increment",n)}(e);return t._methodName="FieldValue.increment",new Qp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Zk={Firestore:F1,GeoPoint:eI,Timestamp:pn,Blob:Z0,Transaction:L1,WriteBatch:U1,DocumentReference:wa,DocumentSnapshot:W0,Query:fs,QueryDocumentSnapshot:K0,QuerySnapshot:gA,CollectionReference:Ry,FieldPath:mA,FieldValue:Qp,setLogLevel:function Gk(n){!function XE(n){au.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Kk(n){(function Wk(n,e){n.INTERNAL.registerComponent(new Yu.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Zk)))})(n,(e,t)=>new F1(e,t,new zk)),n.registerVersion("@firebase/firestore-compat","0.2.1")}(R_.Z);var Yk=k(6451),uI=k(5363),Qk=k(6063);class Jk extends yr.x{constructor(e=1/0,t=1/0,r=Qk.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:d}=this;t||(r.push(e),!i&&r.push(a.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let d=0;d<a.length&&!e.closed;d+=r?1:2)e.next(a[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const d=t.now();let f=0;for(let y=1;y<r.length&&r[y]<=d;y+=2)f=y;f&&r.splice(0,f+1)}}}var Xk=k(3099);function $1(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,Xk.B)({connector:()=>new Jk(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function j1(n,e){return(0,Ds.m)(e)?qn(()=>n,e):qn(()=>n)}var yA=k(9468),Uc=k(5867);class Jp{constructor(e){return e}}class lI{constructor(){return(0,Uc.C6)()}}const _A=new l.OlP("angularfire2._apps"),tF={provide:Jp,useFactory:function eF(n){return n&&1===n.length?n[0]:new Jp((0,Uc.Mq)())},deps:[[new l.FiY,_A]]},nF={provide:lI,deps:[[new l.FiY,_A]]};function rF(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Jp(r)}}let iF=(()=>{class n{constructor(t){(0,Uc.KN)("angularfire",Wt.q4.full,"core"),(0,Uc.KN)("angularfire",Wt.q4.full,"app"),(0,Uc.KN)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[tF,nF]}),n})();function sF(n,...e){return{ngModule:iF,providers:[{provide:_A,useFactory:rF(n),multi:!0,deps:[l.R0b,l.zs3,Wt.HU,...e]}]}}const oF=(0,Wt.u3)(Uc.ZF,!0),H1=new Map,aF={activated:!1,tokenObservers:[]},uF={initialized:!1,enabled:!1};function _i(n){return H1.get(n)||aF}function Ea(n,e){H1.set(n,e)}function cI(){return uF}class fF{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ve.Z)(function*(){t.stop();try{t.pending=new zt.BH,yield function pF(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new zt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ps=new zt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function G1(n){if(!_i(n).activated)throw ps.create("use-before-activation",{appName:n.name})}function EA(n,e){return bA.apply(this,arguments)}function bA(){return bA=(0,ve.Z)(function*({url:n,body:e},t){var r,i;const a={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const V=yield d.getHeartbeatsHeader();V&&(a["X-Firebase-Client"]=V)}const f={method:"POST",body:JSON.stringify(e),headers:a};let y,w;try{y=yield fetch(n,f)}catch(V){throw ps.create("fetch-network-error",{originalErrorMessage:null===(r=V)||void 0===r?void 0:r.message})}if(200!==y.status)throw ps.create("fetch-status-error",{httpStatus:y.status});try{w=yield y.json()}catch(V){throw ps.create("fetch-parse-error",{originalErrorMessage:null===(i=V)||void 0===i?void 0:i.message})}const T=w.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw ps.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const A=1e3*Number(T[1]),F=Date.now();return{token:w.token,expireTimeMillis:F+A,issuedAtTimeMillis:F}}),bA.apply(this,arguments)}function _F(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Y0="firebase-app-check-store";let fI=null;function Z1(){return fI||(fI=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var a;e(ps.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Y0,{keyPath:"compositeKey"})}}catch(r){e(ps.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),fI)}function CA(){return CA=(0,ve.Z)(function*(n,e){const r=(yield Z1()).transaction(Y0,"readwrite"),a=r.objectStore(Y0).put({compositeKey:n,value:e});return new Promise((d,f)=>{a.onsuccess=y=>{d()},r.onerror=y=>{var w;f(ps.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})}),CA.apply(this,arguments)}const Q0=new la.Yd("@firebase/app-check");function DA(n,e){return(0,zt.hl)()?function bF(n,e){return function W1(n,e){return CA.apply(this,arguments)}(function Y1(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Q0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Q1(){return cI().enabled}function J1(){return AA.apply(this,arguments)}function AA(){return AA=(0,ve.Z)(function*(){const n=cI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),AA.apply(this,arguments)}const AF={error:"UNKNOWN_ERROR"};function xF(n){return zt.US.encodeString(JSON.stringify(n),!1)}function pI(n){return xA.apply(this,arguments)}function xA(){return xA=(0,ve.Z)(function*(n,e=!1){const t=n.app;G1(t);const r=_i(t);let a,i=r.token;if(i&&!Ny(i)&&(Ea(t,Object.assign(Object.assign({},r),{token:void 0})),i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(Ny(y)?i=y:yield DA(t,void 0))}if(!e&&i&&Ny(i))return{token:i.token};let f,d=!1;if(Q1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=EA(_F(t,yield J1()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const y=yield r.exchangeTokenPromise;return yield DA(t,y),Ea(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),i=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?Q0.warn(y.message):Q0.error(y),a=y}return i?a?f=Ny(i)?{token:i.token,internalError:a}:tO(a):(f={token:i.token},Ea(t,Object.assign(Object.assign({},r),{token:i})),yield DA(t,i)):f=tO(a),d&&eO(t,f),f}),xA.apply(this,arguments)}function OA(n,e){const t=_i(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Ea(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function X1(n){const{app:e}=n,t=_i(e);let r=t.tokenRefresher;r||(r=function MF(n){const{app:e}=n;return new fF((0,ve.Z)(function*(){let r;if(r=_i(e).token?yield pI(n,!0):yield pI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=_i(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Ea(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function eO(n,e){const t=_i(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Ny(n){return n.expireTimeMillis-Date.now()>0}function tO(n){return{token:xF(AF),error:n}}class OF{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=_i(this.app);for(const t of e)OA(this.app,t.next);return Promise.resolve()}}const lO="app-check-internal";!function GF(){(0,Ti._registerComponent)(new Yu.wA("app-check",n=>function PF(n,e){return new OF(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(lO).initialize()})),(0,Ti._registerComponent)(new Yu.wA(lO,n=>function RF(n){return{getToken:e=>pI(n,e),addTokenListener:e=>function MA(n,e,t,r){const{app:i}=n,a=_i(i),d={next:t,error:r,type:e};if(Ea(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,d]})),a.token&&Ny(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),X1(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>X1(n))}(n,"INTERNAL",e),removeTokenListener:e=>OA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ti.registerVersion)("@firebase/app-check","0.5.15")}();class Xp{constructor(){return(0,Wt.vb)("app-check")}}typeof window<"u"&&window;var FA=k(127);const dO=new l.OlP("angularfire2.auth.use-emulator"),hO=new l.OlP("angularfire2.auth.settings"),fO=new l.OlP("angularfire2.auth.tenant-id"),pO=new l.OlP("angularfire2.auth.langugage-code"),gO=new l.OlP("angularfire2.auth.use-device-language"),mO=new l.OlP("angularfire.auth.persistence"),yO=(n,e,t,r,i,a,d,f)=>(0,ki.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,a&&y.useDeviceLanguage(),d)for(const[w,T]of Object.entries(d))y.settings[w]=T;return f&&y.setPersistence(f),y},[t,r,i,a,d,f]);let ky=(()=>{class n{constructor(t,r,i,a,d,f,y,w,T,A,F,V){const z=new yr.x,ie=lt(void 0).pipe((0,uI.Q)(d.outsideAngular),qn(()=>a.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,5881)))),(0,ut.U)(()=>(0,ki.on)(t,a,r)),(0,ut.U)(ce=>yO(ce,a,f,w,T,A,y,F)),$1({bufferSize:1,refCount:!1}));if(No(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=lt(null);else{ie.pipe(Y()).subscribe();const Be=ie.pipe(qn(We=>We.getRedirectResult().then(Et=>Et,()=>null)),Wt.iC,$1({bufferSize:1,refCount:!1})),Je=ie.pipe(qn(We=>new _r.y(Et=>({unsubscribe:a.runOutsideAngular(()=>We.onAuthStateChanged(Tt=>Et.next(Tt),Tt=>Et.error(Tt),()=>Et.complete()))})))),Ye=ie.pipe(qn(We=>new _r.y(Et=>({unsubscribe:a.runOutsideAngular(()=>We.onIdTokenChanged(Tt=>Et.next(Tt),Tt=>Et.error(Tt),()=>Et.complete()))}))));this.authState=Be.pipe(j1(Je),(0,yA.R)(d.outsideAngular),(0,uI.Q)(d.insideAngular)),this.user=Be.pipe(j1(Ye),(0,yA.R)(d.outsideAngular),(0,uI.Q)(d.insideAngular)),this.idToken=this.user.pipe(qn(We=>We?(0,an.D)(We.getIdToken()):lt(null))),this.idTokenResult=this.user.pipe(qn(We=>We?(0,an.D)(We.getIdTokenResult()):lt(null))),this.credential=(0,Yk.T)(Be,z,this.authState.pipe(ri(We=>!We))).pipe((0,ut.U)(We=>We?.user?We:null),(0,yA.R)(d.outsideAngular),(0,uI.Q)(d.insideAngular))}return(0,ki.pX)(this,ie,a,{spy:{apply:(ce,Be,Je)=>{(ce.startsWith("signIn")||ce.startsWith("createUser"))&&Je.then(Ye=>z.next(Ye))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ki.Dh),l.LFG(ki.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Wt.HU),l.LFG(dO,8),l.LFG(hO,8),l.LFG(fO,8),l.LFG(pO,8),l.LFG(gO,8),l.LFG(mO,8),l.LFG(Xp,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),QF=(()=>{class n{constructor(){FA.Z.registerVersion("angularfire",Wt.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[ky]}),n})();function _O(n,e){return function JF(n,e=P_.z){return new _r.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function LA(n,e){return _O(n,e).pipe((0,ut.U)(t=>({payload:t,type:"query"})))}function mI(n,e){return LA(n,e).pipe(so(void 0),nm(),(0,ut.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,f)=>{const y=i.find(T=>T.doc.ref.isEqual(d.ref)),w=t?.payload.docs.find(T=>T.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),a}))}function vO(n,e,t){return mI(n,t).pipe(xt((r,i)=>function eL(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function tL(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return UA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return UA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return UA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function $T(n,e=Ts.y){return n=n??jT,(0,Rn.e)((t,r)=>{let i,a=!0;t.subscribe((0,ar.x)(r,d=>{const f=e(d);(a||!n(i,f))&&(a=!1,i=f,r.next(d))}))})}(),(0,ut.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function UA(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function wO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class EO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=mI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ut.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(so(void 0),nm(),ri(([r,i])=>i.length>0||!r),(0,ut.U)(([r,i])=>i),Wt.iC)}auditTrail(e){return this.stateChanges(e).pipe(xt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=wO(e);return vO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Wt.iC)}valueChanges(e={}){return LA(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Wt.iC)}get(e){return(0,an.D)(this.query.get(e)).pipe(Wt.iC)}add(e){return this.ref.add(e)}doc(e){return new bO(this.ref.doc(e),this.afs)}}class bO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=TO(r,t);return new EO(i,a,this.afs)}snapshotChanges(){return function XF(n,e){return _O(n,e).pipe(so(void 0),nm(),(0,ut.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Wt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ut.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,an.D)(this.ref.get(e)).pipe(Wt.iC)}}class nL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?mI(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ri(t=>t.length>0),Wt.iC):mI(this.query,this.afs.schedulers.outsideAngular).pipe(Wt.iC)}auditTrail(e){return this.stateChanges(e).pipe(xt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=wO(e);return vO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Wt.iC)}valueChanges(e={}){return LA(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Wt.iC)}get(e){return(0,an.D)(this.query.get(e)).pipe(Wt.iC)}}const CO=new l.OlP("angularfire2.enableFirestorePersistence"),IO=new l.OlP("angularfire2.firestore.persistenceSettings"),rL=new l.OlP("angularfire2.firestore.settings"),iL=new l.OlP("angularfire2.firestore.use-emulator");function TO(n,e=(t=>t)){return{query:e(n),ref:n}}let eg=(()=>{class n{constructor(t,r,i,a,d,f,y,w,T,A,F,V,z,ie,ce,Be,Je){this.schedulers=y;const Ye=(0,ki.on)(t,f,r),We=T;A&&yO(Ye,f,F,z,ie,ce,V,Be),[this.firestore,this.persistenceEnabled$]=(0,ki.cc)(`${Ye.name}.firestore`,"AngularFirestore",Ye.name,()=>{const Et=f.runOutsideAngular(()=>Ye.firestore());if(a&&Et.settings(a),We&&Et.useEmulator(...We),i&&!No(d)){const Tt=()=>{try{return(0,an.D)(Et.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(un){return typeof console<"u"&&console.warn(un),lt(!1)}};return[Et,f.runOutsideAngular(Tt)]}return[Et,lt(!1)]},[a,We,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:d}=TO(i,r),f=this.schedulers.ngZone.run(()=>a);return new EO(f,d,this)}collectionGroup(t,r){const i=r||(d=>d),a=this.firestore.collectionGroup(t);return new nL(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new bO(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ki.Dh),l.LFG(ki.xv,8),l.LFG(CO,8),l.LFG(rL,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Wt.HU),l.LFG(IO,8),l.LFG(iL,8),l.LFG(ky,8),l.LFG(dO,8),l.LFG(hO,8),l.LFG(fO,8),l.LFG(pO,8),l.LFG(gO,8),l.LFG(mO,8),l.LFG(Xp,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),sL=(()=>{class n{constructor(){FA.Z.registerVersion("angularfire",Wt.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:CO,useValue:!0},{provide:IO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[eg]}),n})(),J0=(()=>{class n{constructor(t){this.afauth=t,this.userid=""}signup(t,r){return this.afauth.createUserWithEmailAndPassword(t,r)}login(t,r){return this.afauth.signInWithEmailAndPassword(t,r)}logout(){return this.afauth.signOut()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ky))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yI=(()=>{class n{constructor(t,r){this.fs=t,this.auths=r}addtocart(t){return this.fs.collection("orders").add(t)}getcart(){return this.fs.collection("orders").snapshotChanges()}deleteproductfromcorder(t){return this.fs.doc(`orders/${t}`).delete()}pushorders(t){return this.fs.collection("orders").add(t)}getorders(){return this.fs.collection("orders").snapshotChanges()}getuser(){return this.fs.collection("orders").doc().get()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(eg),l.LFG(J0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VA=(()=>{class n{constructor(){this.cart$=new Tn(this.getProduct()),this.getCartObs=()=>this.cart$.asObservable()}addProduct(t){this.cart$.next([...this.cart$.value||[],t]),localStorage.setItem("cart",JSON.stringify(this.cart$.value))}removeProduct(t){const r=this.cart$?.value.filter(i=>i.id!==t.id);this.cart$.next(r),localStorage.setItem("cart",JSON.stringify(r))}getcarTotalPrice(){return this.cart$.value.reduce((t,r)=>t+r.price*r.amount,0)}getProduct(){return JSON.parse(localStorage.getItem("cart"))}getcart(){return this.cart$.getValue()}clearCart(){this.cart$.next([]),localStorage.removeItem("cart")}get cartCount(){return this.cart$?.value?.length}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class DO{}const Vc="*";function aL(n,e){return{type:7,name:n,definitions:e,options:{}}}function SO(n,e=null){return{type:4,styles:e,timings:n}}function AO(n,e=null){return{type:2,steps:n,options:e}}function X0(n){return{type:6,styles:n,offset:null}}function BA(n,e,t){return{type:0,name:n,styles:e,options:t}}function xO(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function MO(n){Promise.resolve().then(n)}class ew{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){MO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class OO{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?MO(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==a&&this._onFinish()}),d.onDestroy(()=>{++r==a&&this._onDestroy()}),d.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const PO=["toast-component",""];function uL(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",5),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.remove())}),l.TgZ(1,"span",6),l._uU(2,"\xd7"),l.qZA()()}}function lL(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.hij("[",t.duplicatesCount+1,"]")}}function cL(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1),l.YNc(2,lL,2,1,"ng-container",4),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.titleClass),l.uIk("aria-label",t.title),l.xp6(1),l.hij(" ",t.title," "),l.xp6(1),l.Q6J("ngIf",t.duplicatesCount)}}function dL(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.Q6J("innerHTML",t.message,l.oJD)}}function hL(n,e){if(1&n&&(l.TgZ(0,"div",8),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.uIk("aria-label",t.message),l.xp6(1),l.hij(" ",t.message," ")}}function fL(n,e){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"div",9),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Udp("width",t.width+"%")}}class wL{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class bL{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new yr.x,this._activate=new yr.x,this._manualClose=new yr.x,this._resetTimeout=new yr.x,this._countDuplicate=new yr.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class _I{constructor(e,t,r,i,a,d){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=a,this.toastRef=d,this._onTap=new yr.x,this._onAction=new yr.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const NO=new l.OlP("ToastConfig");class CL extends class EL{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class IL{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let TL=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DL=(()=>{class n{constructor(t,r,i,a){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=a,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new CL(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new IL(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(TL),l.LFG(l._Vd),l.LFG(l.z2F),l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vI=(()=>{class n{constructor(t,r,i,a,d){this.overlay=r,this._injector=i,this.sanitizer=a,this.ngZone=d,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},a=""){return this._preBuildNotification(a,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,a){const{includeTitleDuplicates:d}=this.toastrConfig;for(const f of this.toasts){const y=d&&f.title===t;if((!d||y)&&f.message===r)return f.toastRef.onDuplicate(i,a),f}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,a){return a.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,a)):this._buildNotification(t,r,i,a)}_buildNotification(t,r,i,a){if(!a.toastComponent)throw new Error("toastComponent required");const d=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&a.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==d)return d;this.previousToastMessage=r;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const y=this.overlay.create(a.positionClass,this.overlayContainer);this.index=this.index+1;let w=r;r&&a.enableHtml&&(w=this.sanitizer.sanitize(l.q3G.HTML,r));const T=new bL(y),A=new _I(this.index,a,w,i,t,T),V=l.zs3.create({providers:[{provide:_I,useValue:A}],parent:this._injector}),z=new wL(a.toastComponent,V),ie=y.attach(z,a.newestOnTop);T.componentInstance=ie.instance;const ce={toastId:this.index,title:i||"",message:r||"",toastRef:T,onShown:T.afterActivate(),onHidden:T.afterClosed(),onTap:A.onTap(),onAction:A.onAction(),portal:ie};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ce.toastRef.activate()})),this.toasts.push(ce),ce}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(NO),l.LFG(DL),l.LFG(l.zs3),l.LFG(ea),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SL={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(vI),l.Y36(_I),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(l.d8E("@flyInOut",r.state),l.Tol(r.toastClasses),l.Udp("display",r.displayStyle))},attrs:PO,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(l.YNc(0,uL,3,0,"button",0),l.YNc(1,cL,3,5,"div",1),l.YNc(2,dL,1,3,"div",2),l.YNc(3,hL,2,4,"div",3),l.YNc(4,fL,2,2,"div",4)),2&t&&(l.Q6J("ngIf",r.options.closeButton),l.xp6(1),l.Q6J("ngIf",r.title),l.xp6(1),l.Q6J("ngIf",r.message&&r.options.enableHtml),l.xp6(1),l.Q6J("ngIf",r.message&&!r.options.enableHtml),l.xp6(1),l.Q6J("ngIf",r.options.progressBar))},dependencies:[Pn],encapsulation:2,data:{animation:[aL("flyInOut",[BA("inactive",X0({opacity:0})),BA("active",X0({opacity:1})),BA("removed",X0({opacity:0})),xO("inactive => active",SO("{{ easeTime }}ms {{ easing }}")),xO("active => removed",SO("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let AL=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:NO,useValue:{default:SL,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Vh]}),n})(),kO=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),tg=(()=>{class n extends kO{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const vl=new l.OlP("NgValueAccessor"),OL={provide:vl,useExisting:(0,l.Gpc)(()=>ng),multi:!0},RL=new l.OlP("CompositionEventMode");let ng=(()=>{class n extends kO{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function PL(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(RL,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[l._Bn([OL]),l.qOj]}),n})();function xh(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const Gi=new l.OlP("NgValidators"),Mh=new l.OlP("NgAsyncValidators"),kL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function BO(n){return xh(n.value)?{required:!0}:null}function jO(n){return xh(n.value)||kL.test(n.value)?null:{email:!0}}function wI(n){return null}function qO(n){return null!=n}function ZO(n){return(0,l.QGY)(n)?(0,an.D)(n):n}function WO(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function KO(n,e){return e.map(t=>t(n))}function YO(n){return n.map(e=>function FL(n){return!n.validate}(e)?e:t=>e.validate(t))}function jA(n){return null!=n?function QO(n){if(!n)return null;const e=n.filter(qO);return 0==e.length?null:function(t){return WO(KO(t,e))}}(YO(n)):null}function HA(n){return null!=n?function JO(n){if(!n)return null;const e=n.filter(qO);return 0==e.length?null:function(t){return function xL(...n){const e=(0,os.jO)(n),{args:t,keys:r}=Is(n),i=new _r.y(a=>{const{length:d}=t;if(!d)return void a.complete();const f=new Array(d);let y=d,w=d;for(let T=0;T<d;T++){let A=!1;(0,no.Xf)(t[T]).subscribe((0,ar.x)(a,F=>{A||(A=!0,w--),f[T]=F},()=>y--,void 0,()=>{(!y||!A)&&(w||a.next(r?Ka(r,f):f),a.complete())}))}});return e?i.pipe(Bu(e)):i}(KO(t,e).map(ZO)).pipe((0,ut.U)(WO))}}(YO(n)):null}function XO(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function zA(n){return n?Array.isArray(n)?n:[n]:[]}function EI(n,e){return Array.isArray(n)?n.includes(e):n===e}function nP(n,e){const t=zA(e);return zA(n).forEach(i=>{EI(t,i)||t.push(i)}),t}function rP(n,e){return zA(e).filter(t=>!EI(n,t))}class iP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=jA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=HA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class gs extends iP{get formDirective(){return null}get path(){return null}}class Oh extends iP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sP{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let tw=(()=>{class n extends sP{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Oh,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]}),n})(),nw=(()=>{class n extends sP{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gs,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]}),n})();const rw="VALID",CI="INVALID",Fy="PENDING",iw="DISABLED";function WA(n){return(II(n)?n.validators:n)||null}function aP(n){return Array.isArray(n)?jA(n):n||null}function KA(n,e){return(II(e)?e.asyncValidators:n)||null}function uP(n){return Array.isArray(n)?HA(n):n||null}function II(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class dP{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=aP(this._rawValidators),this._composedAsyncValidatorFn=uP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===rw}get invalid(){return this.status===CI}get pending(){return this.status==Fy}get disabled(){return this.status===iw}get enabled(){return this.status!==iw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=aP(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=uP(e)}addValidators(e){this.setValidators(nP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(nP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(rP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(rP(e,this._rawAsyncValidators))}hasValidator(e){return EI(this._rawValidators,e)}hasAsyncValidator(e){return EI(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Fy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=iw,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=rw,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rw||this.status===Fy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?iw:rw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Fy,this._hasOwnPendingAsyncValidator=!0;const t=ZO(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?iw:this.errors?CI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fy)?Fy:this._anyControlsHaveStatus(CI)?CI:rw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){II(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class YA extends dP{constructor(e,t,r){super(WA(t),KA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function cP(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new l.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function lP(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[t])throw new l.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function sw(n,e){QA(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function GL(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&hP(n,e)})}(n,e),function ZL(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function qL(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&hP(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function zL(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function SI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function QA(n,e){const t=function eP(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(XO(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function tP(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(XO(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();SI(e._rawValidators,i),SI(e._rawAsyncValidators,i)}function hP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const JL={provide:gs,useExisting:(0,l.Gpc)(()=>rg)},ow=(()=>Promise.resolve())();let rg=(()=>{class n extends gs{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new YA({},jA(t),HA(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ow.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),sw(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ow.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ow.then(()=>{const r=this._findContainer(t.path),i=new YA({});(function fP(n,e){QA(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ow.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ow.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function gP(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Gi,10),l.Y36(Mh,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([JL]),l.qOj]}),n})();function mP(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function yP(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const _P=class extends dP{constructor(e=null,t,r){super(WA(t),KA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),II(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=yP(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){mP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){mP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){yP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},t2={provide:Oh,useExisting:(0,l.Gpc)(()=>Ly)},EP=(()=>Promise.resolve())();let Ly=(()=>{class n extends Oh{constructor(t,r,i,a,d){super(),this._changeDetectorRef=d,this.control=new _P,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function XA(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===ng?t=a:function YL(n){return Object.getPrototypeOf(n.constructor)===tg}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function JA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){sw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){EP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,l.D6c)(r);EP.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function TI(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gs,9),l.Y36(Gi,10),l.Y36(Mh,10),l.Y36(vl,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([t2]),l.qOj,l.TTD]}),n})(),aw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const n2={provide:vl,useExisting:(0,l.Gpc)(()=>xI),multi:!0};let xI=(()=>{class n extends tg{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[l._Bn([n2]),l.qOj]}),n})(),bP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const ex=new l.OlP("NgModelWithFormControlWarning");let ig=(()=>{class n{constructor(){this._validator=wI}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):wI,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const _2={provide:Gi,useExisting:(0,l.Gpc)(()=>ox),multi:!0};let ox=(()=>{class n extends ig{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>function OP(n){return"number"==typeof n?n:parseFloat(n)}(t),this.createValidator=t=>function UO(n){return e=>{if(xh(e.value)||xh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[l._Bn([_2]),l.qOj]}),n})();const v2={provide:Gi,useExisting:(0,l.Gpc)(()=>Uy),multi:!0};let Uy=(()=>{class n extends ig{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=t=>BO}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([v2]),l.qOj]}),n})();const E2={provide:Gi,useExisting:(0,l.Gpc)(()=>ax),multi:!0};let ax=(()=>{class n extends ig{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=l.D6c,this.createValidator=t=>jO}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[l._Bn([E2]),l.qOj]}),n})(),LP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[bP]}),n})(),T2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[LP]}),n})(),D2=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ex,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[LP]}),n})();function A2(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr",33)(1,"td"),l._UZ(2,"img",34),l.qZA(),l.TgZ(3,"td",35),l._uU(4),l.qZA(),l.TgZ(5,"td")(6,"button",36),l.NdJ("click",function(){const a=l.CHM(t).index,d=l.oxw(2);return l.KtG(d.mins(a))}),l._UZ(7,"i",37),l.qZA(),l.TgZ(8,"input",38),l.NdJ("ngModelChange",function(i){const d=l.CHM(t).$implicit;return l.KtG(d.amount=i)}),l.qZA(),l.TgZ(9,"button",39),l.NdJ("click",function(){const a=l.CHM(t).index,d=l.oxw(2);return l.KtG(d.plus(a))}),l._UZ(10,"i",40),l.qZA()(),l.TgZ(11,"td",41),l._uU(12),l.ALo(13,"currency"),l.qZA(),l.TgZ(14,"td")(15,"button",42),l.NdJ("click",function(){const a=l.CHM(t).$implicit,d=l.oxw(2);return l.KtG(d.delete(a))}),l._UZ(16,"i",43),l.qZA()(),l._UZ(17,"td"),l.qZA()}if(2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.img,l.LSH),l.xp6(2),l.Oqu(t.name),l.xp6(4),l.Q6J("ngModel",t.amount),l.xp6(4),l.hij("",l.lcZ(13,4,t.price*t.amount)," ")}}function x2(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",22)(1,"table",23)(2,"thead")(3,"tr",24)(4,"th",25),l._uU(5,"Image"),l.qZA(),l.TgZ(6,"th",25),l._uU(7,"Name"),l.qZA(),l.TgZ(8,"th",25),l._uU(9,"value"),l.qZA(),l.TgZ(10,"th",25),l._uU(11,"Price"),l.qZA(),l.TgZ(12,"th")(13,"button",26),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.clearall())}),l._UZ(14,"i",27),l.qZA()()()(),l.TgZ(15,"tbody"),l.YNc(16,A2,18,6,"tr",28),l.qZA()(),l.TgZ(17,"div",29)(18,"div",30)(19,"p"),l._uU(20,"total: "),l.qZA(),l.TgZ(21,"h1"),l._uU(22),l.ALo(23,"currency"),l.qZA()(),l.TgZ(24,"button",31),l._uU(25,"\norder now "),l._UZ(26,"i",32),l.qZA()()()}if(2&n){const t=l.oxw();l.xp6(16),l.Q6J("ngForOf",t.cart),l.xp6(6),l.Oqu(l.lcZ(23,2,t.total))}}function M2(n,e){1&n&&(l.TgZ(0,"div",44),l._uU(1," name is required "),l.qZA())}function O2(n,e){1&n&&(l.TgZ(0,"div",44),l._uU(1," adress is required "),l.qZA())}function P2(n,e){1&n&&(l.TgZ(0,"div",44),l._uU(1," tel is required "),l.qZA())}function R2(n,e){1&n&&(l.TgZ(0,"div",45)(1,"h1"),l._uU(2,"add product"),l.qZA(),l._UZ(3,"i",46),l.qZA())}let N2=(()=>{class n{constructor(t,r,i,a,d,f){this.cs=t,this.fs=r,this.auths=i,this.local=a,this.toastr=d,this.route=f,this.getproduct=[],this.cart=[],this.sendoreder=[],this.user=[],this.order=[],this.add=0}ngOnInit(){this.total=this.local.getcarTotalPrice(),this.getproducts(),this.total=this.local.getcarTotalPrice()}getproducts(){this.local.getCartObs().subscribe(t=>this.cart=t),this.total=this.local.getcarTotalPrice()}addproducts(){this.local.addProduct(this.getproduct)}delete(t){this.local.removeProduct(t),this.getproducts(),this.total=this.local.getcarTotalPrice(),this.toastr.error("Deleted","Product")}clearcart(){return this.local.clearCart()}login(t){this.sendoreder.push(t.value),console.log(this.sendoreder)}sendorders(){let i={setproduct:this.cart.map(a=>({amount:a.amount,price:a.price,img:a.img})),sendoreders:this.sendoreder.map(a=>({name:a.name,adress:a.adress,tel:a.tel})),date:(new Date).toJSON().slice(0,10)};this.cs.pushorders(i).then(()=>this.add=0),this.route.navigate(["/product"]),this.toastr.success("your order has been sended  wait for call","success"),this.local.clearCart()}mins(t){this.cart[t].amount--,this.total=this.local.getcarTotalPrice(),localStorage.setItem("cart",JSON.stringify(this.cart))}plus(t){this.cart[t].amount++,this.total=this.local.getcarTotalPrice(),localStorage.setItem("cart",JSON.stringify(this.cart))}clearall(){this.local.clearCart()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(yI),l.Y36(eg),l.Y36(J0),l.Y36(VA),l.Y36(vI),l.Y36(dr))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-cart"]],decls:33,vars:6,consts:[["class","cart-data",4,"ngIf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-footer"],["f","ngForm"],[1,"form-group"],["for","exampleInputEmail1"],["placeholder","Mohamed","type","text","ngModel","","required","","name","name",1,"form-control"],["name","ngModel"],["class","alert alert-danger",4,"ngIf"],["type","text","ngModel","","required","","name","adress","placeholder","tunisia",1,"form-control"],["adress","ngModel"],["for","exampleInputPassword1"],["type","number","ngModel","","required","","name","tel","placeholder","+216 99 999 999",1,"form-control"],["tel","ngModel"],["type","submit","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-outline-success","sendorder","m-3",3,"disabled","click"],[1,"fa-solid","fa-check"],["class","empty-cart",4,"ngIf"],[1,"cart-data"],[1,"table"],[1,"title"],["scope","col"],[1,"btn","btn-outline-dark",3,"click"],[1,"fa-solid","fa-x"],["class","tr",4,"ngFor","ngForOf"],[1,"fororder"],[1,"thetotal"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-outline-success","ordernow"],[1,"fa-solid","fa-truck"],[1,"tr"],["alt","...",1,"imageproduct",3,"src"],[1,"name"],["min","1",1,"btn","btn-outline-dark",3,"click"],[1,"fa-solid","fa-minus"],["min","1","type","number",1,"amonutinput",3,"ngModel","ngModelChange"],["max","10",1,"btn","btn-outline-dark",3,"click"],[1,"fa-solid","fa-plus"],[1,"price"],[1,"btn","btn-outline-danger",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],[1,"alert","alert-danger"],[1,"empty-cart"],[1,"fa-solid","fa-cart-plus"]],template:function(t,r){if(1&t){const i=l.EpF();l.YNc(0,x2,27,4,"div",0),l.TgZ(1,"div")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h5",5),l._uU(7,"send order"),l.qZA(),l._UZ(8,"button",6),l.qZA(),l.TgZ(9,"div",7)(10,"form",null,8)(12,"div",9)(13,"label",10),l._uU(14,"name"),l.qZA(),l._UZ(15,"input",11,12),l.YNc(17,M2,2,0,"div",13),l.TgZ(18,"label",10),l._uU(19,"adress"),l.qZA(),l._UZ(20,"input",14,15),l.YNc(22,O2,2,0,"div",13),l.qZA(),l.TgZ(23,"div",9)(24,"label",16),l._uU(25,"tel"),l.qZA(),l._UZ(26,"input",17,18),l.YNc(28,P2,2,0,"div",13),l.qZA(),l.TgZ(29,"button",19),l.NdJ("click",function(){l.CHM(i);const d=l.MAs(11);return l.KtG(r.login(d))})("click",function(){return r.sendorders()}),l._uU(30," send "),l._UZ(31,"i",20),l.qZA()()()()()()(),l.YNc(32,R2,4,0,"div",21)}if(2&t){const i=l.MAs(11),a=l.MAs(16),d=l.MAs(21),f=l.MAs(27);l.Q6J("ngIf",0!=r.cart.length),l.xp6(17),l.Q6J("ngIf",a.touched&&a.invalid),l.xp6(5),l.Q6J("ngIf",d.touched&&d.invalid),l.xp6(6),l.Q6J("ngIf",f.touched&&(null==f.errors?null:f.errors.required)),l.xp6(1),l.Q6J("disabled",i.invalid),l.xp6(3),l.Q6J("ngIf",!r.cart||0==r.cart.length)}},dependencies:[Cr,Pn,aw,ng,xI,tw,nw,Uy,ox,Ly,rg,Ma],styles:[".imageproduct[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:30px;box-shadow:inset 0 1px 1px #d3d0d013,0 0 8px #b9b8b8}.amonutinput[_ngcontent-%COMP%]{height:30px;width:-moz-fit-content;width:fit-content;box-shadow:#63636333 0 2px 8px;border-radius:4px;margin:0 10px;text-align:center;border:.1px solid rgb(151,151,151)}.amonutinput[_ngcontent-%COMP%]:focus{outline:none;box-shadow:inset 0 1px 1px #d3d0d013,0 0 8px #b9b8b8}.btn-outline-dark[_ngcontent-%COMP%]{border-radius:4px;text-align:center;border:.1px solid rgb(151,151,151)}.title[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{font-size:15px;text-transform:uppercase;font-weight:600;line-height:1.5;color:#212529;letter-spacing:3px;font-family:Kalam,cursive}.name[_ngcontent-%COMP%], .price[_ngcontent-%COMP%]{line-height:1.5;color:#212529;letter-spacing:3px;font-family:Kalam,cursive}.cart-data[_ngcontent-%COMP%]{margin:100px;padding:50px;border:1px solid;border-radius:14px;box-shadow:inset 0 1px 1px #d3d0d013,0 0 8px #b9b8b8;border:.1px solid rgb(151,151,151)}.thetotal[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-family:Kalam,cursive;color:#212529;display:flex;font-size:20px;text-transform:uppercase}.thetotal[_ngcontent-%COMP%]{display:flex;align-items:baseline;margin-right:30px}.thetotal[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-family:Kalam,cursive;color:#212529;display:flex;font-size:20px;margin:0 20px}.fororder[_ngcontent-%COMP%]{display:flex;align-items:baseline}.ordernow[_ngcontent-%COMP%]{text-transform:capitalize;font-family:Kalam,cursive;padding:10px}.modal-dialog[_ngcontent-%COMP%]{font-family:Kalam,cursive;text-transform:capitalize}.empty-cart[_ngcontent-%COMP%]{text-align:center;font-size:15vw;animation:color 3s infinite alternate;animation:shaking 3s infinite alternate;margin:50px 0}@keyframes shaking{0%{transform:rotate(0);color:#ce8f8f}25%{transform:rotate(-6deg)}50%{transform:rotate(0);color:#c46161}75%{transform:rotate(6deg)}to{transform:rotate(0);color:#c95353}}.empty-cart[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Kalam,cursive;text-transform:capitalize;margin:30px}@media screen and (max-width: 800px){.thetotal[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-family:Kalam,cursive;color:#212529;display:flex;font-size:13px}.thetotal[_ngcontent-%COMP%]{margin:20px;display:flex;align-items:baseline}.thetotal[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-family:Kalam,cursive;color:#212529;display:flex;font-size:12px}.btn-outline-dark[_ngcontent-%COMP%]{display:none}.amonutinput[_ngcontent-%COMP%]{width:60px}.name[_ngcontent-%COMP%]{line-height:1.5;color:#212529;letter-spacing:1px;font-family:Kalam,cursive;font-size:10px}.price[_ngcontent-%COMP%]{line-height:1.5;color:#212529;letter-spacing:3px;font-family:Kalam,cursive;font-size:12px}.imageproduct[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:35px;box-shadow:inset 0 1px 1px #d3d0d013,0 0 8px #b9b8b8}.title[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{font-size:12px}.cart-data[_ngcontent-%COMP%]{margin:10px;padding:5px}}.sendorderform[_ngcontent-%COMP%]{text-align:center}"]}),n})();const UP="firebasestorage.googleapis.com",VP="storageBucket";class xr extends zt.ZR{constructor(e,t,r=0){super(ux(e),`Firebase Storage: ${t} (${ux(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ux(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function ux(n){return"storage/"+n}function lx(){return new xr("unknown","An unknown error occurred, please check the error payload for server response.")}function BP(){return new xr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function $P(){return new xr("canceled","User canceled the upload/download.")}function jP(){return new xr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Vy(n){return new xr("invalid-argument",n)}function HP(){return new xr("app-deleted","The Firebase app was deleted.")}function zP(n){return new xr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function uw(n,e){return new xr("invalid-format","String does not match format '"+n+"': "+e)}function lw(n){throw new xr("internal-error","Internal error: "+n)}class qi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=qi.makeFromUrl(e,t)}catch{return new qi(e,"")}if(""===r.path)return r;throw function G2(n){return new xr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+i+"(/(.*))?$","i");function w(We){We.path_=decodeURIComponent(We.path)}const A=t.replace(/[.]/g,"\\."),Ye=[{regex:f,indices:{bucket:1,path:3},postModify:function a(We){"/"===We.path.charAt(We.path.length-1)&&(We.path_=We.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${A}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:w},{regex:new RegExp(`^https?://${t===UP?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:w}];for(let We=0;We<Ye.length;We++){const Et=Ye[We],Tt=Et.regex.exec(e);if(Tt){let $r=Tt[Et.indices.path];$r||($r=""),r=new qi(Tt[Et.indices.bucket],$r),Et.postModify(r);break}}if(null==r)throw function z2(n){return new xr("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class K2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function MI(n){return"string"==typeof n||n instanceof String}function GP(n){return cx()&&n instanceof Blob}function cx(){return typeof Blob<"u"}function dx(n,e,t,r){if(r<e)throw Vy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Vy(`Invalid value for '${n}'. Expected ${t} or less.`)}function Bc(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function qP(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Ph=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Ph||(Ph={})),Ph))();function ZP(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),a=-1!==e.indexOf(n);return t||i||a}class tU{constructor(e,t,r,i,a,d,f,y,w,T,A,F=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=d,this.callback_=f,this.errorCallback_=y,this.timeout_=w,this.progressCallback_=T,this.connectionFactory_=A,this.retry=F,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,z)=>{this.resolve_=V,this.reject_=z,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,d=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const y=this.callback_(f,f.getResponse());!function J2(n){return void 0!==n}(y)?a():a(y)}catch(y){d(y)}else if(null!==f){const y=lx();y.serverResponse=f.getErrorText(),d(this.errorCallback_?this.errorCallback_(f,y):y)}else d(i.canceled?this.appDelete_?HP():$P():BP())};this.canceled_?t(0,new OI(!1,null,!0)):this.backoffId_=function Y2(n,e,t){let r=1,i=null,a=null,d=!1,f=0;function y(){return 2===f}let w=!1;function T(...ce){w||(w=!0,e.apply(null,ce))}function A(ce){i=setTimeout(()=>{i=null,n(V,y())},ce)}function F(){a&&clearTimeout(a)}function V(ce,...Be){if(w)return void F();if(ce)return F(),void T.call(null,ce,...Be);if(y()||d)return F(),void T.call(null,ce,...Be);let Ye;r<64&&(r*=2),1===f?(f=2,Ye=0):Ye=1e3*(r+Math.random()),A(Ye)}let z=!1;function ie(ce){z||(z=!0,F(),!w&&(null!==i?(ce||(f=2),clearTimeout(i),A(0)):ce||(f=1)))}return A(0),a=setTimeout(()=>{d=!0,ie(!0)},t),ie}((r,i)=>{if(i)return void r(!1,new OI(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const d=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(d),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(d),this.pendingConnection_=null;const f=a.getErrorCode()===Ph.NO_ERROR,y=a.getStatus();if((!f||ZP(y,this.additionalRetryCodes_))&&this.retry){const T=a.getErrorCode()===Ph.ABORT;return void r(!1,new OI(!1,null,T))}const w=-1!==this.successCodes_.indexOf(y);r(!0,new OI(w,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Q2(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class OI{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function uU(...n){const e=function aU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(cx())return new Blob(n);throw new xr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const bo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hx{constructor(e,t){this.data=e,this.contentType=t||null}}function fx(n,e){switch(n){case bo.RAW:return new hx(WP(e));case bo.BASE64:case bo.BASE64URL:return new hx(KP(n,e));case bo.DATA_URL:return new hx(function hU(n){const e=new YP(n);return e.base64?KP(bo.BASE64,e.rest):function dU(n){let e;try{e=decodeURIComponent(n)}catch{throw uw(bo.DATA_URL,"Malformed data URL.")}return WP(e)}(e.rest)}(e),function fU(n){return new YP(n).contentType}(e))}throw lx()}function WP(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function KP(n,e){switch(n){case bo.BASE64:{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw uw(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case bo.BASE64URL:{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw uw(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function cU(n){return atob(n)}(e)}catch{throw uw(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class YP{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw uw(bo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function pU(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class wl{constructor(e,t){let r=0,i="";GP(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(GP(this.data_)){const i=function lU(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new wl(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new wl(r,!0)}}static getBlob(...e){if(cx()){const t=e.map(r=>r instanceof wl?r.data_:r);return new wl(uU.apply(null,t))}{const t=e.map(d=>MI(d)?fx(bo.RAW,d).data:d.data_);let r=0;t.forEach(d=>{r+=d.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(d=>{for(let f=0;f<d.length;f++)i[a++]=d[f]}),new wl(i,!0)}}uploadData(){return this.data_}}function px(n){let e;try{e=JSON.parse(n)}catch{return null}return function eU(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function QP(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function yU(n,e){return e}class ms{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||yU}}let PI=null;function cw(){if(PI)return PI;const n=[];n.push(new ms("bucket")),n.push(new ms("generation")),n.push(new ms("metageneration")),n.push(new ms("name","fullPath",!0));const t=new ms("name");t.xform=function e(a,d){return function _U(n){return!MI(n)||n.length<2?n:QP(n)}(d)},n.push(t);const i=new ms("size");return i.xform=function r(a,d){return void 0!==d?Number(d):d},n.push(i),n.push(new ms("timeCreated")),n.push(new ms("updated")),n.push(new ms("md5Hash",null,!0)),n.push(new ms("cacheControl",null,!0)),n.push(new ms("contentDisposition",null,!0)),n.push(new ms("contentEncoding",null,!0)),n.push(new ms("contentLanguage",null,!0)),n.push(new ms("contentType",null,!0)),n.push(new ms("metadata","customMetadata",!0)),PI=n,PI}function JP(n,e,t){const r=px(e);return null===r?null:function wU(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const d=t[a];r[d.local]=d.xform(r,e[d.server])}return function vU(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new qi(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}function gx(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const XP="prefixes";class El{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function bl(n){if(!n)throw lx()}function RI(n,e){return function t(r,i){const a=JP(n,i,e);return bl(null!==a),a}}function By(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function j2(){return new xr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function $2(){return new xr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function B2(n){return new xr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function H2(n){return new xr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function dw(n){const e=By(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function V2(n){return new xr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}function tR(n,e,t){const i=Bc(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,f=new El(i,"GET",RI(n,t),d);return f.errorHandler=dw(e),f}function DU(n,e,t,r,i){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),i&&(a.maxResults=i);const f=Bc(e.bucketOnlyServerUrl(),n.host,n._protocol),w=n.maxOperationRetryTime,T=new El(f,"GET",function IU(n,e){return function t(r,i){const a=function CU(n,e,t){const r=px(t);return null===r?null:function bU(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[XP])for(const i of t[XP]){const a=i.replace(/\/$/,""),d=n._makeStorageReference(new qi(e,a));r.prefixes.push(d)}if(t.items)for(const i of t.items){const a=n._makeStorageReference(new qi(e,i.name));r.items.push(a)}return r}(n,e,r)}(n,e,i);return bl(null!==a),a}}(n,e.bucket),w);return T.urlParams=a,T.errorHandler=By(e),T}function rR(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function MU(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class NI{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function mx(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{bl(!1)}return bl(!!t&&-1!==(e||["active"]).indexOf(t)),t}const NU={STATE_CHANGED:"state_changed"},ys={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function yx(n){switch(n){case"running":case"pausing":case"canceling":return ys.RUNNING;case"paused":return ys.PAUSED;case"success":return ys.SUCCESS;case"canceled":return ys.CANCELED;default:return ys.ERROR}}class kU{constructor(e,t,r){if(function X2(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function $y(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class LU extends class FU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ph.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ph.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ph.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw lw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw lw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw lw("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw lw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw lw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Cu(){return new LU}class aR{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=cw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(ZP(i.status,[])){if(!a)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=BP()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function OU(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),d=rR(e,r,i),f={name:d.fullPath},y=Bc(a,n.host,n._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},A=gx(d,t),z=new El(y,"POST",function V(ie){let ce;mx(ie);try{ce=ie.getResponseHeader("X-Goog-Upload-URL")}catch{bl(!1)}return bl(MI(ce)),ce},n.maxUploadRetryTime);return z.urlParams=f,z.headers=T,z.body=A,z.errorHandler=By(e),z}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Cu,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function PU(n,e,t,r){const y=new El(t,"POST",function a(w){const T=mx(w,["active","final"]);let A=null;try{A=w.getResponseHeader("X-Goog-Upload-Size-Received")}catch{bl(!1)}A||bl(!1);const F=Number(A);return bl(!isNaN(F)),new NI(F,r.size(),"final"===T)},n.maxUploadRetryTime);return y.headers={"X-Goog-Upload-Command":"query"},y.errorHandler=By(e),y}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,Cu,t,r);this._request=a,a.getPromise().then(d=>{this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new NI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let d;try{d=function RU(n,e,t,r,i,a,d,f){const y=new NI(0,0);if(d?(y.current=d.current,y.total=d.total):(y.current=0,y.total=r.size()),r.size()!==y.total)throw function Z2(){return new xr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const w=y.total-y.current;let T=w;i>0&&(T=Math.min(T,i));const A=y.current;let V="";V=0===T?"finalize":w===T?"upload, finalize":"upload";const z={"X-Goog-Upload-Command":V,"X-Goog-Upload-Offset":`${y.current}`},ie=r.slice(A,A+T);if(null===ie)throw jP();const Ye=new El(t,"POST",function ce(We,Et){const Tt=mx(We,["active","final"]),un=y.current+T,$r=r.size();let To;return To="final"===Tt?RI(e,a)(We,Et):null,new NI(un,$r,"final"===Tt,To)},e.maxUploadRetryTime);return Ye.headers=z,Ye.body=ie.uploadData(),Ye.progressCallback=f||null,Ye.errorHandler=By(n),Ye}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(y){return this._error=y,void this._transition("error")}const f=this._ref.storage._makeRequest(d,Cu,i,a,!1);this._request=f,f.getPromise().then(y=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(y.current),y.finalized?(this._metadata=y.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=tR(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Cu,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function iR(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"},y=function f(){let Ye="";for(let We=0;We<2;We++)Ye+=Math.random().toString().slice(2);return Ye}();d["Content-Type"]="multipart/related; boundary="+y;const w=rR(e,r,i),T=gx(w,t),V=wl.getBlob("--"+y+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+y+"\r\nContent-Type: "+w.contentType+"\r\n\r\n",r,"\r\n--"+y+"--");if(null===V)throw jP();const z={name:w.fullPath},ie=Bc(a,n.host,n._protocol),Be=n.maxUploadRetryTime,Je=new El(ie,"POST",RI(n,t),Be);return Je.urlParams=z,Je.headers=d,Je.body=V.uploadData(),Je.errorHandler=By(e),Je}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Cu,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=$P(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=yx(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const a=new kU(t||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(yx(this._state)){case ys.SUCCESS:$y(this._resolve.bind(null,this.snapshot))();break;case ys.CANCELED:case ys.ERROR:$y(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(yx(this._state)){case ys.RUNNING:case ys.PAUSED:e.next&&$y(e.next.bind(e,this.snapshot))();break;case ys.SUCCESS:e.complete&&$y(e.complete.bind(e))();break;default:e.error&&$y(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class sg{constructor(e,t){this._service=e,this._location=t instanceof qi?t:qi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new sg(e,t)}get root(){const e=new qi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return QP(this._location.path)}get storage(){return this._service}get parent(){const e=function gU(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new qi(this._location.bucket,e);return new sg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw zP(e)}}function lR(n,e,t){return _x.apply(this,arguments)}function _x(){return _x=(0,ve.Z)(function*(n,e,t){const i=yield cR(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield lR(n,e,i.nextPageToken))}),_x.apply(this,arguments)}function cR(n,e){null!=e&&"number"==typeof e.maxResults&&dx("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=DU(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Cu)}function KU(n){n._throwIfRoot("getDownloadURL");const e=function SU(n,e,t){const i=Bc(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,f=new El(i,"GET",function TU(n,e){return function t(r,i){const a=JP(n,i,e);return bl(null!==a),function EU(n,e,t,r){const i=px(e);if(null===i||!MI(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const d=encodeURIComponent;return a.split(",").map(w=>{const A=n.fullPath;return Bc("/b/"+d(n.bucket)+"/o/"+d(A),t,r)+qP({alt:"media",token:w})})[0]}(a,i,n.host,n._protocol)}}(n,t),d);return f.errorHandler=dw(e),f}(n.storage,n._location,cw());return n.storage.makeRequestWithTokens(e,Cu).then(t=>{if(null===t)throw function W2(){return new xr("no-download-url","The given file does not have any download URLs.")}();return t})}function dR(n,e){const t=function mU(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new qi(n._location.bucket,t);return new sg(n.storage,r)}function hR(n,e){if(n instanceof vx){const t=n;if(null==t._bucket)throw function q2(){return new xr("no-default-bucket","No default bucket found. Did you set the '"+VP+"' property when initializing the app?")}();const r=new sg(t,t._bucket);return null!=e?hR(r,e):r}return void 0!==e?dR(n,e):n}function XU(n,e){if(e&&function QU(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof vx)return function JU(n,e){return new sg(n,e)}(n,e);throw Vy("To use ref(service, url), the first argument must be a Storage instance.")}return hR(n,e)}function fR(n,e){const t=e?.[VP];return null==t?null:qi.makeFromBucketSpec(t,n)}class vx{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=UP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?qi.makeFromBucketSpec(i,this._host):fR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?qi.makeFromBucketSpec(this._url,e):fR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,ve.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,ve.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sg(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new K2(HP());{const d=function oU(n,e,t,r,i,a,d=!0){const f=qP(n.urlParams),y=n.url+f,w=Object.assign({},n.headers);return function iU(n,e){e&&(n["X-Firebase-GMPID"]=e)}(w,e),function nU(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(w,t),function rU(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(w,a),function sU(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(w,r),new tU(y,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,d)}(e,this._appId,r,i,t,this._firebaseVersion,a);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}makeRequestWithTokens(e,t){var r=this;return(0,ve.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const pR="@firebase/storage",mR="storage";function yR(n,e){return XU(n=(0,zt.m9)(n),e)}function lV(n=(0,Ti.getApp)(),e){n=(0,zt.m9)(n);const r=(0,Ti._getProvider)(n,mR).getImmediate({identifier:e}),i=(0,zt.P0)("storage");return i&&_R(r,...i),r}function _R(n,e,t,r={}){!function eV(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,zt.Sg)(i,n.app.options.projectId))}(n,e,t,r)}function cV(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new vx(t,r,i,e,Ti.SDK_VERSION)}!function dV(){(0,Ti._registerComponent)(new Yu.wA(mR,cV,"PUBLIC").setMultipleInstances(!0)),(0,Ti.registerVersion)(pR,"0.9.12",""),(0,Ti.registerVersion)(pR,"0.9.12","esm2017")}();class kI{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class vR{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new kI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new kI(r,this,this._ref))},t)}on(e,t,r,i){let a;return t&&(a="function"==typeof t?d=>t(new kI(d,this,this._ref)):{next:t.next?d=>t.next(new kI(d,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class wR{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new $c(e,this._service))}get items(){return this._delegate.items.map(e=>new $c(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class $c{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function uV(n,e){return dR(n,e)}(this._delegate,e);return new $c(t,this.storage)}get root(){return new $c(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new $c(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new vR(function tV(n,e,t){return function zU(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new aR(n,new wl(e),t)}(n=(0,zt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=bo.RAW,r){this._throwIfRoot("putString");const i=fx(t,e),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),new vR(new aR(this._delegate,new wl(i.data,!0),a),this)}listAll(){return function sV(n){return function qU(n){const e={prefixes:[],items:[]};return lR(n,e).then(()=>e)}(n=(0,zt.m9)(n))}(this._delegate).then(e=>new wR(e,this.storage))}list(e){return function iV(n,e){return cR(n=(0,zt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new wR(t,this.storage))}getMetadata(){return function nV(n){return function ZU(n){n._throwIfRoot("getMetadata");const e=tR(n.storage,n._location,cw());return n.storage.makeRequestWithTokens(e,Cu)}(n=(0,zt.m9)(n))}(this._delegate)}updateMetadata(e){return function rV(n,e){return function WU(n,e){n._throwIfRoot("updateMetadata");const t=function AU(n,e,t,r){const a=Bc(e.fullServerUrl(),n.host,n._protocol),f=gx(t,r),w=n.maxOperationRetryTime,T=new El(a,"PATCH",RI(n,r),w);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=f,T.errorHandler=dw(e),T}(n.storage,n._location,e,cw());return n.storage.makeRequestWithTokens(t,Cu)}(n=(0,zt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function oV(n){return KU(n=(0,zt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function aV(n){return function YU(n){n._throwIfRoot("deleteObject");const e=function xU(n,e){const r=Bc(e.fullServerUrl(),n.host,n._protocol),f=new El(r,"DELETE",function d(y,w){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=dw(e),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Cu)}(n=(0,zt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw zP(e)}}class ER{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(bR(e))throw Vy("ref() expected a child path but got a URL, use refFromURL instead.");return new $c(yR(this._delegate,e),this)}refFromURL(e){if(!bR(e))throw Vy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{qi.makeFromUrl(e,this._delegate.host)}catch{throw Vy("refFromUrl() expected a valid full URL but got an invalid one.")}return new $c(yR(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){_R(this._delegate,e,t,r)}}function bR(n){return/^[A-Za-z]+:\/\//.test(n)}function gV(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new ER(t,r)}function CR(n){const e=function yV(n){return new _r.y(e=>{const t=d=>e.next(d);t(n.snapshot);const a=n.on("state_changed",t);return n.then(d=>{t(d),e.complete()},d=>{t(n.snapshot),(d=>{e.error(d)})(d)}),function(){a()}}).pipe(function k2(n,e=P_.z){return(0,Rn.e)((t,r)=>{let i=null,a=null,d=null;const f=()=>{if(i){i.unsubscribe(),i=null;const w=a;a=null,r.next(w)}};function y(){const w=d+n,T=e.now();if(T<w)return i=this.schedule(void 0,w-T),void r.add(i);f()}t.subscribe((0,ar.x)(r,w=>{a=w,d=e.now(),i||(i=e.schedule(y,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{a=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,ut.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function FI(n){return{getDownloadURL:()=>lt(void 0).pipe(Wt.fc,qn(()=>n.getDownloadURL()),Wt.iC),getMetadata:()=>lt(void 0).pipe(Wt.fc,qn(()=>n.getMetadata()),Wt.iC),delete:()=>(0,an.D)(n.delete()),child:e=>FI(n.child(e)),updateMetadata:e=>(0,an.D)(n.updateMetadata(e)),put:(e,t)=>CR(n.put(e,t)),putString:(e,t,r)=>CR(n.putString(e,t,r)),list:e=>(0,an.D)(n.list(e)),listAll:()=>(0,an.D)(n.listAll())}}!function mV(n){const e={TaskState:ys,TaskEvent:NU,StringFormat:bo,Storage:ER,Reference:$c};n.INTERNAL.registerComponent(new Yu.wA("storage-compat",gV,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.20")}(R_.Z);const _V=new l.OlP("angularfire2.storageBucket"),vV=new l.OlP("angularfire2.storage.maxUploadRetryTime"),wV=new l.OlP("angularfire2.storage.maxOperationRetryTime"),EV=new l.OlP("angularfire2.storage.use-emulator");let IR=(()=>{class n{constructor(t,r,i,a,d,f,y,w,T,A){const F=(0,ki.on)(t,d,r);this.storage=(0,ki.cc)(`${F.name}.storage.${i}`,"AngularFireStorage",F.name,()=>{const V=d.runOutsideAngular(()=>F.storage(i||void 0)),z=T;return z&&V.useEmulator(...z),y&&V.setMaxUploadRetryTime(y),w&&V.setMaxOperationRetryTime(w),V},[y,w])}ref(t){return FI(this.storage.ref(t))}refFromURL(t){return FI(this.storage.refFromURL(t))}upload(t,r,i){return FI(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ki.Dh),l.LFG(ki.xv,8),l.LFG(_V,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Wt.HU),l.LFG(vV,8),l.LFG(wV,8),l.LFG(EV,8),l.LFG(Xp,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),bV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),CV=(()=>{class n{constructor(){FA.Z.registerVersion("angularfire",Wt.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[IR],imports:[bV]}),n})(),Cl=(()=>{class n{constructor(t,r){this.fs=t,this.storage=r}getproductone(){return this.fs.collection("products",t=>t.where("category","==","one")).snapshotChanges()}getAllProducts(){return this.fs.collection("products").snapshotChanges()}getproductwo(){return this.fs.collection("products",t=>t.where("category","==","two")).snapshotChanges()}getproducthird(){return this.fs.collection("products",t=>t.where("category","==","three")).snapshotChanges()}changeproductbyid(t){return this.fs.collection(`products/${t}`).snapshotChanges()}changeprice(t,r,i){return this.fs.doc(`products/${t}`).update({price:r,name:i})}deletep(t){return this.fs.doc(`products/${t}`).delete()}addproduct(t,r,i,a,d){let f=this.storage.ref("products/"+d.name);f.put(d).then(()=>{f.getDownloadURL().subscribe(y=>{this.fs.collection("products/").add({category:t,name:r,amount:a,price:i,img:y})})})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(eg),l.LFG(IR))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function IV(n,e){if(1&n&&(l.TgZ(0,"div",6)(1,"div",7),l._UZ(2,"img",8),l.TgZ(3,"div",9)(4,"div",10)(5,"h5",11),l._uU(6),l.qZA(),l.TgZ(7,"p",12)(8,"b"),l._uU(9),l.qZA()()(),l.TgZ(10,"button",13),l._uU(11,"buy"),l.qZA()()()()),2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.img,l.LSH),l.xp6(4),l.hij("",t.name," "),l.xp6(3),l.hij("",t.price,"$"),l.xp6(1),l.MGl("routerLink","/details/",t.id,"")}}let TV=(()=>{class n{constructor(t){this.PS=t,this.productlist=[]}ngOnInit(){this.PS.getproductone().subscribe(t=>{this.productlist=t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()}))})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Cl))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-category1"]],decls:11,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"bestsellers"],[1,"row","justify-content-center"],["class","col-auto",4,"ngFor","ngForOf"],[1,"col-auto"],[1,"card"],["alt","...",1,"card-img-top",3,"src"],[1,"textofcard"],[1,""],[1,"card-title"],[1,"card-text"],[1,"buybutton",3,"routerLink"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1")(5,"b"),l._uU(6," First"),l.qZA(),l._uU(7," Category "),l.qZA()()()()(),l.TgZ(8,"div",0)(9,"div",4),l.YNc(10,IV,12,4,"div",5),l.qZA()()),2&t&&(l.xp6(10),l.Q6J("ngForOf",r.productlist))},dependencies:[Cr,ho],styles:[".bestsellers[_ngcontent-%COMP%]{margin:50px}.bestsellers[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{border-bottom:5px solid rgb(241,58,58)}.bestsellers[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:400;letter-spacing:3px;color:#212529;font-style:italic}.card[_ngcontent-%COMP%]{width:250px;height:450px;margin:20px 4px;box-shadow:#0000003d 0 3px 8px}.card[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:350px!important}.card[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]:hover{opacity:.9}.buybutton[_ngcontent-%COMP%]{width:240px;height:40px;background-color:#fff;color:#f13a3a;border:unset;border-top:.2px solid rgb(241,58,58);letter-spacing:5px;font-family:Kalam,cursive;text-transform:uppercase;position:absolute;left:50%;top:95%;transform:translate(-50%,-50%)}.buybutton[_ngcontent-%COMP%]:hover{border-top:1px solid rgb(241,58,58);letter-spacing:7px;font-weight:600;transition:.6s}.textofcard[_ngcontent-%COMP%]{height:50px;text-align:center}.card-title[_ngcontent-%COMP%]{margin-top:5px;font-weight:400;font-size:12px;letter-spacing:5px}.card-text[_ngcontent-%COMP%]{font-size:12px;letter-spacing:3px;font-family:Kalam,cursive;position:absolute;left:50%;top:87%;transform:translate(-50%,-50%)}.card-title[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:5px;margin:0;padding:0}.photos[_ngcontent-%COMP%]{margin-top:130px}.photos[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:40vw}.photos[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.textphotos[_ngcontent-%COMP%]{width:40vw;padding-left:20px}.textphotos[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-weight:400}.textphotos[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#a1a1a2}.Shope[_ngcontent-%COMP%]{margin:10px 0;border-radius:50px;box-shadow:#0000003d 0 3px 8px;font-family:Kalam,cursive;padding:10px 20px}.lastdiv[_ngcontent-%COMP%]{text-align:center;margin:190px}.lastdiv[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#a1a1a2}@media screen and (max-width: 700px){.photos[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:90vw}.textphotos[_ngcontent-%COMP%]{width:90vw;padding-left:20px}.services[_ngcontent-%COMP%]{display:flex;padding:15px;box-shadow:#63636333 0 2px 8px;border-radius:30px;width:400px;margin:10px}}"]}),n})();function DV(n,e){if(1&n&&(l.TgZ(0,"div",6)(1,"div",7),l._UZ(2,"img",8),l.TgZ(3,"div",9)(4,"div",10)(5,"h5",11),l._uU(6),l.qZA(),l.TgZ(7,"p",12)(8,"b"),l._uU(9),l.qZA()()(),l.TgZ(10,"button",13),l._uU(11,"buy"),l.qZA()()()()),2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.img,l.LSH),l.xp6(4),l.hij("",t.name," "),l.xp6(3),l.hij("",t.price,"$"),l.xp6(1),l.MGl("routerLink","/details/",t.id,"")}}let SV=(()=>{class n{constructor(t){this.PS=t,this.productlist1=[]}ngOnInit(){this.PS.getproductwo().subscribe(t=>{this.productlist1=t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()}))})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Cl))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-category2"]],decls:11,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"bestsellers"],[1,"row","justify-content-center"],["class","col-auto",4,"ngFor","ngForOf"],[1,"col-auto"],[1,"card"],["alt","...",1,"card-img-top",3,"src"],[1,"textofcard"],[1,""],[1,"card-title"],[1,"card-text"],[1,"buybutton",3,"routerLink"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1")(5,"b"),l._uU(6," Second"),l.qZA(),l._uU(7," Category "),l.qZA()()()()(),l.TgZ(8,"div",0)(9,"div",4),l.YNc(10,DV,12,4,"div",5),l.qZA()()),2&t&&(l.xp6(10),l.Q6J("ngForOf",r.productlist1))},dependencies:[Cr,ho],styles:[".bestsellers[_ngcontent-%COMP%]{margin:50px}.bestsellers[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{border-bottom:5px solid rgb(241,58,58)}.bestsellers[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:400;letter-spacing:3px;color:#212529;font-style:italic}.card[_ngcontent-%COMP%]{width:250px;height:450px;margin:20px 4px;box-shadow:#0000003d 0 3px 8px}.card[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:350px!important}.card[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]:hover{opacity:.9}.buybutton[_ngcontent-%COMP%]{width:240px;height:40px;background-color:#fff;color:#f13a3a;border:unset;border-top:.2px solid rgb(241,58,58);letter-spacing:5px;font-family:Kalam,cursive;text-transform:uppercase;position:absolute;left:50%;top:95%;transform:translate(-50%,-50%)}.buybutton[_ngcontent-%COMP%]:hover{border-top:1px solid rgb(241,58,58);letter-spacing:7px;font-weight:600;transition:.6s}.textofcard[_ngcontent-%COMP%]{height:50px;text-align:center}.card-title[_ngcontent-%COMP%]{margin-top:5px;font-weight:400;font-size:12px;letter-spacing:5px}.card-text[_ngcontent-%COMP%]{font-size:12px;letter-spacing:3px;font-family:Kalam,cursive;position:absolute;left:50%;top:87%;transform:translate(-50%,-50%)}.card-title[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:5px;margin:0;padding:0}.photos[_ngcontent-%COMP%]{margin-top:130px}.photos[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:40vw}.photos[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.textphotos[_ngcontent-%COMP%]{width:40vw;padding-left:20px}.textphotos[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-weight:400}.textphotos[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#a1a1a2}.Shope[_ngcontent-%COMP%]{margin:10px 0;border-radius:50px;box-shadow:#0000003d 0 3px 8px;font-family:Kalam,cursive;padding:10px 20px}.lastdiv[_ngcontent-%COMP%]{text-align:center;margin:190px}.lastdiv[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#a1a1a2}@media screen and (max-width: 700px){.photos[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:90vw}.textphotos[_ngcontent-%COMP%]{width:90vw;padding-left:20px}.services[_ngcontent-%COMP%]{display:flex;padding:15px;box-shadow:#63636333 0 2px 8px;border-radius:30px;width:400px;margin:10px}}"]}),n})();function AV(n,e){if(1&n&&(l.TgZ(0,"div",6)(1,"div",7),l._UZ(2,"img",8),l.TgZ(3,"div",9)(4,"div",10)(5,"h5",11),l._uU(6),l.qZA(),l.TgZ(7,"p",12)(8,"b"),l._uU(9),l.qZA()()(),l.TgZ(10,"button",13),l._uU(11,"buy"),l.qZA()()()()),2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.img,l.LSH),l.xp6(4),l.hij("",t.name," "),l.xp6(3),l.hij("",t.price,"$"),l.xp6(1),l.MGl("routerLink","/details/",t.id,"")}}let xV=(()=>{class n{constructor(t){this.PS=t,this.productlist3=[]}ngOnInit(){this.PS.getproducthird().subscribe(t=>{this.productlist3=t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()}))})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Cl))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-category3"]],decls:11,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"bestsellers"],[1,"row","justify-content-center"],["class","col-auto",4,"ngFor","ngForOf"],[1,"col-auto"],[1,"card"],["alt","...",1,"card-img-top",3,"src"],[1,"textofcard"],[1,""],[1,"card-title"],[1,"card-text"],[1,"buybutton",3,"routerLink"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1")(5,"b"),l._uU(6," Third"),l.qZA(),l._uU(7," Category "),l.qZA()()()()(),l.TgZ(8,"div",0)(9,"div",4),l.YNc(10,AV,12,4,"div",5),l.qZA()()),2&t&&(l.xp6(10),l.Q6J("ngForOf",r.productlist3))},dependencies:[Cr,ho],styles:[".bestsellers[_ngcontent-%COMP%]{margin:50px}.bestsellers[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{border-bottom:5px solid rgb(241,58,58)}.bestsellers[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:400;letter-spacing:3px;color:#212529;font-style:italic}.card[_ngcontent-%COMP%]{width:250px;height:450px;margin:20px 4px;box-shadow:#0000003d 0 3px 8px}.card[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:350px!important}.card[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]:hover{opacity:.9}.buybutton[_ngcontent-%COMP%]{width:240px;height:40px;background-color:#fff;color:#f13a3a;border:unset;border-top:.2px solid rgb(241,58,58);letter-spacing:5px;font-family:Kalam,cursive;text-transform:uppercase;position:absolute;left:50%;top:95%;transform:translate(-50%,-50%)}.buybutton[_ngcontent-%COMP%]:hover{border-top:1px solid rgb(241,58,58);letter-spacing:7px;font-weight:600;transition:.6s}.textofcard[_ngcontent-%COMP%]{height:50px;text-align:center}.card-title[_ngcontent-%COMP%]{margin-top:5px;font-weight:400;font-size:12px;letter-spacing:5px}.card-text[_ngcontent-%COMP%]{font-size:12px;letter-spacing:3px;font-family:Kalam,cursive;position:absolute;left:50%;top:87%;transform:translate(-50%,-50%)}.card-title[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:5px;margin:0;padding:0}.photos[_ngcontent-%COMP%]{margin-top:130px}.photos[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:40vw}.photos[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.textphotos[_ngcontent-%COMP%]{width:40vw;padding-left:20px}.textphotos[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-weight:400}.textphotos[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#a1a1a2}.Shope[_ngcontent-%COMP%]{margin:10px 0;border-radius:50px;box-shadow:#0000003d 0 3px 8px;font-family:Kalam,cursive;padding:10px 20px}.lastdiv[_ngcontent-%COMP%]{text-align:center;margin:190px}.lastdiv[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#a1a1a2}@media screen and (max-width: 700px){.photos[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:90vw}.textphotos[_ngcontent-%COMP%]{width:90vw;padding-left:20px}.services[_ngcontent-%COMP%]{display:flex;padding:15px;box-shadow:#63636333 0 2px 8px;border-radius:30px;width:400px;margin:10px}}"]}),n})(),MV=(()=>{class n{constructor(t){this.PS=t,this.productlist=[]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Cl))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-contact"]],decls:29,vars:0,consts:[[1,"container"],[1,"row"],[1,"col"],[1,"text-center"],[1,"secondfooter"],[1,"fa-solid","fa-location-dot"],[1,"fa-solid","fa-phone"],[1,"divlogo"],[1,"logo"],[1,"fa-brands","fa-twitter"],[1,"fa-brands","fa-facebook"],[1,"fa-solid","fa-envelope"],[1,"fa-brands","fa-instagram"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),l._uU(4," Contact Us "),l.qZA(),l.TgZ(5,"p"),l._uU(6,"For your safety, NEVER share your credit card details with anyone. For confirmation purposes, only the first 6 digits and the last 4 digits of your card number will be requested. NEVER share your card's expiration date or CVV number, as shown in the images below"),l.qZA()()(),l.TgZ(7,"div",3)(8,"div",4)(9,"h1"),l._uU(10,"HAVE A QUESTIONS?"),l.qZA(),l.TgZ(11,"h4"),l._UZ(12,"i",5),l._uU(13," sousse tunisia"),l.qZA(),l.TgZ(14,"h4"),l._UZ(15,"i",6),l._uU(16," +216 999 999"),l.qZA()(),l.TgZ(17,"div",7)(18,"h1",8),l._uU(19,"mini "),l.TgZ(20,"b"),l._uU(21,"shope"),l.qZA()(),l.TgZ(22,"h6"),l._uU(23,"Far far away, behind the word mountains, far from the countries"),l.qZA(),l.TgZ(24,"div"),l._UZ(25,"i",9)(26,"i",10)(27,"i",11)(28,"i",12),l.qZA()()()())},styles:[".col[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-weight:400;line-height:2;color:#c95353;letter-spacing:5px;font-family:Kalam,cursive;padding:10px}.col[_ngcontent-%COMP%]{text-align:center}.col[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#a1a1a2;font-size:15px}.iframe[_ngcontent-%COMP%]{width:50vw!important;height:50vh!important}.logo[_ngcontent-%COMP%]{font-size:30px;letter-spacing:4px;font-weight:600;cursor:pointer;font-family:Kalam,cursive;text-transform:uppercase;margin:20px}.logo[_ngcontent-%COMP%]:hover{color:#c95353!important;transition:.3s!important}.logo[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{color:#c95353}.divlogo[_ngcontent-%COMP%] > h6[_ngcontent-%COMP%]{font-weight:250}.divlogo[_ngcontent-%COMP%]{margin:60px 0}i[_ngcontent-%COMP%]{font-size:25px;margin:10px;color:#141414}i[_ngcontent-%COMP%]:hover{color:#6b6a6a;transition:.5s ease}.secondfooter[_ngcontent-%COMP%]{margin:60px 0}.secondfooter[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:22px}.secondfooter[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{font-size:15px;font-weight:300}"]}),n})();function OV(n,e){if(1&n&&(l.TgZ(0,"div")(1,"h1"),l._uU(2),l.qZA(),l.TgZ(3,"h1"),l._uU(4),l.qZA(),l.TgZ(5,"button",1),l._uU(6,"details"),l.qZA()()),2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.name),l.xp6(2),l.Oqu(t.price),l.xp6(1),l.MGl("routerLink","/details/",t.id,"")}}let PV=(()=>{class n{constructor(t){this.ps=t,this.getp=[]}ngOnInit(){this.ps.getAllProducts().subscribe(t=>{this.getp=t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()}))})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Cl))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-first-category"]],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(t,r){1&t&&l.YNc(0,OV,7,3,"div",0),2&t&&l.Q6J("ngForOf",r.getp)},dependencies:[Cr,ho]}),n})();function RV(n,e){1&n&&(l.TgZ(0,"div",14),l._uU(1," email is required"),l.qZA())}function NV(n,e){1&n&&(l.TgZ(0,"div",14),l._uU(1," password is required"),l.qZA())}let kV=(()=>{class n{constructor(t,r){this.af=t,this.route=r}ngOnInit(){}login(t){let r=t.value;this.af.login(r.email,r.password).then(()=>this.route.navigate(["/orders"])).catch(i=>console.log("err"))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(J0),l.Y36(dr))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:18,vars:2,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-6"],[3,"ngSubmit"],["f","ngForm"],["for","inputEmail4",1,"form-label"],["ngModel","","name","email","required","","email","","type","email","id","inputEmail4",1,"form-control"],["email","ngModel"],["class","alert alert-danger",4,"ngIf"],["for","inputPassword4",1,"form-label"],["ngModel","","name","password","required","","type","password","id","inputPassword4",1,"form-control"],["password","ngModel"],[1,"col-12"],["type","submit",1,"btn","btn-outline-success","m-4"],[1,"alert","alert-danger"]],template:function(t,r){if(1&t){const i=l.EpF();l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3,4),l.NdJ("ngSubmit",function(){l.CHM(i);const d=l.MAs(4);return l.KtG(r.login(d))}),l.TgZ(5,"label",5),l._uU(6,"Email"),l.qZA(),l._UZ(7,"input",6,7),l.YNc(9,RV,2,0,"div",8),l.TgZ(10,"label",9),l._uU(11,"Password"),l.qZA(),l._UZ(12,"input",10,11),l.YNc(14,NV,2,0,"div",8),l.TgZ(15,"div",12)(16,"button",13),l._uU(17,"Sign in"),l.qZA()()()()()()}if(2&t){const i=l.MAs(8),a=l.MAs(13);l.xp6(9),l.Q6J("ngIf",i.touched&&(null==i.errors?null:i.errors.required)),l.xp6(5),l.Q6J("ngIf",a.touched&&(null==a.errors?null:a.errors.required))}},dependencies:[Pn,aw,ng,tw,nw,Uy,ax,Ly,rg],styles:["div[_ngcontent-%COMP%]{font-family:Kalam,cursive;text-transform:capitalize}"]}),n})();function FV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",4)(1,"h5",5),l._uU(2),l.qZA(),l.TgZ(3,"p"),l._uU(4),l.qZA(),l.TgZ(5,"p",6),l._uU(6),l._UZ(7,"br"),l._uU(8),l.qZA(),l._UZ(9,"img",7),l.TgZ(10,"div",8)(11,"h5",5),l._uU(12),l.qZA(),l.TgZ(13,"h5",5),l._uU(14),l.ALo(15,"currency"),l.qZA(),l._UZ(16,"hr"),l.TgZ(17,"div",8),l._UZ(18,"img",7),l.TgZ(19,"h5",5),l._uU(20),l.qZA(),l.TgZ(21,"h5",5),l._uU(22),l.ALo(23,"currency"),l.qZA()()(),l.TgZ(24,"button",9),l.NdJ("click",function(){const a=l.CHM(t).index,d=l.oxw();return l.KtG(d.delete(a))}),l._uU(25,"delete"),l.qZA()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.sendoreders[0].name),l.xp6(2),l.Oqu(t.date),l.xp6(2),l.hij("",t.sendoreders[0].adress," "),l.xp6(2),l.hij(" ",t.sendoreders[0].tel," "),l.xp6(1),l.s9C("src",t.setproduct[0].img,l.LSH),l.xp6(3),l.Oqu(t.setproduct[0].amount),l.xp6(2),l.Oqu(l.lcZ(15,10,t.setproduct[0].price)),l.xp6(4),l.s9C("src",t.setproduct[1].img,l.LSH),l.xp6(2),l.Oqu(t.setproduct[1].amount),l.xp6(2),l.Oqu(l.lcZ(23,12,t.setproduct[1].price))}}let LV=(()=>{class n{constructor(t,r,i){this.cs=t,this.fs=r,this.auths=i,this.user=[],this.order=[]}ngOnInit(){this.cs.getorders().subscribe(t=>{this.order=t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()})),console.log(this.order.map(r=>r.setproduct[0].price))})}delete(t){this.cs.deleteproductfromcorder(this.order[t].id)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(yI),l.Y36(eg),l.Y36(J0))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-orders"]],decls:8,vars:1,consts:[[1,"container-fluid"],[1,"row","justify-content-center"],[1,"bestsellers"],["class","col-auto","class","card text-center p-2 m-2",4,"ngFor","ngForOf"],[1,"card","text-center","p-2","m-2"],[1,"card-title"],[1,"card-text"],[1,"card-img-top",3,"src"],[1,"card-body"],["href","#",1,"btn","btn-outline-danger",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1")(4,"b"),l._uU(5,"Your "),l.qZA(),l._uU(6," Orders "),l.qZA()(),l.YNc(7,FV,26,14,"div",3),l.qZA()()),2&t&&(l.xp6(7),l.Q6J("ngForOf",r.order))},dependencies:[Cr,Ma],styles:[".card[_ngcontent-%COMP%]{width:200px;text-transform:uppercase;line-height:1.5;color:#212529;letter-spacing:1px;font-family:Kalam,cursive;border-radius:15px;box-shadow:#00000026 1.95px 1.95px 2.6px}.orders[_ngcontent-%COMP%]{text-transform:capitalize;line-height:1.5;color:#212529;letter-spacing:1px;font-family:Kalam,cursive;border-radius:15px;font-weight:600}.bestsellers[_ngcontent-%COMP%]{margin:50px}.bestsellers[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{border-bottom:5px solid rgb(241,58,58)}.bestsellers[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:400;letter-spacing:3px;color:#212529;font-style:italic}"]}),n})();const UV=function(n,e,t){return{"border-top":n,color:e,"pointer-events":t}};let VV=(()=>{class n{constructor(t,r,i,a,d){this.route=t,this.local=r,this.prodctservice=i,this.fs=a,this.toastr=d,this.getproduct=[],this.data=[],this.BUY="BUY",this.buy2=!1}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.getproductbyid(),this.buyit()}getproductbyid(){this.fs.doc("products/"+this.id).valueChanges().subscribe(t=>{this.getproduct=t,this.getproduct.id=this.id})}buy(){this.local.addProduct(this.getproduct),this.toastr.success(" Successfully added","Product "),"cart"in localStorage&&this.local.getCartObs().subscribe(t=>{this.getproduct=t.map(r=>{r.id===this.id?(console.log("you buy this product "),this.BUY="Done",this.buy2=!0):(this.BUY="BUY",this.buy2=!1)})}),this.getproductbyid()}buyit(){"cart"in localStorage&&this.local.getCartObs().subscribe(t=>{this.getproduct=t.map(r=>{r.id===this.id?(console.log("you buy this product "),this.BUY="DONE",this.buy2=!0):(this.BUY="BUY",this.buy2=!1)})}),this.getproductbyid()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Wu),l.Y36(VA),l.Y36(Cl),l.Y36(eg),l.Y36(vI))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-productdetails"]],decls:17,vars:9,consts:[[1,"container"],[1,"row","m-3","align-items-center"],[1,"col-md-6","col-12"],["alt","",3,"src"],[1,"col-md-6","col-12","text"],[1,"buybutton",3,"ngStyle","click"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2),l._UZ(3,"img",3),l.qZA(),l.TgZ(4,"div",4)(5,"div")(6,"p"),l._uU(7,"Name of product :"),l.qZA(),l.TgZ(8,"h1"),l._uU(9),l.qZA()(),l.TgZ(10,"div")(11,"p"),l._uU(12,"Price of product :"),l.qZA(),l.TgZ(13,"h1"),l._uU(14),l.qZA()(),l.TgZ(15,"button",5),l.NdJ("click",function(){return r.buy()}),l._uU(16),l.qZA()()()()),2&t&&(l.xp6(3),l.s9C("src",r.getproduct.img,l.LSH),l.xp6(6),l.Oqu(r.getproduct.name),l.xp6(5),l.hij("",r.getproduct.price,"$"),l.xp6(1),l.Q6J("ngStyle",l.kEZ(5,UV,r.buy2?"0.2px solid lightgreen":"0.2px solid rgb(241, 58, 58)",r.buy2?"lightgreen":"rgb(241, 58, 58)",r.buy2?"none":"auto")),l.xp6(1),l.Oqu(r.BUY))},dependencies:[Du],styles:["img[_ngcontent-%COMP%]{width:90px;height:90px}.col-md-6[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:30vw;height:30vw;border-radius:70px}.text[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:20px;color:#a1a1a2}.text[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:30px;margin:5px;font-family:Kalam,cursive}.buybutton[_ngcontent-%COMP%]{width:240px;height:40px;background-color:#fff;color:#f13a3a;border:unset;border-top:.2px solid rgb(241,58,58);letter-spacing:5px;font-family:Kalam,cursive;text-transform:uppercase;margin-top:30px}.buybutton[_ngcontent-%COMP%]:hover{border-top:1px solid rgb(241,58,58);letter-spacing:7px;font-weight:600;transition:.6s}.text[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:baseline}@media screen and (max-width: 500px){.col-md-6[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:20px}.col-md-6[_ngcontent-%COMP%]{text-align:center}.text[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:15px;margin:10px 15px 15px;font-family:Kalam,cursive}.text[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:12px}.text[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:block}}"]}),n})();class TR{}class DR{}class jc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(d):this.headers.set(a,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof jc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new jc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof jc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let d=this.headers.get(t);if(!d)return;d=d.filter(f=>-1===a.indexOf(f)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class BV{encodeKey(e){return SR(e)}encodeValue(e){return SR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const jV=/%(\d[a-f0-9])/gi,HV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function SR(n){return encodeURIComponent(n).replace(jV,(e,t)=>HV[t]??e)}function LI(n){return`${n}`}class Rh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new BV,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function $V(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[d,f]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],y=t.get(d)||[];y.push(f),t.set(d,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(LI):[LI(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Rh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(LI(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(LI(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class zV{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function AR(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function xR(n){return typeof Blob<"u"&&n instanceof Blob}function MR(n){return typeof FormData<"u"&&n instanceof FormData}class hw{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function GV(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new jc),this.context||(this.context=new zV),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+d}}else this.params=new Rh,this.urlWithParams=t}serializeBody(){return null===this.body?null:AR(this.body)||xR(this.body)||MR(this.body)||function qV(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Rh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||MR(this.body)?null:xR(this.body)?this.body.type||null:AR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Rh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,d=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,w=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((A,F)=>A.set(F,e.setHeaders[F]),y)),e.setParams&&(w=Object.keys(e.setParams).reduce((A,F)=>A.set(F,e.setParams[F]),w)),new hw(t,r,a,{params:w,headers:y,context:T,reportProgress:f,responseType:i,withCredentials:d})}}var Qr=(()=>((Qr=Qr||{})[Qr.Sent=0]="Sent",Qr[Qr.UploadProgress=1]="UploadProgress",Qr[Qr.ResponseHeader=2]="ResponseHeader",Qr[Qr.DownloadProgress=3]="DownloadProgress",Qr[Qr.Response=4]="Response",Qr[Qr.User=5]="User",Qr))();class wx{constructor(e,t=200,r="OK"){this.headers=e.headers||new jc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Ex extends wx{constructor(e={}){super(e),this.type=Qr.ResponseHeader}clone(e={}){return new Ex({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class UI extends wx{constructor(e={}){super(e),this.type=Qr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new UI({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class OR extends wx{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function bx(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let PR=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof hw)a=t;else{let y,w;y=i.headers instanceof jc?i.headers:new jc(i.headers),i.params&&(w=i.params instanceof Rh?i.params:new Rh({fromObject:i.params})),a=new hw(t,r,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=lt(a).pipe(ae(y=>this.handler.handle(y)));if(t instanceof hw||"events"===i.observe)return d;const f=d.pipe(ri(y=>y instanceof UI));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,ut.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return f.pipe((0,ut.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return f.pipe((0,ut.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return f.pipe((0,ut.U)(y=>y.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Rh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,bx(i,r))}post(t,r,i={}){return this.request("POST",t,bx(i,r))}put(t,r,i={}){return this.request("PUT",t,bx(i,r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(TR))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class RR{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const NR=new l.OlP("HTTP_INTERCEPTORS");let ZV=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const WV=/^\)\]\}',?\n/;let kR=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _r.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((V,z)=>i.setRequestHeader(V,z.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const V=t.detectContentTypeHeader();null!==V&&i.setRequestHeader("Content-Type",V)}if(t.responseType){const V=t.responseType.toLowerCase();i.responseType="json"!==V?V:"text"}const a=t.serializeBody();let d=null;const f=()=>{if(null!==d)return d;const V=i.statusText||"OK",z=new jc(i.getAllResponseHeaders()),ie=function KV(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return d=new Ex({headers:z,status:i.status,statusText:V,url:ie}),d},y=()=>{let{headers:V,status:z,statusText:ie,url:ce}=f(),Be=null;204!==z&&(Be=typeof i.response>"u"?i.responseText:i.response),0===z&&(z=Be?200:0);let Je=z>=200&&z<300;if("json"===t.responseType&&"string"==typeof Be){const Ye=Be;Be=Be.replace(WV,"");try{Be=""!==Be?JSON.parse(Be):null}catch(We){Be=Ye,Je&&(Je=!1,Be={error:We,text:Be})}}Je?(r.next(new UI({body:Be,headers:V,status:z,statusText:ie,url:ce||void 0})),r.complete()):r.error(new OR({error:Be,headers:V,status:z,statusText:ie,url:ce||void 0}))},w=V=>{const{url:z}=f(),ie=new OR({error:V,status:i.status||0,statusText:i.statusText||"Unknown Error",url:z||void 0});r.error(ie)};let T=!1;const A=V=>{T||(r.next(f()),T=!0);let z={type:Qr.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(z.total=V.total),"text"===t.responseType&&!!i.responseText&&(z.partialText=i.responseText),r.next(z)},F=V=>{let z={type:Qr.UploadProgress,loaded:V.loaded};V.lengthComputable&&(z.total=V.total),r.next(z)};return i.addEventListener("load",y),i.addEventListener("error",w),i.addEventListener("timeout",w),i.addEventListener("abort",w),t.reportProgress&&(i.addEventListener("progress",A),null!==a&&i.upload&&i.upload.addEventListener("progress",F)),i.send(a),r.next({type:Qr.Sent}),()=>{i.removeEventListener("error",w),i.removeEventListener("abort",w),i.removeEventListener("load",y),i.removeEventListener("timeout",w),t.reportProgress&&(i.removeEventListener("progress",A),null!==a&&i.upload&&i.upload.removeEventListener("progress",F)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ws))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Cx=new l.OlP("XSRF_COOKIE_NAME"),Ix=new l.OlP("XSRF_HEADER_NAME");class FR{}let YV=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Tu(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe),l.LFG(l.Lbi),l.LFG(Cx))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Tx=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(FR),l.LFG(Ix))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),QV=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(NR,[]);this.chain=r.reduceRight((i,a)=>new RR(i,a),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(DR),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),JV=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Tx,useClass:ZV}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Cx,useValue:t.cookieName}:[],t.headerName?{provide:Ix,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Tx,{provide:NR,useExisting:Tx,multi:!0},{provide:FR,useClass:YV},{provide:Cx,useValue:"XSRF-TOKEN"},{provide:Ix,useValue:"X-XSRF-TOKEN"}]}),n})(),XV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[PR,{provide:TR,useClass:QV},kR,{provide:DR,useExisting:kR}],imports:[JV.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),eB=(()=>{class n{constructor(t){this.http=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(PR))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tB(n,e){if(1&n&&(l.TgZ(0,"div",41)(1,"div",42),l._UZ(2,"img",43),l.TgZ(3,"div",44)(4,"div",45)(5,"h5",46),l._uU(6),l.qZA(),l.TgZ(7,"p",47)(8,"b"),l._uU(9),l.qZA()()(),l.TgZ(10,"button",48),l._uU(11,"buy"),l.qZA()()()()),2&n){const t=e.$implicit;l.xp6(1),l.MGl("routerLink","/details/",t.id,""),l.xp6(1),l.s9C("src",t.img,l.LSH),l.xp6(4),l.hij("",t.name," "),l.xp6(3),l.hij("",t.price,"$"),l.xp6(1),l.MGl("routerLink","/details/",t.id,"")}}function nB(n,e){if(1&n&&(l.TgZ(0,"div",41)(1,"div",49),l._UZ(2,"img",43),l.TgZ(3,"div",44)(4,"div",45)(5,"h5",46),l._uU(6),l.qZA(),l.TgZ(7,"p",47)(8,"b"),l._uU(9),l.qZA()()(),l.TgZ(10,"button",48),l._uU(11,"buy"),l.qZA()()()()),2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.img,l.LSH),l.xp6(4),l.hij("",t.name," "),l.xp6(3),l.hij("",t.price,"$"),l.xp6(1),l.MGl("routerLink","/details/",t.id,"")}}let rB=(()=>{class n{constructor(t,r,i){this.api=t,this.PS=r,this.cs=i,this.productlist=[],this.productlist2=[],this.add=-1}ngOnInit(){this.PS.getproductone().subscribe(t=>{this.productlist=t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()}))}),this.getcategory()}addtocart(t){this.add=t}getcategory(){this.PS.getproductwo().subscribe(t=>{this.productlist2=t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()}))})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(eB),l.Y36(Cl),l.Y36(yI))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-products"]],decls:109,vars:2,consts:[["id","home",1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-md-8"],["id","carouselExampleFade","data-ride","carousel",1,"carousel","slide","carousel-fade"],[1,"carousel-inner"],[1,"text-center"],[1,"secondchild"],[1,"carousel-item","active"],["src","assets/sliderimg/1.jpg","alt","...",1,"d-block","w-100"],[1,"carousel-item"],["src","assets/sliderimg/8.jpg","alt","...",1,"d-block","w-100"],["src","assets/sliderimg/2.jpg","alt","...",1,"d-block","w-100"],["src","assets/sliderimg/4.jpg","alt","...",1,"d-block","w-100"],["src","assets/sliderimg/7.jpg","alt","...",1,"d-block","w-100"],["type","button","data-target","#carouselExampleFade","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["type","button","data-target","#carouselExampleFade","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"col-md-4","col-auto","shipping"],["src","assets/videos/2.jpg","alt","",1,"videoshipping"],[1,"homeimagediscount"],["src","assets/sliderimg/imagehome.jpg","alt",""],[1,"row"],[1,"divservices"],[1,"services"],[1,"fa-solid","fa-question"],[1,"textservices"],[1,"fa-solid","fa-gear"],[1,"fa-solid","fa-truck"],[1,"container"],[1,"col-12"],[1,"bestsellers"],["class","col-auto",4,"ngFor","ngForOf"],[1,"photos"],["src","assets/sliderimg/about-1.jpg","alt",""],[1,"textphotos"],["routerLink","/category2",1,"btn","btn-dark","Shope"],["routerLink","/category1",1,"btn","btn-dark","Shope"],["src","assets/sliderimg/about-2.jpg","alt",""],[1,"lastdiv"],[1,"col-auto"],[1,"card",3,"routerLink"],["alt","...",1,"card-img-top",3,"src"],[1,"textofcard"],[1,""],[1,"card-title"],[1,"card-text"],[1,"buybutton",3,"routerLink"],[1,"card"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h1"),l._uU(7,"catch your own "),l.qZA(),l.TgZ(8,"h1",6),l._uU(9,"stylish & look"),l.qZA()(),l.TgZ(10,"div",7),l._UZ(11,"img",8),l.qZA(),l.TgZ(12,"div",9),l._UZ(13,"img",10),l.qZA(),l.TgZ(14,"div",9),l._UZ(15,"img",11),l.qZA(),l.TgZ(16,"div",9),l._UZ(17,"img",12),l.qZA(),l.TgZ(18,"div",9),l._UZ(19,"img",13),l.qZA()(),l.TgZ(20,"button",14),l._UZ(21,"span",15),l.TgZ(22,"span",16),l._uU(23,"Previous"),l.qZA()(),l.TgZ(24,"button",17),l._UZ(25,"span",18),l.TgZ(26,"span",16),l._uU(27,"Next"),l.qZA()()()(),l.TgZ(28,"div",19)(29,"div"),l._UZ(30,"img",20),l.TgZ(31,"div",21),l._UZ(32,"img",22),l.TgZ(33,"h1"),l._uU(34," -50% discount"),l.qZA()()()()(),l.TgZ(35,"div",23)(36,"div",24)(37,"div",25)(38,"div"),l._UZ(39,"i",26),l.qZA(),l.TgZ(40,"div",27)(41,"h1"),l._uU(42,"help center"),l.qZA(),l.TgZ(43,"p"),l._uU(44,"customer service"),l.qZA()()(),l.TgZ(45,"div",25)(46,"div"),l._UZ(47,"i",28),l.qZA(),l.TgZ(48,"div",27)(49,"h1"),l._uU(50,"bussiness services"),l.qZA(),l.TgZ(51,"p"),l._uU(52,"for all your needs"),l.qZA()()(),l.TgZ(53,"div",25)(54,"div"),l._UZ(55,"i",29),l.qZA(),l.TgZ(56,"div",27)(57,"h1"),l._uU(58,"free shipping"),l.qZA(),l.TgZ(59,"p"),l._uU(60,"24/7"),l.qZA()()()()()(),l.TgZ(61,"div",30)(62,"div",23)(63,"div",31)(64,"div",32)(65,"h1")(66,"b"),l._uU(67," Best"),l.qZA(),l._uU(68," Sellers "),l.qZA()()()()(),l.TgZ(69,"div",30)(70,"div",1),l.YNc(71,tB,12,5,"div",33),l.qZA()(),l.TgZ(72,"div",34)(73,"div"),l._UZ(74,"img",35),l.TgZ(75,"div",36)(76,"h1"),l._uU(77," NEW WOMEN'S CLOTHING SUMMER COLLECTION "),l.qZA(),l.TgZ(78,"p"),l._uU(79,"Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),l.TgZ(80,"button",37),l._uU(81,"Shope Now"),l.qZA()()()()(),l.TgZ(82,"div",34)(83,"div")(84,"div",36)(85,"h1"),l._uU(86," NEW MEN'S CLOTHING SUMMER COLLECTION "),l.qZA(),l.TgZ(87,"p"),l._uU(88,"Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),l.TgZ(89,"button",38),l._uU(90,"Shope Now"),l.qZA()()(),l._UZ(91,"img",39),l.qZA()(),l.TgZ(92,"div",30)(93,"div",23)(94,"div",31)(95,"div",32)(96,"h1")(97,"b"),l._uU(98," Best"),l.qZA(),l._uU(99," Sellers "),l.qZA()()()()(),l.TgZ(100,"div",30)(101,"div",1),l.YNc(102,nB,12,4,"div",33),l.qZA()(),l.TgZ(103,"div",40)(104,"h1"),l._uU(105,"Our satisfied customer says"),l.qZA(),l.TgZ(106,"p"),l._uU(107,"Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in"),l.qZA()(),l._UZ(108,"div")),2&t&&(l.xp6(71),l.Q6J("ngForOf",r.productlist),l.xp6(31),l.Q6J("ngForOf",r.productlist2))},dependencies:[Cr,ho],styles:[".carousel-item[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:500px;opacity:.8}.text-center[_ngcontent-%COMP%]{position:absolute;margin:0;left:50%;top:50%;transform:translate(-50%,-50%);text-transform:uppercase;z-index:100}.text-center[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:first-child{font-weight:400;line-height:2;color:#c95353;letter-spacing:5px;font-family:Kalam,cursive;padding:10px;box-shadow:1px 2px 10px #5f6163}.secondchild[_ngcontent-%COMP%]{opacity:.8;font-weight:400;line-height:2;color:#fff;letter-spacing:5px;font-family:Kalam,cursive;padding:10px;box-shadow:1px 2px 10px #5f6163;background-color:#c95353}.text-center[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:first-child:hover{color:#fff;background-color:#c95353;opacity:.8;transition:.8s}.secondchild[_ngcontent-%COMP%]:hover{color:#c95353;background-color:unset;transition:.8s}.services[_ngcontent-%COMP%]{display:flex;padding:20px;box-shadow:#63636333 0 2px 8px;border-radius:30px;width:400px;margin:20px}.services[_ngcontent-%COMP%]:hover{box-shadow:unset;transition:.5s ease-in-out}.services[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{padding:15px;border-radius:100px;border:2px solid rgb(201,83,83);font-size:25px;color:#c95353;box-shadow:#63636333 0 2px 8px}.services[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:400;color:#212529;font-size:25px;padding:0;margin:0;font-style:italic}.services[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#c95353;font-style:italic}.textservices[_ngcontent-%COMP%]{padding-left:10px}.homeimagediscount[_ngcontent-%COMP%]{position:relative}.homeimagediscount[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{position:absolute;z-index:100;font-size:50px;font-weight:600;left:50%;top:50%;transform:translate(-50%,-50%);text-transform:uppercase;color:#fff;font-style:italic;text-shadow:2px 5px rgb(201,83,83)}.videoshipping[_ngcontent-%COMP%]{margin-top:2px;width:430px;height:250px}.homeimagediscount[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:430px;height:250px}.divservices[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.bestsellers[_ngcontent-%COMP%]{margin:50px}.bestsellers[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{border-bottom:5px solid rgb(241,58,58)}.bestsellers[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:400;letter-spacing:3px;color:#212529;font-style:italic}.card[_ngcontent-%COMP%]{width:250px;height:450px;margin:20px 4px;box-shadow:#0000003d 0 3px 8px}.card[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:350px!important}.card[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]:hover{opacity:.9}.buybutton[_ngcontent-%COMP%]{width:240px;height:40px;background-color:#fff;color:#f13a3a;border:unset;border-top:.2px solid rgb(241,58,58);letter-spacing:5px;font-family:Kalam,cursive;text-transform:uppercase;position:absolute;left:50%;top:95%;transform:translate(-50%,-50%)}.buybutton[_ngcontent-%COMP%]:hover{border-top:1px solid rgb(241,58,58);letter-spacing:7px;font-weight:600;transition:.6s}.textofcard[_ngcontent-%COMP%]{height:50px;text-align:center}.card-title[_ngcontent-%COMP%]{margin-top:5px;font-weight:400;font-size:12px;letter-spacing:5px}.card-text[_ngcontent-%COMP%]{font-size:12px;letter-spacing:3px;font-family:Kalam,cursive;position:absolute;left:50%;top:87%;transform:translate(-50%,-50%)}.card-title[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:5px;margin:0;padding:0}.photos[_ngcontent-%COMP%]{margin-top:130px}.photos[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:40vw}.photos[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.textphotos[_ngcontent-%COMP%]{width:40vw;padding-left:20px}.textphotos[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-weight:400}.textphotos[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#a1a1a2}.Shope[_ngcontent-%COMP%]{margin:10px 0;border-radius:50px;box-shadow:#0000003d 0 3px 8px;font-family:Kalam,cursive;padding:10px 20px}.lastdiv[_ngcontent-%COMP%]{text-align:center;margin:190px}.lastdiv[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#a1a1a2}@media screen and (max-width: 700px){.photos[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:90vw}.textphotos[_ngcontent-%COMP%]{width:90vw;padding-left:20px}.services[_ngcontent-%COMP%]{display:flex;padding:15px;box-shadow:#63636333 0 2px 8px;border-radius:30px;width:400px;margin:10px}.videoshipping[_ngcontent-%COMP%]{width:400px}.homeimagediscount[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:400px;height:250px}.text-center[_ngcontent-%COMP%]{width:300px}.carousel-item[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:400px}.text-center[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:first-child, .secondchild[_ngcontent-%COMP%]{font-size:20px}}@media screen and (max-width: 500px){.videoshipping[_ngcontent-%COMP%]{width:350px}.lastdiv[_ngcontent-%COMP%]{margin:30px}.homeimagediscount[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:350px;height:250px}}"]}),n})();const iB=["image"];function sB(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td")(2,"input",33),l.NdJ("ngModelChange",function(i){const d=l.CHM(t).$implicit;return l.KtG(d.name=i)}),l.qZA()(),l.TgZ(3,"td")(4,"input",34),l.NdJ("ngModelChange",function(i){const d=l.CHM(t).$implicit;return l.KtG(d.price=i)}),l.ALo(5,"currency"),l.qZA()(),l.TgZ(6,"td")(7,"button",35),l.NdJ("click",function(){const a=l.CHM(t).index,d=l.oxw();return l.KtG(d.changeprice(a))}),l._UZ(8,"i",36),l.qZA()(),l.TgZ(9,"td")(10,"button",37),l.NdJ("click",function(){const a=l.CHM(t).index,d=l.oxw();return l.KtG(d.deletep(a))}),l._UZ(11,"i",38),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.s9C("value",t.name),l.Q6J("ngModel",t.name),l.xp6(2),l.s9C("value",l.lcZ(5,4,t.price)),l.Q6J("ngModel",t.price)}}function oB(n,e){1&n&&(l.TgZ(0,"div",39),l._uU(1," category required"),l.qZA())}function aB(n,e){1&n&&(l.TgZ(0,"div",39),l._uU(1," amount required"),l.qZA())}function uB(n,e){1&n&&(l.TgZ(0,"div",39),l._uU(1," name required"),l.qZA())}function lB(n,e){1&n&&(l.TgZ(0,"div",39),l._uU(1," price required"),l.qZA())}function cB(n,e){1&n&&(l.TgZ(0,"div",39),l._uU(1," file required"),l.qZA())}let dB=(()=>{class n{constructor(t,r){this.PS=t,this.cs=r,this.productlist=[]}ngOnInit(){this.PS.getAllProducts().subscribe(t=>{this.productlist=t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()}))})}changeprice(t){this.PS.changeprice(this.productlist[t].id,this.productlist[t].price,this.productlist[t].name)}deletep(t){this.PS.deletep(this.productlist[t].id)}addproductform(t){let f=this.image?.nativeElement.files?.[0];this.PS.addproduct(t.value.category,t.value.name,t.value.price,t.value.amount,f)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Cl),l.Y36(yI))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-settingsproducts"]],viewQuery:function(t,r){if(1&t&&l.Gf(iB,5),2&t){let i;l.iGM(i=l.CRH())&&(r.image=i.first)}},decls:61,vars:7,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-outline-success"],[1,"table","p-2","m-2"],["scope","col"],[4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-footer"],[3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["for","exampleInputEmail1"],["placeholder","one","type","text","ngModel","","required","","name","category",1,"form-control"],["category","ngModel"],["class","alert alert-danger",4,"ngIf"],["type","number","placeholder","always 1","ngModel","","required","","name","amount",1,"form-control"],["amount","ngModel"],["for","exampleInputEmail2"],["type","text","placeholder","shoes","ngModel","","required","","name","name",1,"form-control"],["name","ngModel"],["for","exampleInputEmail3"],["type","number","ngModel","","placeholder","99","required","","name","price",1,"form-control"],["price","ngModel"],["for","exampleInputPassword1"],["type","file","required","","name","file","ngModel","","required","",1,"form-control"],["file","ngModel","image",""],["type","submit",1,"btn","btn-outline-success","m-3",3,"disabled"],["type","text","name","","id","",1,"form-control",3,"ngModel","value","ngModelChange"],["type","number",1,"form-control",3,"ngModel","value","ngModelChange"],[1,"btn","btn-outline-primary",3,"click"],["aria-hidden","true",1,"fa","fa-save"],[1,"btn","btn-outline-danger",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],[1,"alert","alert-danger"]],template:function(t,r){if(1&t){const i=l.EpF();l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"div",2),l.TgZ(3,"button",3),l._uU(4," add product "),l.qZA(),l.TgZ(5,"table",4)(6,"thead")(7,"tr")(8,"th",5),l._uU(9,"name"),l.qZA(),l.TgZ(10,"th",5),l._uU(11,"price"),l.qZA(),l.TgZ(12,"th",5),l._uU(13,"update"),l.qZA(),l.TgZ(14,"th",5),l._uU(15,"delete"),l.qZA()()(),l.TgZ(16,"tbody"),l.YNc(17,sB,12,6,"tr",6),l.qZA()(),l.TgZ(18,"div",7)(19,"div",8)(20,"div",9)(21,"div",10)(22,"h5",11),l._uU(23,"add product"),l.qZA(),l._UZ(24,"button",12),l.qZA(),l.TgZ(25,"div",13)(26,"form",14,15),l.NdJ("ngSubmit",function(){l.CHM(i);const d=l.MAs(27);return l.KtG(r.addproductform(d))}),l.TgZ(28,"div",16)(29,"label",17),l._uU(30,"category"),l.qZA(),l._UZ(31,"input",18,19),l.YNc(33,oB,2,0,"div",20),l.qZA(),l.TgZ(34,"div",16)(35,"label",17),l._uU(36,"amount"),l.qZA(),l._UZ(37,"input",21,22),l.YNc(39,aB,2,0,"div",20),l.qZA(),l.TgZ(40,"div",16)(41,"label",23),l._uU(42,"name"),l.qZA(),l._UZ(43,"input",24,25),l.YNc(45,uB,2,0,"div",20),l.qZA(),l.TgZ(46,"div",16)(47,"label",26),l._uU(48,"price"),l.qZA(),l._UZ(49,"input",27,28),l.YNc(51,lB,2,0,"div",20),l.qZA(),l.TgZ(52,"div",16)(53,"label",29),l._uU(54,"file"),l.qZA(),l._UZ(55,"input",30,31),l.qZA(),l.YNc(58,cB,2,0,"div",20),l.TgZ(59,"button",32),l._uU(60,"add product"),l.qZA()()()()()()()()}if(2&t){const i=l.MAs(27),a=l.MAs(32),d=l.MAs(38),f=l.MAs(44),y=l.MAs(50),w=l.MAs(56);l.xp6(17),l.Q6J("ngForOf",r.productlist),l.xp6(16),l.Q6J("ngIf",a.touched&&a.invalid),l.xp6(6),l.Q6J("ngIf",d.touched&&d.invalid),l.xp6(6),l.Q6J("ngIf",f.touched&&f.invalid),l.xp6(6),l.Q6J("ngIf",y.touched&&y.invalid),l.xp6(7),l.Q6J("ngIf",w.touched&&w.invalid),l.xp6(1),l.Q6J("disabled",i.invalid)}},dependencies:[Cr,Pn,aw,ng,xI,tw,nw,Uy,Ly,rg,Ma],styles:["div[_ngcontent-%COMP%]{font-family:Kalam,cursive;text-transform:capitalize}"]}),n})(),LR=(()=>{class n{constructor(t,r){this.afauth=t,this.router=r}canActivate(t,r){return new Promise(i=>{this.afauth.user.subscribe(a=>{a?i(!0):this.router.navigate(["/product"])})})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ky),l.LFG(dr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hB=[{path:"",redirectTo:"product",pathMatch:"full"},{path:"product",component:rB},{path:"cart",component:N2},{path:"first",component:PV},{path:"admin",component:kV},{path:"details/:id",component:VV},{path:"contact",component:MV},{path:"category1",component:TV},{path:"category2",component:SV},{path:"category3",component:xV},{path:"orders",component:LV,canActivate:[LR]},{path:"settings",component:dB,canActivate:[LR]}];let fB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[hE.forRoot(hB,{scrollPositionRestoration:"enabled"}),hE]}),n})(),pB=(()=>{class n{transform(t,r){return r&&t?n.filter(t,r):t}static filter(t,r){const i=r.toLowerCase();function a(d,f){for(let y in d)if(null!==d[y]&&null!=d[y]&&("object"==typeof d[y]&&a(d[y],f)||d[y].toString().toLowerCase().includes(i)))return!0;return!1}return t.filter(function(d){return a(d,r)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=l.Yjl({name:"filter",type:n,pure:!1}),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),gB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function mB(n,e){if(1&n&&(l.TgZ(0,"a",23),l._UZ(1,"i",24),l.TgZ(2,"span",25),l._uU(3),l.qZA()()),2&n){const t=l.oxw();l.xp6(3),l.hij(" ",t.local.cartCount," ")}}function yB(n,e){1&n&&(l.TgZ(0,"li",8)(1,"a",26),l._uU(2," settings "),l.qZA()())}function _B(n,e){1&n&&(l.TgZ(0,"li",8)(1,"a",27),l._uU(2,"orders"),l.qZA()())}function vB(n,e){1&n&&(l.TgZ(0,"a",28),l._uU(1,"Shope"),l.qZA())}function wB(n,e){1&n&&(l.TgZ(0,"a",29),l._uU(1,"Contact"),l.qZA())}function EB(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",30),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.logout())}),l.TgZ(1,"a",31),l._uU(2,"logout "),l.qZA()()}}function bB(n,e){if(1&n&&(l.TgZ(0,"a",32),l._UZ(1,"i",24),l.TgZ(2,"span",25),l._uU(3),l.qZA()()),2&n){const t=l.oxw();l.xp6(3),l.hij("",t.local.cartCount," ")}}function CB(n,e){if(1&n&&(l.TgZ(0,"div",37)(1,"h6",38),l._uU(2),l.qZA()()),2&n){const t=e.$implicit;l.xp6(1),l.MGl("routerLink","/details/",t.id,""),l.xp6(1),l.Oqu(t.name)}}function IB(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",33)(1,"h6",34)(2,"i",35),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.out())}),l.qZA()(),l.YNc(3,CB,3,2,"div",36),l.ALo(4,"filter"),l.qZA()}if(2&n){const t=l.oxw();l.xp6(3),l.Q6J("ngForOf",l.xi3(4,1,t.product,t.search))}}const TB=function(){return{standalone:!0}};let DB=(()=>{class n{constructor(t,r,i,a,d){this.route=t,this.ps=r,this.auths=i,this.afauth=a,this.local=d,this.isuser=!1,this.product=[],this.filtering=!1,this.search=""}ngOnInit(){this.ps.getAllProducts().subscribe(t=>{this.product=t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()}))}),this.afauth.authState.subscribe(t=>{t?(this.isuser=!0,this.auths.userid=t.uid):(this.isuser=!1,this.auths.userid="")})}logout(){this.auths.logout().then(()=>console.log("logout"))}filter(){this.filtering=!0}out(){this.filtering=!1}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(dr),l.Y36(Cl),l.Y36(J0),l.Y36(ky),l.Y36(VA))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-header"]],decls:33,vars:11,consts:[[1,"navbar","fixed-top","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],[1,"navbar-brand","logo"],["class","navbar-brand formobile","routerLinkActive","active","routerLink","/cart",4,"ngIf"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mx-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLinkActive","active","routerLink","/product","aria-current","page",1,"nav-link"],["class","nav-item",4,"ngIf"],[1,"nav-item","dropdown"],["class","nav-link dropdown-toggle","href","#","role","button","data-toggle","dropdown","aria-expanded","false","href","#",4,"ngIf"],[1,"dropdown-menu"],["routerLinkActive","active","routerLink","/category1",1,"dropdown-item"],["routerLinkActive","active","routerLink","/category2",1,"dropdown-item"],["routerLinkActive","active","routerLink","/category3",1,"dropdown-item"],["class","nav-link","routerLinkActive","active","routerLink","/contact",4,"ngIf"],["class","nav-item logout ",3,"click",4,"ngIf"],["class","navbar-brand fordesktop","routerLinkActive","active","routerLink","/cart",4,"ngIf"],[1,"form-inline"],["type","text","placeholder","Search","aria-label","Search",1,"form-control","searchinput",3,"ngModel","ngModelOptions","keypress","ngModelChange"],["class","thetextofsearch1",4,"ngIf"],["routerLinkActive","active","routerLink","/cart",1,"navbar-brand","formobile"],[1,"fa-solid","fa-cart-shopping"],[1,"badge"],["routerLink","/settings","routerLinkActive","active","aria-current","page",1,"nav-link","active"],["routerLinkActive","active","routerLink","/orders","aria-current","page",1,"nav-link"],["href","#","role","button","data-toggle","dropdown","aria-expanded","false","href","#",1,"nav-link","dropdown-toggle"],["routerLinkActive","active","routerLink","/contact",1,"nav-link"],[1,"nav-item","logout",3,"click"],[1,"btn","btn-danger","logout"],["routerLinkActive","active","routerLink","/cart",1,"navbar-brand","fordesktop"],[1,"thetextofsearch1"],[1,"out"],[1,"fa","fa-times",3,"click"],["class","thetextofsearch",4,"ngFor","ngForOf"],[1,"thetextofsearch"],["routerLinkActive","active",1,"item",3,"routerLink"]],template:function(t,r){1&t&&(l.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),l._uU(3,"mini "),l.TgZ(4,"b"),l._uU(5," shope"),l.qZA()(),l.YNc(6,mB,4,1,"a",3),l.TgZ(7,"button",4),l._UZ(8,"span",5),l.qZA(),l.TgZ(9,"div",6)(10,"ul",7)(11,"li",8)(12,"a",9),l._uU(13,"Home"),l.qZA()(),l.YNc(14,yB,3,0,"li",10),l.YNc(15,_B,3,0,"li",10),l.TgZ(16,"li",11),l.YNc(17,vB,2,0,"a",12),l.TgZ(18,"div",13)(19,"a",14),l._uU(20,"category1"),l.qZA(),l.TgZ(21,"a",15),l._uU(22,"category2"),l.qZA(),l.TgZ(23,"a",16),l._uU(24,"category3"),l.qZA()()(),l.TgZ(25,"li",8),l.YNc(26,wB,2,0,"a",17),l.qZA(),l._UZ(27,"li",8),l.YNc(28,EB,3,0,"li",18),l.qZA(),l.YNc(29,bB,4,1,"a",19),l.TgZ(30,"form",20)(31,"input",21),l.NdJ("keypress",function(){return r.filter()})("ngModelChange",function(a){return r.search=a}),l.qZA(),l.YNc(32,IB,5,4,"div",22),l.qZA()()()()),2&t&&(l.xp6(6),l.Q6J("ngIf",!r.isuser),l.xp6(8),l.Q6J("ngIf",r.isuser),l.xp6(1),l.Q6J("ngIf",r.isuser),l.xp6(2),l.Q6J("ngIf",!r.isuser),l.xp6(9),l.Q6J("ngIf",!r.isuser),l.xp6(2),l.Q6J("ngIf",r.isuser),l.xp6(1),l.Q6J("ngIf",!r.isuser),l.xp6(2),l.Q6J("ngModel",r.search)("ngModelOptions",l.DdM(10,TB)),l.xp6(1),l.Q6J("ngIf",r.filtering))},dependencies:[Cr,Pn,aw,ng,tw,nw,ho,Tf,Df,Ly,rg,pB],styles:["nav[_ngcontent-%COMP%]{padding:0 50px;background-color:#fff;width:100%;z-index:999;font-size:15px;text-transform:uppercase;font-weight:400;line-height:1.5;color:#212529;letter-spacing:3px;font-family:Kalam,cursive;box-shadow:#0000003d 0 3px 8px;height:100px}li[_ngcontent-%COMP%]{margin:30px}li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#212529}.logout[_ngcontent-%COMP%]{color:#fff!important}li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{color:#c95353;transition:.3s!important}.lisearch[_ngcontent-%COMP%]{display:flex;align-items:baseline}.lisearch[_ngcontent-%COMP%]:hover{border-bottom:unset}.divanimation[_ngcontent-%COMP%]{display:flex;margin-left:70px}.searchdiv[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.logo[_ngcontent-%COMP%]{font-size:20px;letter-spacing:4px;font-weight:600;cursor:pointer;font-family:Kalam,cursive}.logo[_ngcontent-%COMP%]:hover{color:#c95353!important;transition:.3s!important}.logo[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{color:#c95353}.searchinput[_ngcontent-%COMP%]{height:30px;width:250px;box-shadow:#63636333 0 2px 8px;border-radius:16px;margin-right:3px!important;border:.1px solid rgb(151,151,151)}@keyframes shaking{0%{transform:rotate(0);color:#ce8f8f}25%{transform:rotate(-6deg)}50%{transform:rotate(0);color:#c46161}75%{transform:rotate(6deg)}to{transform:rotate(0);color:#c95353}}.fa-cart-shopping[_ngcontent-%COMP%]{font-size:20px;animation:shaking 3s infinite alternate}.form-control[_ngcontent-%COMP%]:focus{border-color:#bdbbbb;box-shadow:inset 0 1px 1px #d3d0d013,0 0 8px #b9b8b8}.menubars[_ngcontent-%COMP%]{visibility:hidden}.elemntmenu[_ngcontent-%COMP%]{padding-top:15px;list-style:none}.elemntmenu[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:unset}.formobile[_ngcontent-%COMP%]{display:none}.fordesktop[_ngcontent-%COMP%]{display:block;padding-right:30px}.badge[_ngcontent-%COMP%]{margin:0;padding:0;font-size:15px;font-weight:400;color:#212529!important;font-family:Kalam,cursive}.dropdown-menu[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:visited{background-color:#fff}.thetextofsearch1[_ngcontent-%COMP%]{position:absolute;cursor:pointer;width:250px;margin-top:5px;padding:10px;border-radius:10px;background-color:#fff;box-shadow:inset 0 1px 1px #d3d0d013,0 0 8px #b9b8b8}.out[_ngcontent-%COMP%]{position:absolute;right:0%}.item[_ngcontent-%COMP%]{font-weight:300}@media screen and (max-width: 990px){.fordesktop[_ngcontent-%COMP%]{display:none}.formobile[_ngcontent-%COMP%]{display:block;padding-left:30px}nav[_ngcontent-%COMP%]{padding:30px 0;height:-moz-fit-content;height:fit-content}li[_ngcontent-%COMP%]{margin:15px}}.active[_ngcontent-%COMP%]{color:#c95353!important}"]}),n})(),SB=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-footer"]],decls:48,vars:0,consts:[[1,"divlogo"],[1,"logo"],[1,"fa-brands","fa-twitter"],[1,"fa-brands","fa-facebook"],[1,"fa-solid","fa-envelope"],[1,"fa-brands","fa-instagram"],[1,"secondfooter"],[1,"secondfooter","m-md-2"],[1,"fa-solid","fa-location-dot"],[1,"fa-solid","fa-phone"],[1,"theendtext"],[1,"enddiv"]],template:function(t,r){1&t&&(l.TgZ(0,"footer")(1,"div",0)(2,"h1",1),l._uU(3,"mini "),l.TgZ(4,"b"),l._uU(5,"shope"),l.qZA()(),l.TgZ(6,"h6"),l._uU(7,"Far far away, behind the word mountains, far from the countries"),l.qZA(),l.TgZ(8,"div"),l._UZ(9,"i",2)(10,"i",3)(11,"i",4)(12,"i",5),l.qZA()(),l.TgZ(13,"div",6)(14,"h1"),l._uU(15,"QUICK LINKS"),l.qZA(),l.TgZ(16,"h4"),l._uU(17,"About"),l.qZA(),l.TgZ(18,"h4"),l._uU(19," Blogs"),l.qZA(),l.TgZ(20,"h4"),l._uU(21," Contact"),l.qZA(),l.TgZ(22,"h4"),l._uU(23,"FAQ"),l.qZA()(),l.TgZ(24,"div",6)(25,"h1"),l._uU(26," ACCOUNT"),l.qZA(),l.TgZ(27,"h4"),l._uU(28,"My Account"),l.qZA(),l.TgZ(29,"h4"),l._uU(30," Orders Tracking"),l.qZA(),l.TgZ(31,"h4"),l._uU(32," Checkout"),l.qZA(),l.TgZ(33,"h4"),l._uU(34," Wishlist"),l.qZA()(),l.TgZ(35,"div",7)(36,"h1"),l._uU(37,"HAVE A QUESTIONS?"),l.qZA(),l.TgZ(38,"h4"),l._UZ(39,"i",8),l._uU(40," sousse tunisia"),l.qZA(),l.TgZ(41,"h4"),l._UZ(42,"i",9),l._uU(43," +216 999 999"),l.qZA()()(),l.TgZ(44,"div",10)(45,"h6"),l._uU(46,"Copyright \xa92022 All rights reserved | This template is made by AYMEN"),l.qZA()(),l._UZ(47,"div",11))},styles:[".logo[_ngcontent-%COMP%]{font-size:30px;letter-spacing:4px;font-weight:600;cursor:pointer;font-family:Kalam,cursive;text-transform:uppercase;margin:20px}.logo[_ngcontent-%COMP%]:hover{color:#c95353!important;transition:.3s!important}.logo[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{color:#c95353}footer[_ngcontent-%COMP%]{padding:40px;background-color:#f8f9fa;display:flex;justify-content:space-around;flex-wrap:wrap;box-shadow:#0000003d 0 3px 8px;height:max-content}.divlogo[_ngcontent-%COMP%] > h6[_ngcontent-%COMP%]{font-weight:250;width:300px}i[_ngcontent-%COMP%]{font-size:25px;margin:10px;color:#6b6a6a}i[_ngcontent-%COMP%]:hover{color:#141414;transition:.5s ease}.secondfooter[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:22px}.secondfooter[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{font-size:15px;font-weight:300}.theendtext[_ngcontent-%COMP%]{color:#444;background-color:#f8f9fa;font-size:10px;padding:20px;font-weight:300;text-align:center;border-top:.5px solid rgb(219,219,219)}@media screen and (max-width: 500px){.enddiv[_ngcontent-%COMP%]{height:300px;background-color:#f8f9fa}}"]}),n})(),AB=(()=>{class n{constructor(){this.title="add-to-cart"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"header"],[1,"footer"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"app-header"),l.qZA(),l._UZ(2,"router-outlet"),l.TgZ(3,"div",1),l._UZ(4,"app-footer"),l.qZA())},dependencies:[Ql,DB,SB],styles:[".header[_ngcontent-%COMP%]{margin-bottom:120px;z-index:999}"]}),n})();const UR_firebase={projectId:"addtocart-c49b8",appId:"1:116011466277:web:c689b7c98b0c1db1ecc9cc",storageBucket:"addtocart-c49b8.appspot.com",locationId:"us-central",apiKey:"AIzaSyCjfNE-2xucKNm73M_zhAVqIStH1LIC6-0",authDomain:"addtocart-c49b8.firebaseapp.com",messagingSenderId:"116011466277",measurementId:"G-RJFC8MZVE8"};var xB=k(7573);class Dx{constructor(e){return e}}class Sx{constructor(){return(0,Wt.vb)("auth")}}const Ax=new l.OlP("angularfire2.auth-instances");function OB(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Dx(r)}}const PB={provide:Sx,deps:[[new l.FiY,Ax]]},RB={provide:Dx,useFactory:function MB(n,e){const t=(0,Wt.JM)("auth",n,e);return t&&new Dx(t)},deps:[[new l.FiY,Ax],Jp]};let NB=(()=>{class n{constructor(){(0,Uc.KN)("angularfire",Wt.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[RB,PB]}),n})();function kB(n,...e){return{ngModule:NB,providers:[{provide:Ax,useFactory:OB(n),multi:!0,deps:[l.R0b,l.zs3,Wt.HU,lI,[new l.FiY,Xp],...e]}]}}const FB=(0,Wt.u3)(xB.n,!0);class xx{constructor(e){return e}}const BR="firestore",Mx=new l.OlP("angularfire2.firestore-instances");function VB(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new xx(r)}}const BB={provide:class LB{constructor(){return(0,Wt.vb)(BR)}},deps:[[new l.FiY,Mx]]},$B={provide:xx,useFactory:function UB(n,e){const t=(0,Wt.JM)(BR,n,e);return t&&new xx(t)},deps:[[new l.FiY,Mx],Jp]};let jB=(()=>{class n{constructor(){(0,Uc.KN)("angularfire",Wt.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[$B,BB]}),n})();function HB(n,...e){return{ngModule:jB,providers:[{provide:Mx,useFactory:VB(n),multi:!0,deps:[l.R0b,l.zs3,Wt.HU,lI,[new l.FiY,Sx],[new l.FiY,Xp],...e]}]}}const zB=(0,Wt.u3)(KN,!0);class Ox{constructor(e){return e}}const $R="storage",Px=new l.OlP("angularfire2.storage-instances");function ZB(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ox(r)}}const WB={provide:class GB{constructor(){return(0,Wt.vb)($R)}},deps:[[new l.FiY,Px]]},KB={provide:Ox,useFactory:function qB(n,e){const t=(0,Wt.JM)($R,n,e);return t&&new Ox(t)},deps:[[new l.FiY,Px],Jp]};let YB=(()=>{class n{constructor(){(0,Uc.KN)("angularfire",Wt.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[KB,WB]}),n})();function QB(n,...e){return{ngModule:YB,providers:[{provide:Px,useFactory:ZB(n),multi:!0,deps:[l.R0b,l.zs3,Wt.HU,lI,[new l.FiY,Sx],[new l.FiY,Xp],...e]}]}}const JB=(0,Wt.u3)(lV,!0);function jR(n){return new l.vHH(3e3,!1)}function R$(){return typeof window<"u"&&typeof window.document<"u"}function Rx(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Nh(n){switch(n.length){case 0:return new ew;case 1:return n[0];default:return new OO(n)}}function HR(n,e,t,r,i=new Map,a=new Map){const d=[],f=[];let y=-1,w=null;if(r.forEach(T=>{const A=T.get("offset"),F=A==y,V=F&&w||new Map;T.forEach((z,ie)=>{let ce=ie,Be=z;if("offset"!==ie)switch(ce=e.normalizePropertyName(ce,d),Be){case"!":Be=i.get(ie);break;case Vc:Be=a.get(ie);break;default:Be=e.normalizeStyleValue(ie,ce,Be,d)}V.set(ce,Be)}),F||f.push(V),w=V,y=A}),d.length)throw function E$(n){return new l.vHH(3502,!1)}();return f}function Nx(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&kx(t,"start",n)));break;case"done":n.onDone(()=>r(t&&kx(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&kx(t,"destroy",n)))}}function kx(n,e,t){const a=Fx(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),d=n._data;return null!=d&&(a._data=d),a}function Fx(n,e,t,r,i="",a=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!d}}function Co(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function zR(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Lx=(n,e)=>!1,GR=(n,e,t)=>[],qR=null;function Ux(n){const e=n.parentNode||n.host;return e===qR?null:e}(Rx()||typeof Element<"u")&&(R$()?(qR=(()=>document.documentElement)(),Lx=(n,e)=>{for(;e;){if(e===n)return!0;e=Ux(e)}return!1}):Lx=(n,e)=>n.contains(e),GR=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let og=null,ZR=!1;const WR=Lx,KR=GR;let YR=(()=>{class n{validateStyleProperty(t){return function k$(n){og||(og=function F$(){return typeof document<"u"?document.body:null}()||{},ZR=!!og.style&&"WebkitAppearance"in og.style);let e=!0;return og.style&&!function N$(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in og.style,!e&&ZR&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in og.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return WR(t,r)}getParentElement(t){return Ux(t)}query(t,r,i){return KR(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,d,f=[],y){return new ew(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Vx=(()=>{class n{}return n.NOOP=new YR,n})();const Bx="ng-enter",VI="ng-leave",BI="ng-trigger",$I=".ng-trigger",JR="ng-animating",$x=".ng-animating";function Hc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:jx(parseFloat(e[1]),e[2])}function jx(n,e){return"s"===e?1e3*n:n}function jI(n,e,t){return n.hasOwnProperty("duration")?n:function V$(n,e,t){let i,a=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(jR()),{duration:0,delay:0,easing:""};i=jx(parseFloat(f[1]),f[2]);const y=f[3];null!=y&&(a=jx(parseFloat(y),f[4]));const w=f[5];w&&(d=w)}else i=n;if(!t){let f=!1,y=e.length;i<0&&(e.push(function XB(){return new l.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function e$(){return new l.vHH(3101,!1)}()),f=!0),f&&e.splice(y,0,jR())}return{duration:i,delay:a,easing:d}}(n,e,t)}function fw(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function XR(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function kh(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function tN(n,e,t){return t?e+":"+t+";":""}function nN(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=tN(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=tN(0,H$(t),n.style[t]));n.setAttribute("style",e)}function Il(n,e,t){n.style&&(e.forEach((r,i)=>{const a=zx(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),Rx()&&nN(n))}function ag(n,e){n.style&&(e.forEach((t,r)=>{const i=zx(r);n.style[i]=""}),Rx()&&nN(n))}function pw(n){return Array.isArray(n)?1==n.length?n[0]:AO(n):n}const Hx=new RegExp("{{\\s*(.+?)\\s*}}","g");function rN(n){let e=[];if("string"==typeof n){let t;for(;t=Hx.exec(n);)e.push(t[1]);Hx.lastIndex=0}return e}function gw(n,e,t){const r=n.toString(),i=r.replace(Hx,(a,d)=>{let f=e[d];return null==f&&(t.push(function n$(n){return new l.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function HI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const j$=/-+([a-z0-9])/g;function zx(n){return n.replace(j$,(...e)=>e[1].toUpperCase())}function H$(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Io(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function r$(n){return new l.vHH(3004,!1)}()}}function iN(n,e){return window.getComputedStyle(n)[e]}function K$(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Y$(n,e,t){if(":"==n[0]){const y=function Q$(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function y$(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function m$(n){return new l.vHH(3015,!1)}()),e;const i=r[1],a=r[2],d=r[3];e.push(sN(i,d));"<"==a[0]&&!("*"==i&&"*"==d)&&e.push(sN(d,i))}(r,t,e)):t.push(n),t}const ZI=new Set(["true","1"]),WI=new Set(["false","0"]);function sN(n,e){const t=ZI.has(n)||WI.has(n),r=ZI.has(e)||WI.has(e);return(i,a)=>{let d="*"==n||n==i,f="*"==e||e==a;return!d&&t&&"boolean"==typeof i&&(d=i?ZI.has(n):WI.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?ZI.has(e):WI.has(e)),d&&f}}const J$=new RegExp("s*:selfs*,?","g");function Gx(n,e,t,r){return new X$(n).build(e,t,r)}class X${constructor(e){this._driver=e}build(e,t,r){const i=new nj(t);return this._resetContextStyleTimingState(i),Io(this,pw(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function s$(){return new l.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const y=f,w=y.name;w.toString().split(/\s*,\s*/).forEach(T=>{y.name=T,a.push(this.visitState(y,t))}),y.name=w}else if(1==f.type){const y=this.visitTransition(f,t);r+=y.queryCount,i+=y.depCount,d.push(y)}else t.errors.push(function o$(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:d,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,d=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(y=>{rN(y).forEach(w=>{d.hasOwnProperty(w)||a.add(w)})})}),a.size&&(HI(a.values()),t.errors.push(function a$(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Io(this,pw(e.animation),t);return{type:1,matchers:K$(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ug(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Io(this,r,t)),options:ug(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(d=>{t.currentTime=r;const f=Io(this,d,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:ug(e.options)}}visitAnimate(e,t){const r=function ij(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return qx(jI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=qx(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=jI(t,e);return qx(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:X0({});if(5==a.type)i=this.visitKeyframes(a,t);else{let d=e.styles,f=!1;if(!d){f=!0;const w={};r.easing&&(w.easing=r.easing),d=X0(w)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(d,t);y.isEmptyStep=f,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===Vc?r.push(f):t.errors.push(new l.vHH(3002,!1)):r.push(XR(f));let a=!1,d=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(d=f.get("easing"),f.delete("easing")),!a))for(let y of f.values())if(y.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:d,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&d.forEach((f,y)=>{const w=t.collectedStyles.get(t.currentQuerySelector),T=w.get(y);let A=!0;T&&(a!=i&&a>=T.startTime&&i<=T.endTime&&(t.errors.push(function l$(n,e,t,r,i){return new l.vHH(3010,!1)}()),A=!1),a=T.startTime),A&&w.set(y,{startTime:a,endTime:i}),t.options&&function $$(n,e,t){const r=e.params||{},i=rN(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function t$(n){return new l.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function c$(){return new l.vHH(3011,!1)}()),r;let a=0;const d=[];let f=!1,y=!1,w=0;const T=e.steps.map(Be=>{const Je=this._makeStyleAst(Be,t);let Ye=null!=Je.offset?Je.offset:function rj(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Je.styles),We=0;return null!=Ye&&(a++,We=Je.offset=Ye),y=y||We<0||We>1,f=f||We<w,w=We,d.push(We),Je});y&&t.errors.push(function d$(){return new l.vHH(3012,!1)}()),f&&t.errors.push(function h$(){return new l.vHH(3200,!1)}());const A=e.steps.length;let F=0;a>0&&a<A?t.errors.push(function f$(){return new l.vHH(3202,!1)}()):0==a&&(F=1/(A-1));const V=A-1,z=t.currentTime,ie=t.currentAnimateTimings,ce=ie.duration;return T.forEach((Be,Je)=>{const Ye=F>0?Je==V?1:F*Je:d[Je],We=Ye*ce;t.currentTime=z+ie.delay+We,ie.duration=We,this._validateStyleAst(Be,t),Be.offset=Ye,r.styles.push(Be)}),r}visitReference(e,t){return{type:8,animation:Io(this,pw(e.animation),t),options:ug(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ug(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ug(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,d]=function ej(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(J$,"")),n=n.replace(/@\*/g,$I).replace(/@\w+/g,t=>$I+"-"+t.slice(1)).replace(/:animating/g,$x),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,Co(t.collectedStyles,t.currentQuerySelector,new Map);const f=Io(this,pw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:d,animation:f,originalSelector:e.selector,options:ug(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function p$(){return new l.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:jI(e.timings,t.errors,!0);return{type:12,animation:Io(this,pw(e.animation),t),timings:r,options:null}}}class nj{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ug(n){return n?(n=fw(n)).params&&(n.params=function tj(n){return n?fw(n):null}(n.params)):n={},n}function qx(n,e,t){return{duration:n,delay:e,easing:t}}function Zx(n,e,t,r,i,a,d=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:d,subTimeline:f}}class KI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const aj=new RegExp(":enter","g"),lj=new RegExp(":leave","g");function Wx(n,e,t,r,i,a=new Map,d=new Map,f,y,w=[]){return(new cj).buildKeyframes(n,e,t,r,i,a,d,f,y,w)}class cj{buildKeyframes(e,t,r,i,a,d,f,y,w,T=[]){w=w||new KI;const A=new Kx(e,t,w,i,a,T,[]);A.options=y;const F=y.delay?Hc(y.delay):0;A.currentTimeline.delayNextStep(F),A.currentTimeline.setStyles([d],null,A.errors,y),Io(this,r,A);const V=A.timelines.filter(z=>z.containsAnimation());if(V.length&&f.size){let z;for(let ie=V.length-1;ie>=0;ie--){const ce=V[ie];if(ce.element===t){z=ce;break}}z&&!z.allowOnlyTimelineStyles()&&z.setStyles([f],null,A.errors,y)}return V.length?V.map(z=>z.buildKeyframes()):[Zx(t,[],[],[],0,F,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,i,i.options);a!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const d="number"==typeof a?a:Hc(gw(a,i?.params??{},t.errors));r.delayNextStep(d)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const d=null!=r.duration?Hc(r.duration):null,f=null!=r.delay?Hc(r.delay):null;return 0!==d&&e.forEach(y=>{const w=t.appendInstructionToTimeline(y,d,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Io(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=YI);const d=Hc(a.delay);i.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>Io(this,d,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Hc(e.options.delay):0;e.steps.forEach(d=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Io(this,d,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return jI(t.params?gw(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(y=>{f.forwardTime((y.offset||0)*a),f.setStyles(y.styles,y.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Hc(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=YI);let d=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let y=null;f.forEach((w,T)=>{t.currentQueryIndex=T;const A=t.createSubContext(e.options,w);a&&A.delayNextStep(a),w===t.element&&(y=A.currentTimeline),Io(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,d=Math.abs(a.duration),f=d*(t.currentQueryTotal-1);let y=d*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":y=f-y;break;case"full":y=r.currentStaggerTime}const T=t.currentTimeline;y&&T.delayNextStep(y);const A=T.currentTime;Io(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-A+(i.startTime-r.currentTimeline.startTime)}}const YI={};class Kx{constructor(e,t,r,i,a,d,f,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=YI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new QI(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Hc(r.duration)),null!=r.delay&&(i.delay=Hc(r.delay));const a=r.params;if(a){let d=i.params;d||(d=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!d.hasOwnProperty(f))&&(d[f]=gw(a[f],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new Kx(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=YI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new dj(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,d){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(aj,"."+this._enterClassName)).replace(lj,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!a&&0==f.length&&d.push(function g$(n){return new l.vHH(3014,!1)}()),f}}class QI{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new QI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Vc),this._currentKeyframe.set(t,Vc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},d=function hj(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,Vc)}else kh(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,y]of d){const w=gw(y,a,r);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Vc),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,y)=>{const w=kh(f,new Map,this._backFill);w.forEach((T,A)=>{"!"===T?e.add(A):T===Vc&&t.add(A)}),r||w.set("offset",y/this.duration),i.push(w)});const a=e.size?HI(e.values()):[],d=t.size?HI(t.values()):[];if(r){const f=i[0],y=new Map(f);f.set("offset",0),y.set("offset",1),i=[f,y]}return Zx(this.element,i,a,d,this.duration,this.startTime,this.easing,!1)}}class dj extends QI{constructor(e,t,r,i,a,d,f=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],d=r+t,f=t/d,y=kh(e[0]);y.set("offset",0),a.push(y);const w=kh(e[0]);w.set("offset",uN(f)),a.push(w);const T=e.length-1;for(let A=1;A<=T;A++){let F=kh(e[A]);const V=F.get("offset");F.set("offset",uN((t+V*r)/d)),a.push(F)}r=d,t=0,i="",e=a}return Zx(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function uN(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Yx{}const fj=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class pj extends Yx{normalizePropertyName(e,t){return zx(e)}normalizeStyleValue(e,t,r,i){let a="";const d=r.toString().trim();if(fj.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function i$(n,e){return new l.vHH(3005,!1)}())}return d+a}}function lN(n,e,t,r,i,a,d,f,y,w,T,A,F){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:d,timelines:f,queriedElements:y,preStyleProps:w,postStyleProps:T,totalTime:A,errors:F}}const Qx={};class cN{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function gj(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,d,f,y,w,T){const A=[],F=this.ast.options&&this.ast.options.params||Qx,z=this.buildStyles(r,f&&f.params||Qx,A),ie=y&&y.params||Qx,ce=this.buildStyles(i,ie,A),Be=new Set,Je=new Map,Ye=new Map,We="void"===i,Et={params:mj(ie,F),delay:this.ast.options?.delay},Tt=T?[]:Wx(e,t,this.ast.animation,a,d,z,ce,Et,w,A);let un=0;if(Tt.forEach(To=>{un=Math.max(To.duration+To.delay,un)}),A.length)return lN(t,this._triggerName,r,i,We,z,ce,[],[],Je,Ye,un,A);Tt.forEach(To=>{const zc=To.element,TN=Co(Je,zc,new Set);To.preStyleProps.forEach(lg=>TN.add(lg));const yw=Co(Ye,zc,new Set);To.postStyleProps.forEach(lg=>yw.add(lg)),zc!==t&&Be.add(zc)});const $r=HI(Be.values());return lN(t,this._triggerName,r,i,We,z,ce,Tt,$r,Je,Ye,un)}}function mj(n,e){const t=fw(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class yj{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=fw(this.defaultParams);return Object.keys(e).forEach(a=>{const d=e[a];null!==d&&(i[a]=d)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((d,f)=>{d&&(d=gw(d,i,t));const y=this.normalizer.normalizePropertyName(f,t);d=this.normalizer.normalizeStyleValue(f,y,d,t),r.set(y,d)})}),r}}class vj{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new yj(i.style,i.options&&i.options.params||{},r))}),dN(this.states,"true","1"),dN(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new cN(e,i,this.states))}),this.fallbackTransition=function wj(n,e,t){return new cN(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(d=>d.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function dN(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Ej=new KI;class bj{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=Gx(this._driver,t,r,[]);if(r.length)throw function b$(n){return new l.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=HR(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let d;const f=new Map;if(a?(d=Wx(this._driver,t,a,Bx,VI,new Map,new Map,r,Ej,i),d.forEach(T=>{const A=Co(f,T.element,new Map);T.postStyleProps.forEach(F=>A.set(F,null))})):(i.push(function C$(){return new l.vHH(3300,!1)}()),d=[]),i.length)throw function I$(n){return new l.vHH(3504,!1)}();f.forEach((T,A)=>{T.forEach((F,V)=>{T.set(V,this._driver.computeStyle(A,V,Vc))})});const w=Nh(d.map(T=>{const A=f.get(T.element);return this._buildPlayer(T,new Map,A)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function T$(n){return new l.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=Fx(t,"","","");return Nx(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const hN="ng-animate-queued",Jx="ng-animate-disabled",Sj=[],fN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Aj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ba="__ng_removed";class Xx{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Pj(n){return n??null}(r?e.value:e),r){const a=fw(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const mw="void",eM=new Xx(mw);class xj{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ca(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function D$(n,e){return new l.vHH(3302,!1)}();if(null==r||0==r.length)throw function S$(n){return new l.vHH(3303,!1)}();if(!function Rj(n){return"start"==n||"done"==n}(r))throw function A$(n,e){return new l.vHH(3400,!1)}();const a=Co(this._elementListeners,e,[]),d={name:t,phase:r,callback:i};a.push(d);const f=Co(this._engine.statesByElement,e,new Map);return f.has(t)||(Ca(e,BI),Ca(e,BI+"-"+t),f.set(t,eM)),()=>{this._engine.afterFlush(()=>{const y=a.indexOf(d);y>=0&&a.splice(y,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function x$(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),d=new tM(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Ca(e,BI),Ca(e,BI+"-"+t),this._engine.statesByElement.set(e,f=new Map));let y=f.get(t);const w=new Xx(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&w.absorbOptions(y.options),f.set(t,w),y||(y=eM),w.value!==mw&&y.value===w.value){if(!function Fj(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(y.params,w.params)){const ie=[],ce=a.matchStyles(y.value,y.params,ie),Be=a.matchStyles(w.value,w.params,ie);ie.length?this._engine.reportError(ie):this._engine.afterFlush(()=>{ag(e,ce),Il(e,Be)})}return}const F=Co(this._engine.playersByElement,e,[]);F.forEach(ie=>{ie.namespaceId==this.id&&ie.triggerName==t&&ie.queued&&ie.destroy()});let V=a.matchTransition(y.value,w.value,e,w.params),z=!1;if(!V){if(!i)return;V=a.fallbackTransition,z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:V,fromState:y,toState:w,player:d,isFallbackTransition:z}),z||(Ca(e,hN),d.onStart(()=>{jy(e,hN)})),d.onDone(()=>{let ie=this.players.indexOf(d);ie>=0&&this.players.splice(ie,1);const ce=this._engine.playersByElement.get(e);if(ce){let Be=ce.indexOf(d);Be>=0&&ce.splice(Be,1)}}),this.players.push(d),F.push(d),d}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,$I,!0);r.forEach(i=>{if(i[ba])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(d=>d.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),d=new Map;if(a){const f=[];if(a.forEach((y,w)=>{if(d.set(w,y.value),this._triggers.has(w)){const T=this.trigger(e,w,mw,i);T&&f.push(T)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),r&&Nh(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const d=a.name;if(i.has(d))return;i.add(d);const y=this._triggers.get(d).fallbackTransition,w=r.get(d)||eM,T=new Xx(mw),A=new tM(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:y,fromState:w,toState:T,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[ba];(!a||a===fN)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ca(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,d=this._elementListeners.get(a);d&&d.forEach(f=>{if(f.name==r.triggerName){const y=Fx(a,r.triggerName,r.fromState.value,r.toState.value);y._data=e,Nx(r.player,f.phase,y,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,d=i.transition.ast.depCount;return 0==a||0==d?a-d:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Mj{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new xj(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let d=!1,f=this.driver.getParentElement(t);for(;f;){const y=i.get(f);if(y){const w=r.indexOf(y);r.splice(w+1,0,e),d=!0;break}f=this.driver.getParentElement(f)}d||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(JI(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!JI(t))return;const a=t[ba];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ca(e,Jx)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),jy(e,Jx))}removeNode(e,t,r,i){if(JI(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[ba]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return JI(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,$I,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,$x,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Nh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ba];if(t&&t.setForRemoval){if(e[ba]=fN,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Jx)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ca(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Nh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function M$(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new KI,i=[],a=new Map,d=[],f=new Map,y=new Map,w=new Map,T=new Set;this.disabledNodes.forEach(yt=>{T.add(yt);const Mt=this.driver.query(yt,".ng-animate-queued",!0);for(let $t=0;$t<Mt.length;$t++)T.add(Mt[$t])});const A=this.bodyNode,F=Array.from(this.statesByElement.keys()),V=mN(F,this.collectedEnterElements),z=new Map;let ie=0;V.forEach((yt,Mt)=>{const $t=Bx+ie++;z.set(Mt,$t),yt.forEach(Cn=>Ca(Cn,$t))});const ce=[],Be=new Set,Je=new Set;for(let yt=0;yt<this.collectedLeaveElements.length;yt++){const Mt=this.collectedLeaveElements[yt],$t=Mt[ba];$t&&$t.setForRemoval&&(ce.push(Mt),Be.add(Mt),$t.hasAnimation?this.driver.query(Mt,".ng-star-inserted",!0).forEach(Cn=>Be.add(Cn)):Je.add(Mt))}const Ye=new Map,We=mN(F,Array.from(Be));We.forEach((yt,Mt)=>{const $t=VI+ie++;Ye.set(Mt,$t),yt.forEach(Cn=>Ca(Cn,$t))}),e.push(()=>{V.forEach((yt,Mt)=>{const $t=z.get(Mt);yt.forEach(Cn=>jy(Cn,$t))}),We.forEach((yt,Mt)=>{const $t=Ye.get(Mt);yt.forEach(Cn=>jy(Cn,$t))}),ce.forEach(yt=>{this.processLeaveNode(yt)})});const Et=[],Tt=[];for(let yt=this._namespaceList.length-1;yt>=0;yt--)this._namespaceList[yt].drainQueuedTransitions(t).forEach($t=>{const Cn=$t.player,vi=$t.element;if(Et.push(Cn),this.collectedEnterElements.length){const Zi=vi[ba];if(Zi&&Zi.setForMove){if(Zi.previousTriggersValues&&Zi.previousTriggersValues.has($t.triggerName)){const cg=Zi.previousTriggersValues.get($t.triggerName),Ia=this.statesByElement.get($t.element);if(Ia&&Ia.has($t.triggerName)){const tT=Ia.get($t.triggerName);tT.value=cg,Ia.set($t.triggerName,tT)}}return void Cn.destroy()}}const Tl=!A||!this.driver.containsElement(A,vi),Do=Ye.get(vi),Fh=z.get(vi),br=this._buildInstruction($t,r,Fh,Do,Tl);if(br.errors&&br.errors.length)return void Tt.push(br);if(Tl)return Cn.onStart(()=>ag(vi,br.fromStyles)),Cn.onDestroy(()=>Il(vi,br.toStyles)),void i.push(Cn);if($t.isFallbackTransition)return Cn.onStart(()=>ag(vi,br.fromStyles)),Cn.onDestroy(()=>Il(vi,br.toStyles)),void i.push(Cn);const AN=[];br.timelines.forEach(Zi=>{Zi.stretchStartingKeyframe=!0,this.disabledNodes.has(Zi.element)||AN.push(Zi)}),br.timelines=AN,r.append(vi,br.timelines),d.push({instruction:br,player:Cn,element:vi}),br.queriedElements.forEach(Zi=>Co(f,Zi,[]).push(Cn)),br.preStyleProps.forEach((Zi,cg)=>{if(Zi.size){let Ia=y.get(cg);Ia||y.set(cg,Ia=new Set),Zi.forEach((tT,iM)=>Ia.add(iM))}}),br.postStyleProps.forEach((Zi,cg)=>{let Ia=w.get(cg);Ia||w.set(cg,Ia=new Set),Zi.forEach((tT,iM)=>Ia.add(iM))})});if(Tt.length){const yt=[];Tt.forEach(Mt=>{yt.push(function O$(n,e){return new l.vHH(3505,!1)}())}),Et.forEach(Mt=>Mt.destroy()),this.reportError(yt)}const un=new Map,$r=new Map;d.forEach(yt=>{const Mt=yt.element;r.has(Mt)&&($r.set(Mt,Mt),this._beforeAnimationBuild(yt.player.namespaceId,yt.instruction,un))}),i.forEach(yt=>{const Mt=yt.element;this._getPreviousPlayers(Mt,!1,yt.namespaceId,yt.triggerName,null).forEach(Cn=>{Co(un,Mt,[]).push(Cn),Cn.destroy()})});const To=ce.filter(yt=>_N(yt,y,w)),zc=new Map;gN(zc,this.driver,Je,w,Vc).forEach(yt=>{_N(yt,y,w)&&To.push(yt)});const yw=new Map;V.forEach((yt,Mt)=>{gN(yw,this.driver,new Set(yt),y,"!")}),To.forEach(yt=>{const Mt=zc.get(yt),$t=yw.get(yt);zc.set(yt,new Map([...Array.from(Mt?.entries()??[]),...Array.from($t?.entries()??[])]))});const lg=[],DN=[],SN={};d.forEach(yt=>{const{element:Mt,player:$t,instruction:Cn}=yt;if(r.has(Mt)){if(T.has(Mt))return $t.onDestroy(()=>Il(Mt,Cn.toStyles)),$t.disabled=!0,$t.overrideTotalTime(Cn.totalTime),void i.push($t);let vi=SN;if($r.size>1){let Do=Mt;const Fh=[];for(;Do=Do.parentNode;){const br=$r.get(Do);if(br){vi=br;break}Fh.push(Do)}Fh.forEach(br=>$r.set(br,vi))}const Tl=this._buildAnimation($t.namespaceId,Cn,un,a,yw,zc);if($t.setRealPlayer(Tl),vi===SN)lg.push($t);else{const Do=this.playersByElement.get(vi);Do&&Do.length&&($t.parentPlayer=Nh(Do)),i.push($t)}}else ag(Mt,Cn.fromStyles),$t.onDestroy(()=>Il(Mt,Cn.toStyles)),DN.push($t),T.has(Mt)&&i.push($t)}),DN.forEach(yt=>{const Mt=a.get(yt.element);if(Mt&&Mt.length){const $t=Nh(Mt);yt.setRealPlayer($t)}}),i.forEach(yt=>{yt.parentPlayer?yt.syncPlayerEvents(yt.parentPlayer):yt.destroy()});for(let yt=0;yt<ce.length;yt++){const Mt=ce[yt],$t=Mt[ba];if(jy(Mt,VI),$t&&$t.hasAnimation)continue;let Cn=[];if(f.size){let Tl=f.get(Mt);Tl&&Tl.length&&Cn.push(...Tl);let Do=this.driver.query(Mt,$x,!0);for(let Fh=0;Fh<Do.length;Fh++){let br=f.get(Do[Fh]);br&&br.length&&Cn.push(...br)}}const vi=Cn.filter(Tl=>!Tl.destroyed);vi.length?Nj(this,Mt,vi):this.processLeaveNode(Mt)}return ce.length=0,lg.forEach(yt=>{this.players.push(yt),yt.onDone(()=>{yt.destroy();const Mt=this.players.indexOf(yt);this.players.splice(Mt,1)}),yt.play()}),lg}elementContainsData(e,t){let r=!1;const i=t[ba];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let d=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(d=f)}else{const f=this.playersByElement.get(e);if(f){const y=!a||a==mw;f.forEach(w=>{w.queued||!y&&w.triggerName!=i||d.push(w)})}}return(r||i)&&(d=d.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),d}_beforeAnimationBuild(e,t,r){const a=t.element,d=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const w=y.element,T=w!==a,A=Co(r,w,[]);this._getPreviousPlayers(w,T,d,f,t.toState).forEach(V=>{const z=V.getRealPlayer();z.beforeDestroy&&z.beforeDestroy(),V.destroy(),A.push(V)})}ag(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,d){const f=t.triggerName,y=t.element,w=[],T=new Set,A=new Set,F=t.timelines.map(z=>{const ie=z.element;T.add(ie);const ce=ie[ba];if(ce&&ce.removedBeforeQueried)return new ew(z.duration,z.delay);const Be=ie!==y,Je=function kj(n){const e=[];return yN(n,e),e}((r.get(ie)||Sj).map(un=>un.getRealPlayer())).filter(un=>!!un.element&&un.element===ie),Ye=a.get(ie),We=d.get(ie),Et=HR(0,this._normalizer,0,z.keyframes,Ye,We),Tt=this._buildPlayer(z,Et,Je);if(z.subTimeline&&i&&A.add(ie),Be){const un=new tM(e,f,ie);un.setRealPlayer(Tt),w.push(un)}return Tt});w.forEach(z=>{Co(this.playersByQueriedElement,z.element,[]).push(z),z.onDone(()=>function Oj(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,z.element,z))}),T.forEach(z=>Ca(z,JR));const V=Nh(F);return V.onDestroy(()=>{T.forEach(z=>jy(z,JR)),Il(y,t.toStyles)}),A.forEach(z=>{Co(i,z,[]).push(V)}),V}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new ew(e.duration,e.delay)}}class tM{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new ew,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Nx(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Co(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function JI(n){return n&&1===n.nodeType}function pN(n,e){const t=n.style.display;return n.style.display=e??"none",t}function gN(n,e,t,r,i){const a=[];t.forEach(y=>a.push(pN(y)));const d=[];r.forEach((y,w)=>{const T=new Map;y.forEach(A=>{const F=e.computeStyle(w,A,i);T.set(A,F),(!F||0==F.length)&&(w[ba]=Aj,d.push(w))}),n.set(w,T)});let f=0;return t.forEach(y=>pN(y,a[f++])),d}function mN(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function d(f){if(!f)return 1;let y=a.get(f);if(y)return y;const w=f.parentNode;return y=t.has(w)?w:i.has(w)?1:d(w),a.set(f,y),y}return e.forEach(f=>{const y=d(f);1!==y&&t.get(y).push(f)}),t}function Ca(n,e){n.classList?.add(e)}function jy(n,e){n.classList?.remove(e)}function Nj(n,e,t){Nh(t).onDone(()=>n.processLeaveNode(e))}function yN(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof OO?yN(r.players,e):e.push(r)}}function _N(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class XI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new Mj(e,t,r),this._timelineEngine=new bj(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const d=e+"-"+i;let f=this._triggerCache[d];if(!f){const y=[],T=Gx(this._driver,a,y,[]);if(y.length)throw function w$(n,e){return new l.vHH(3404,!1)}();f=function _j(n,e,t){return new vj(n,e,t)}(i,T,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,d]=zR(r);this._timelineEngine.command(a,t,d,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[d,f]=zR(r);return this._timelineEngine.listen(d,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Uj=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Il(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Il(this._element,this._initialStyles),this._endStyles&&(Il(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ag(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ag(this._element,this._endStyles),this._endStyles=null),Il(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function nM(n){let e=null;return n.forEach((t,r)=>{(function Vj(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class vN{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:iN(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Bj{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return WR(e,t)}getParentElement(e){return Ux(e)}query(e,t,r){return KR(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,d=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(y.easing=a);const w=new Map,T=d.filter(V=>V instanceof vN);(function z$(n,e){return 0===n||0===e})(r,i)&&T.forEach(V=>{V.currentSnapshot.forEach((z,ie)=>w.set(ie,z))});let A=function B$(n){return n.length?n[0]instanceof Map?n:n.map(e=>XR(e)):[]}(t).map(V=>kh(V));A=function G$(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,d)=>{r.has(d)||i.push(d),r.set(d,a)}),i.length)for(let a=1;a<e.length;a++){let d=e[a];i.forEach(f=>d.set(f,iN(n,f)))}}return e}(e,A,w);const F=function Lj(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=nM(e[0]),e.length>1&&(r=nM(e[e.length-1]))):e instanceof Map&&(t=nM(e)),t||r?new Uj(n,t,r):null}(e,A);return new vN(e,A,y,F)}}let $j=(()=>{class n extends DO{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?AO(t):t;return wN(this._renderer,null,r,"register",[i]),new jj(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class jj extends class oL{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Hj(this._id,e,t||{},this._renderer)}}class Hj{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return wN(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function wN(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const EN="@.disabled";let zj=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,d)=>{const f=d?.parentNode(a);f&&d.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(a);return T||(T=new bN("",a,this.engine),this._rendererCache.set(a,T)),T}const d=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const y=T=>{Array.isArray(T)?T.forEach(y):this.engine.registerTrigger(d,f,t,T.name,T)};return r.data.animation.forEach(y),new Gj(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[d,f]=a;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(XI),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class bN{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==EN?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Gj extends bN{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==EN?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function qj(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),d="";return"@"!=a.charAt(0)&&([a,d]=function Zj(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let Wj=(()=>{class n extends XI{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe),l.LFG(Vx),l.LFG(Yx),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const CN=[{provide:DO,useClass:$j},{provide:Yx,useFactory:function Kj(){return new pj}},{provide:XI,useClass:Wj},{provide:l.FYo,useFactory:function Yj(n,e,t){return new zj(n,e,t)},deps:[ja,XI,l.R0b]}],rM=[{provide:Vx,useFactory:()=>new Bj},{provide:l.QbO,useValue:"BrowserAnimations"},...CN],IN=[{provide:Vx,useClass:YR},{provide:l.QbO,useValue:"NoopAnimations"},...CN];let Qj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?IN:rM}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:rM,imports:[Js]}),n})(),Jj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[AB]}),n.\u0275inj=l.cJS({providers:[eg,Cl],imports:[Js,Qj,AL.forRoot(),gB,D2,CV,ki.hO.initializeApp(UR_firebase),sL,QF,fB,T2,XV,sF(()=>oF(UR_firebase)),kB(()=>FB()),QB(()=>JB()),HB(()=>zB())]}),n})();(0,l.G48)(),qa().bootstrapModule(Jj).catch(n=>console.error(n))},5867:(ht,xe,k)=>{k.d(xe,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=k(9681);(0,l.registerVersion)("firebase","9.12.1","app")},127:(ht,xe,k)=>{k.d(xe,{Z:()=>l.Z});var l=k(3942);l.Z.registerVersion("firebase","9.12.1","app-compat")},5881:(ht,xe,k)=>{k.r(xe);var l=k(5861),j=k(3942),R=k(7573),se=k(2090),fe=(k(9681),k(1877),k(4859));function pe(){return window}function G(){return(G=(0,l.Z)(function*($,O,U){var ne;const{BuildInfo:Ne}=pe();(0,R.aq)(O.sessionId,"AuthEvent did not contain a session ID");const ot=yield me(O.sessionId),at={};return(0,R.ar)()?at.ibi=Ne.packageName:(0,R.as)()?at.apn=Ne.packageName:(0,R.at)($,"operation-not-supported-in-this-environment"),Ne.displayName&&(at.appDisplayName=Ne.displayName),at.sessionId=ot,(0,R.au)($,U,O.type,void 0,null!==(ne=O.eventId)&&void 0!==ne?ne:void 0,at)})).apply(this,arguments)}function je(){return(je=(0,l.Z)(function*($){const{BuildInfo:O}=pe(),U={};(0,R.ar)()?U.iosBundleId=O.packageName:(0,R.as)()?U.androidPackageName=O.packageName:(0,R.at)($,"operation-not-supported-in-this-environment"),yield(0,R.av)($,U)})).apply(this,arguments)}function it(){return(it=(0,l.Z)(function*($,O,U){const{cordova:ne}=pe();let Ne=()=>{};try{yield new Promise((ot,at)=>{let Se=null;function Le(){var Lt;ot();const _n=null===(Lt=ne.plugins.browsertab)||void 0===Lt?void 0:Lt.close;"function"==typeof _n&&_n(),"function"==typeof U?.close&&U.close()}function Pt(){Se||(Se=window.setTimeout(()=>{at((0,R.aw)($,"redirect-cancelled-by-user"))},2e3))}function yn(){"visible"===document?.visibilityState&&Pt()}O.addPassiveListener(Le),document.addEventListener("resume",Pt,!1),(0,R.as)()&&document.addEventListener("visibilitychange",yn,!1),Ne=()=>{O.removePassiveListener(Le),document.removeEventListener("resume",Pt,!1),document.removeEventListener("visibilitychange",yn,!1),Se&&window.clearTimeout(Se)}})}finally{Ne()}})).apply(this,arguments)}function me($){return tt.apply(this,arguments)}function tt(){return(tt=(0,l.Z)(function*($){const O=Xe($),U=yield crypto.subtle.digest("SHA-256",O);return Array.from(new Uint8Array(U)).map(Ne=>Ne.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Xe($){if((0,R.aq)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const O=new ArrayBuffer($.length),U=new Uint8Array(O);for(let ne=0;ne<$.length;ne++)U[ne]=$.charCodeAt(ne);return U}class Oe extends R.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(O=>{this.resolveInialized=O})}addPassiveListener(O){this.passiveListeners.add(O)}removePassiveListener(O){this.passiveListeners.delete(O)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(O){return this.resolveInialized(),this.passiveListeners.forEach(U=>U(O)),super.onEvent(O)}initialized(){var O=this;return(0,l.Z)(function*(){yield O.initPromise})()}}function re($){return he.apply(this,arguments)}function he(){return(he=(0,l.Z)(function*($){const O=yield X()._get(ge($));return O&&(yield X()._remove(ge($))),O})).apply(this,arguments)}function Q(){const $=[],O="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let U=0;U<20;U++){const ne=Math.floor(Math.random()*O.length);$.push(O.charAt(ne))}return $.join("")}function X(){return(0,R.ay)(R.b)}function ge($){return(0,R.az)("authEvent",$.config.apiKey,$.name)}function Ve($){if(!$?.includes("?"))return{};const[O,...U]=$.split("?");return(0,se.zd)(U.join("?"))}function qe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.aw)("no-auth-event")}}function Yt(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function Mr($=(0,se.z$)()){return!("file:"!==Yt()&&"ionic:"!==Yt()&&"capacitor:"!==Yt()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ki(){try{const $=self.localStorage,O=R.aI();if($)return $.setItem(O,"1"),$.removeItem(O),!function Wi($=(0,se.z$)()){return function jr(){return(0,se.w1)()&&11===document?.documentMode}()||function $n($=(0,se.z$)()){return/Edge\/\d+/.test($)}($)}()||(0,se.hl)()}catch{return Hr()&&(0,se.hl)()}return!1}function Hr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Kn(){return(function jt(){return"http:"===Yt()||"https:"===Yt()}()||(0,se.ru)()||Mr())&&!function Ai(){return(0,se.b$)()||(0,se.UG)()}()&&Ki()&&!Hr()}function wi(){return Mr()&&typeof document<"u"}function et(){return(et=(0,l.Z)(function*(){return!!wi()&&new Promise($=>{const O=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(O),$(!0)})})})).apply(this,arguments)}const Yn={LOCAL:"local",NONE:"none",SESSION:"session"},In=R.ax,gr="persistence";function Sn($){return An.apply(this,arguments)}function An(){return(An=(0,l.Z)(function*($){yield $._initializationPromise;const O=ft(),U=R.az(gr,$.config.apiKey,$.name);O&&O.setItem(U,$._getPersistence())})).apply(this,arguments)}function ft(){var $;try{return(null===($=function tr(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const pt=R.ax;class Ot{constructor(){this.browserResolver=R.ay(R.k),this.cordovaResolver=R.ay(class ln{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(O){var U=this;return(0,l.Z)(function*(){const ne=O._key();let Ne=U.eventManagers.get(ne);return Ne||(Ne=new Oe(O),U.eventManagers.set(ne,Ne),U.attachCallbackListeners(O,Ne)),Ne})()}_openPopup(O){(0,R.at)(O,"operation-not-supported-in-this-environment")}_openRedirect(O,U,ne,Ne){var ot=this;return(0,l.Z)(function*(){!function Ee($){var O,U,ne,Ne,ot,at,Se,Le,Pt,yn;const Lt=pe();(0,R.ax)("function"==typeof(null===(O=Lt?.universalLinks)||void 0===O?void 0:O.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.ax)(typeof(null===(U=Lt?.BuildInfo)||void 0===U?void 0:U.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.ax)("function"==typeof(null===(ot=null===(Ne=null===(ne=Lt?.cordova)||void 0===ne?void 0:ne.plugins)||void 0===Ne?void 0:Ne.browsertab)||void 0===ot?void 0:ot.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(Le=null===(Se=null===(at=Lt?.cordova)||void 0===at?void 0:at.plugins)||void 0===Se?void 0:Se.browsertab)||void 0===Le?void 0:Le.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(yn=null===(Pt=Lt?.cordova)||void 0===Pt?void 0:Pt.InAppBrowser)||void 0===yn?void 0:yn.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(O);const at=yield ot._initialize(O);yield at.initialized(),at.resetRedirect(),(0,R.aD)(),yield ot._originValidation(O);const Se=function Ie($,O,U=null){return{type:O,eventId:U,urlResponse:null,sessionId:Q(),postBody:null,tenantId:$.tenantId,error:(0,R.aw)($,"no-auth-event")}}(O,ne,Ne);yield function Ge($,O){return X()._set(ge($),O)}(O,Se);const Le=yield function Z($,O,U){return G.apply(this,arguments)}(O,Se,U),Pt=yield function Re($){const{cordova:O}=pe();return new Promise(U=>{O.plugins.browsertab.isAvailable(ne=>{let Ne=null;ne?O.plugins.browsertab.openUrl($):Ne=O.InAppBrowser.open($,(0,R.ap)()?"_blank":"_system","location=yes"),U(Ne)})})}(Le);return function Te($,O,U){return it.apply(this,arguments)}(O,at,Pt)})()}_isIframeWebStorageSupported(O,U){throw new Error("Method not implemented.")}_originValidation(O){const U=O._key();return this.originValidationPromises[U]||(this.originValidationPromises[U]=function J($){return je.apply(this,arguments)}(O)),this.originValidationPromises[U]}attachCallbackListeners(O,U){const{universalLinks:ne,handleOpenURL:Ne,BuildInfo:ot}=pe(),at=setTimeout((0,l.Z)(function*(){yield re(O),U.onEvent(qe())}),500),Se=function(){var yn=(0,l.Z)(function*(Lt){clearTimeout(at);const _n=yield re(O);let Qi=null;_n&&Lt?.url&&(Qi=function we($,O){var U,ne;const Ne=function Ue($){const O=Ve($),U=O.link?decodeURIComponent(O.link):void 0,ne=Ve(U).link,Ne=O.deep_link_id?decodeURIComponent(O.deep_link_id):void 0;return Ve(Ne).link||Ne||ne||U||$}(O);if(Ne.includes("/__/auth/callback")){const ot=Ve(Ne),at=ot.firebaseError?function oe($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(ot.firebaseError)):null,Se=null===(ne=null===(U=at?.code)||void 0===U?void 0:U.split("auth/"))||void 0===ne?void 0:ne[1],Le=Se?(0,R.aw)(Se):null;return Le?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:Ne,postBody:null}}return null}(_n,Lt.url)),U.onEvent(Qi||qe())});return function(_n){return yn.apply(this,arguments)}}();typeof ne<"u"&&"function"==typeof ne.subscribe&&ne.subscribe(null,Se);const Le=Ne,Pt=`${ot.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var yn=(0,l.Z)(function*(Lt){if(Lt.toLowerCase().startsWith(Pt)&&Se({url:Lt}),"function"==typeof Le)try{Le(Lt)}catch(_n){console.error(_n)}});return function(Lt){return yn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(O){var U=this;return(0,l.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._initialize(O)})()}_openPopup(O,U,ne,Ne){var ot=this;return(0,l.Z)(function*(){return yield ot.selectUnderlyingResolver(),ot.assertedUnderlyingResolver._openPopup(O,U,ne,Ne)})()}_openRedirect(O,U,ne,Ne){var ot=this;return(0,l.Z)(function*(){return yield ot.selectUnderlyingResolver(),ot.assertedUnderlyingResolver._openRedirect(O,U,ne,Ne)})()}_isIframeWebStorageSupported(O,U){this.assertedUnderlyingResolver._isIframeWebStorageSupported(O,U)}_originValidation(O){return this.assertedUnderlyingResolver._originValidation(O)}get _shouldInitProactively(){return wi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return pt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var O=this;return(0,l.Z)(function*(){if(O.underlyingResolver)return;const U=yield function Yi(){return et.apply(this,arguments)}();O.underlyingResolver=U?O.cordovaResolver:O.browserResolver})()}}function Jr($){return $.unwrap()}function Or($){return zr($)}function zr($){const{_tokenResponse:O}=$ instanceof se.ZR?$.customData:$;if(!O)return null;if(!($ instanceof se.ZR)&&"temporaryProof"in O&&"phoneNumber"in O)return R.P.credentialFromResult($);const U=O.providerId;if(!U||U===R.o.PASSWORD)return null;let ne;switch(U){case R.o.GOOGLE:ne=R.Q;break;case R.o.FACEBOOK:ne=R.N;break;case R.o.GITHUB:ne=R.T;break;case R.o.TWITTER:ne=R.W;break;default:const{oauthIdToken:Ne,oauthAccessToken:ot,oauthTokenSecret:at,pendingToken:Se,nonce:Le}=O;return ot||at||Ne||Se?Se?U.startsWith("saml.")?R.aL._create(U,Se):R.J._fromParams({providerId:U,signInMethod:U,pendingToken:Se,idToken:Ne,accessToken:ot}):new R.U(U).credential({idToken:Ne,accessToken:ot,rawNonce:Le}):null}return $ instanceof se.ZR?ne.credentialFromError($):ne.credentialFromResult($)}function Vt($,O){return O.catch(U=>{throw U instanceof se.ZR&&function At($,O){var U,ne;const Ne=null===(U=O.customData)||void 0===U?void 0:U._tokenResponse;if("auth/multi-factor-auth-required"===(null===(ne=O)||void 0===ne?void 0:ne.code))O.resolver=new cr($,R.an($,O));else if(Ne){const ot=zr(O),at=O;ot&&(at.credential=ot,at.tenantId=Ne.tenantId||void 0,at.email=Ne.email||void 0,at.phoneNumber=Ne.phoneNumber||void 0)}}($,U),U}).then(U=>{const Ne=U.user;return{operationType:U.operationType,credential:Or(U),additionalUserInfo:R.al(U),user:On.getOrCreate(Ne)}})}function ai($,O){return en.apply(this,arguments)}function en(){return(en=(0,l.Z)(function*($,O){const U=yield O;return{verificationId:U.verificationId,confirm:ne=>Vt($,U.confirm(ne))}})).apply(this,arguments)}class cr{constructor(O,U){this.resolver=U,this.auth=function nr($){return $.wrapped()}(O)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(O){return Vt(Jr(this.auth),this.resolver.resolveSignIn(O))}}class On{constructor(O){this._delegate=O,this.multiFactor=R.ao(O)}static getOrCreate(O){return On.USER_MAP.has(O)||On.USER_MAP.set(O,new On(O)),On.USER_MAP.get(O)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(O){return this._delegate.getIdTokenResult(O)}getIdToken(O){return this._delegate.getIdToken(O)}linkAndRetrieveDataWithCredential(O){return this.linkWithCredential(O)}linkWithCredential(O){var U=this;return(0,l.Z)(function*(){return Vt(U.auth,R.Z(U._delegate,O))})()}linkWithPhoneNumber(O,U){var ne=this;return(0,l.Z)(function*(){return ai(ne.auth,R.l(ne._delegate,O,U))})()}linkWithPopup(O){var U=this;return(0,l.Z)(function*(){return Vt(U.auth,R.d(U._delegate,O,Ot))})()}linkWithRedirect(O){var U=this;return(0,l.Z)(function*(){return yield Sn(R.aE(U.auth)),R.g(U._delegate,O,Ot)})()}reauthenticateAndRetrieveDataWithCredential(O){return this.reauthenticateWithCredential(O)}reauthenticateWithCredential(O){var U=this;return(0,l.Z)(function*(){return Vt(U.auth,R._(U._delegate,O))})()}reauthenticateWithPhoneNumber(O,U){return ai(this.auth,R.r(this._delegate,O,U))}reauthenticateWithPopup(O){return Vt(this.auth,R.e(this._delegate,O,Ot))}reauthenticateWithRedirect(O){var U=this;return(0,l.Z)(function*(){return yield Sn(R.aE(U.auth)),R.h(U._delegate,O,Ot)})()}sendEmailVerification(O){return R.ab(this._delegate,O)}unlink(O){var U=this;return(0,l.Z)(function*(){return yield R.ak(U._delegate,O),U})()}updateEmail(O){return R.ag(this._delegate,O)}updatePassword(O){return R.ah(this._delegate,O)}updatePhoneNumber(O){return R.u(this._delegate,O)}updateProfile(O){return R.af(this._delegate,O)}verifyBeforeUpdateEmail(O,U){return R.ac(this._delegate,O,U)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}On.USER_MAP=new WeakMap;const nt=R.ax;let De=(()=>{class ${constructor(U,ne){if(this.app=U,ne.isInitialized())return this._delegate=ne.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ne}=U.options;nt(Ne,"invalid-api-key",{appName:U.name}),nt(Ne,"invalid-api-key",{appName:U.name});const ot=typeof window<"u"?Ot:void 0;this._delegate=ne.initialize({options:{persistence:bt(Ne,U.name),popupRedirectResolver:ot}}),this._delegate._updateErrorMap(R.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?On.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(U){this._delegate.languageCode=U}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(U){this._delegate.tenantId=U}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(U,ne){R.G(this._delegate,U,ne)}applyActionCode(U){return R.a2(this._delegate,U)}checkActionCode(U){return R.a3(this._delegate,U)}confirmPasswordReset(U,ne){return R.a1(this._delegate,U,ne)}createUserWithEmailAndPassword(U,ne){var Ne=this;return(0,l.Z)(function*(){return Vt(Ne._delegate,R.a5(Ne._delegate,U,ne))})()}fetchProvidersForEmail(U){return this.fetchSignInMethodsForEmail(U)}fetchSignInMethodsForEmail(U){return R.aa(this._delegate,U)}isSignInWithEmailLink(U){return R.a8(this._delegate,U)}getRedirectResult(){var U=this;return(0,l.Z)(function*(){nt(Kn(),U._delegate,"operation-not-supported-in-this-environment");const ne=yield R.j(U._delegate,Ot);return ne?Vt(U._delegate,Promise.resolve(ne)):{credential:null,user:null}})()}addFrameworkForLogging(U){!function mn($,O){(0,R.aE)($)._logFramework(O)}(this._delegate,U)}onAuthStateChanged(U,ne,Ne){const{next:ot,error:at,complete:Se}=rt(U,ne,Ne);return this._delegate.onAuthStateChanged(ot,at,Se)}onIdTokenChanged(U,ne,Ne){const{next:ot,error:at,complete:Se}=rt(U,ne,Ne);return this._delegate.onIdTokenChanged(ot,at,Se)}sendSignInLinkToEmail(U,ne){return R.a7(this._delegate,U,ne)}sendPasswordResetEmail(U,ne){return R.a0(this._delegate,U,ne||void 0)}setPersistence(U){var ne=this;return(0,l.Z)(function*(){let Ne;switch(function Vs($,O){In(Object.values(Yn).includes(O),$,"invalid-persistence-type"),(0,se.b$)()?In(O!==Yn.SESSION,$,"unsupported-persistence-type"):(0,se.UG)()?In(O===Yn.NONE,$,"unsupported-persistence-type"):Hr()?In(O===Yn.NONE||O===Yn.LOCAL&&(0,se.hl)(),$,"unsupported-persistence-type"):In(O===Yn.NONE||Ki(),$,"unsupported-persistence-type")}(ne._delegate,U),U){case Yn.SESSION:Ne=R.a;break;case Yn.LOCAL:Ne=(yield R.ay(R.i)._isAvailable())?R.i:R.b;break;case Yn.NONE:Ne=R.L;break;default:return R.at("argument-error",{appName:ne._delegate.name})}return ne._delegate.setPersistence(Ne)})()}signInAndRetrieveDataWithCredential(U){return this.signInWithCredential(U)}signInAnonymously(){return Vt(this._delegate,R.X(this._delegate))}signInWithCredential(U){return Vt(this._delegate,R.Y(this._delegate,U))}signInWithCustomToken(U){return Vt(this._delegate,R.$(this._delegate,U))}signInWithEmailAndPassword(U,ne){return Vt(this._delegate,R.a6(this._delegate,U,ne))}signInWithEmailLink(U,ne){return Vt(this._delegate,R.a9(this._delegate,U,ne))}signInWithPhoneNumber(U,ne){return ai(this._delegate,R.s(this._delegate,U,ne))}signInWithPopup(U){var ne=this;return(0,l.Z)(function*(){return nt(Kn(),ne._delegate,"operation-not-supported-in-this-environment"),Vt(ne._delegate,R.c(ne._delegate,U,Ot))})()}signInWithRedirect(U){var ne=this;return(0,l.Z)(function*(){return nt(Kn(),ne._delegate,"operation-not-supported-in-this-environment"),yield Sn(ne._delegate),R.f(ne._delegate,U,Ot)})()}updateCurrentUser(U){return this._delegate.updateCurrentUser(U)}verifyPasswordResetCode(U){return R.a4(this._delegate,U)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=Yn,$})();function rt($,O,U){let ne=$;"function"!=typeof $&&({next:ne,error:O,complete:U}=$);const Ne=ne;return{next:at=>Ne(at&&On.getOrCreate(at)),error:O,complete:U}}function bt($,O){const U=function bn($,O){const U=ft();if(!U)return[];const ne=R.az(gr,$,O);switch(U.getItem(ne)){case Yn.NONE:return[R.L];case Yn.LOCAL:return[R.i,R.a];case Yn.SESSION:return[R.a];default:return[]}}($,O);if(typeof self<"u"&&!U.includes(R.i)&&U.push(R.i),typeof window<"u")for(const ne of[R.b,R.a])U.includes(ne)||U.push(ne);return U.includes(R.L)||U.push(R.L),U}class It{constructor(){this.providerId="phone",this._delegate=new R.P(Jr(j.Z.auth()))}static credential(O,U){return R.P.credential(O,U)}verifyPhoneNumber(O,U){return this._delegate.verifyPhoneNumber(O,U)}unwrap(){return this._delegate}}It.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,It.PROVIDER_ID=R.P.PROVIDER_ID;const nn=R.ax;class q{constructor(O,U,ne=j.Z.app()){var Ne;nn(null===(Ne=ne.options)||void 0===Ne?void 0:Ne.apiKey,"invalid-api-key",{appName:ne.name}),this._delegate=new R.R(O,U,ne.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function K($){$.INTERNAL.registerComponent(new fe.wA("auth-compat",O=>{const U=O.getProvider("app-compat").getImmediate(),ne=O.getProvider("auth");return new De(U,ne)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.M,FacebookAuthProvider:R.N,GithubAuthProvider:R.T,GoogleAuthProvider:R.Q,OAuthProvider:R.U,SAMLAuthProvider:R.V,PhoneAuthProvider:It,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:q,TwitterAuthProvider:R.W,Auth:De,AuthCredential:R.H,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.2.23")}(j.Z)},9751:(ht,xe,k)=>{k.d(xe,{y:()=>pe});var l=k(2961),j=k(727),R=k(8822),se=k(9635),le=k(2416),ye=k(576),fe=k(2806);let pe=(()=>{class J{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const Te=new J;return Te.source=this,Te.operator=Re,Te}subscribe(Re,Te,it){const Ee=function G(J){return J&&J instanceof l.Lv||function Z(J){return J&&(0,ye.m)(J.next)&&(0,ye.m)(J.error)&&(0,ye.m)(J.complete)}(J)&&(0,j.Nn)(J)}(Re)?Re:new l.Hp(Re,Te,it);return(0,fe.x)(()=>{const{operator:me,source:tt}=this;Ee.add(me?me.call(Ee,tt):tt?this._subscribe(Ee):this._trySubscribe(Ee))}),Ee}_trySubscribe(Re){try{return this._subscribe(Re)}catch(Te){Re.error(Te)}}forEach(Re,Te){return new(Te=_e(Te))((it,Ee)=>{const me=new l.Hp({next:tt=>{try{Re(tt)}catch(Xe){Ee(Xe),me.unsubscribe()}},error:Ee,complete:it});this.subscribe(me)})}_subscribe(Re){var Te;return null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(Re)}[R.L](){return this}pipe(...Re){return(0,se.U)(Re)(this)}toPromise(Re){return new(Re=_e(Re))((Te,it)=>{let Ee;this.subscribe(me=>Ee=me,me=>it(me),()=>Te(Ee))})}}return J.create=je=>new J(je),J})();function _e(J){var je;return null!==(je=J??le.v.Promise)&&void 0!==je?je:Promise}},7579:(ht,xe,k)=>{k.d(xe,{x:()=>fe});var l=k(9751),j=k(727);const se=(0,k(3888).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=k(8737),ye=k(2806);let fe=(()=>{class _e extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const J=new pe(this,this);return J.operator=G,J}_throwIfClosed(){if(this.closed)throw new se}next(G){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(G)}})}error(G){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:J}=this;for(;J.length;)J.shift().error(G)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:J,isStopped:je,observers:Re}=this;return J||je?j.Lc:(this.currentObservers=null,Re.push(G),new j.w0(()=>{this.currentObservers=null,(0,le.P)(Re,G)}))}_checkFinalizedStatuses(G){const{hasError:J,thrownError:je,isStopped:Re}=this;J?G.error(je):Re&&G.complete()}asObservable(){const G=new l.y;return G.source=this,G}}return _e.create=(Z,G)=>new pe(Z,G),_e})();class pe extends fe{constructor(Z,G){super(),this.destination=Z,this.source=G}next(Z){var G,J;null===(J=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===J||J.call(G,Z)}error(Z){var G,J;null===(J=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===J||J.call(G,Z)}complete(){var Z,G;null===(G=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===G||G.call(Z)}_subscribe(Z){var G,J;return null!==(J=null===(G=this.source)||void 0===G?void 0:G.subscribe(Z))&&void 0!==J?J:j.Lc}}},2961:(ht,xe,k)=>{k.d(xe,{Hp:()=>it,Lv:()=>J});var l=k(576),j=k(727),R=k(2416),se=k(7849);function le(){}const ye=_e("C",void 0,void 0);function _e(ke,Oe,Ie){return{kind:ke,value:Oe,error:Ie}}var Z=k(3410),G=k(2806);class J extends j.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,j.Nn)(Oe)&&Oe.add(this)):this.destination=Xe}static create(Oe,Ie,Ge){return new it(Oe,Ie,Ge)}next(Oe){this.isStopped?tt(function pe(ke){return _e("N",ke,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?tt(function fe(ke){return _e("E",void 0,ke)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?tt(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Re(ke,Oe){return je.call(ke,Oe)}class Te{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(Oe)}catch(Ge){Ee(Ge)}}error(Oe){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(Oe)}catch(Ge){Ee(Ge)}else Ee(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch(Ie){Ee(Ie)}}}class it extends J{constructor(Oe,Ie,Ge){let re;if(super(),(0,l.m)(Oe)||!Oe)re={next:Oe??void 0,error:Ie??void 0,complete:Ge??void 0};else{let he;this&&R.v.useDeprecatedNextContext?(he=Object.create(Oe),he.unsubscribe=()=>this.unsubscribe(),re={next:Oe.next&&Re(Oe.next,he),error:Oe.error&&Re(Oe.error,he),complete:Oe.complete&&Re(Oe.complete,he)}):re=Oe}this.destination=new Te(re)}}function Ee(ke){R.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(ke):(0,se.h)(ke)}function tt(ke,Oe){const{onStoppedNotification:Ie}=R.v;Ie&&Z.z.setTimeout(()=>Ie(ke,Oe))}const Xe={closed:!0,next:le,error:function me(ke){throw ke},complete:le}},727:(ht,xe,k)=>{k.d(xe,{Lc:()=>ye,w0:()=>le,Nn:()=>fe});var l=k(576);const R=(0,k(3888).d)(_e=>function(G){_e(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((J,je)=>`${je+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var se=k(8737);class le{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Re of G)Re.remove(this);else G.remove(this);const{initialTeardown:J}=this;if((0,l.m)(J))try{J()}catch(Re){Z=Re instanceof R?Re.errors:[Re]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Re of je)try{pe(Re)}catch(Te){Z=Z??[],Te instanceof R?Z=[...Z,...Te.errors]:Z.push(Te)}}if(Z)throw new R(Z)}}add(Z){var G;if(Z&&Z!==this)if(this.closed)pe(Z);else{if(Z instanceof le){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(Z)}}_hasParent(Z){const{_parentage:G}=this;return G===Z||Array.isArray(G)&&G.includes(Z)}_addParent(Z){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(Z),G):G?[G,Z]:Z}_removeParent(Z){const{_parentage:G}=this;G===Z?this._parentage=null:Array.isArray(G)&&(0,se.P)(G,Z)}remove(Z){const{_finalizers:G}=this;G&&(0,se.P)(G,Z),Z instanceof le&&Z._removeParent(this)}}le.EMPTY=(()=>{const _e=new le;return _e.closed=!0,_e})();const ye=le.EMPTY;function fe(_e){return _e instanceof le||_e&&"closed"in _e&&(0,l.m)(_e.remove)&&(0,l.m)(_e.add)&&(0,l.m)(_e.unsubscribe)}function pe(_e){(0,l.m)(_e)?_e():_e.unsubscribe()}},2416:(ht,xe,k)=>{k.d(xe,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ht,xe,k)=>{k.d(xe,{E:()=>j});const j=new(k(9751).y)(le=>le.complete())},8996:(ht,xe,k)=>{k.d(xe,{D:()=>Oe});var l=k(8421),j=k(5363),R=k(9468),ye=k(9751),pe=k(2202),_e=k(576),Z=k(9672);function J(Ie,Ge){if(!Ie)throw new Error("Iterable cannot be null");return new ye.y(re=>{(0,Z.f)(re,Ge,()=>{const he=Ie[Symbol.asyncIterator]();(0,Z.f)(re,Ge,()=>{he.next().then(we=>{we.done?re.complete():re.next(we.value)})},0,!0)})})}var je=k(3670),Re=k(8239),Te=k(1144),it=k(6495),Ee=k(2206),me=k(4532),tt=k(3260);function Oe(Ie,Ge){return Ge?function ke(Ie,Ge){if(null!=Ie){if((0,je.c)(Ie))return function se(Ie,Ge){return(0,l.Xf)(Ie).pipe((0,R.R)(Ge),(0,j.Q)(Ge))}(Ie,Ge);if((0,Te.z)(Ie))return function fe(Ie,Ge){return new ye.y(re=>{let he=0;return Ge.schedule(function(){he===Ie.length?re.complete():(re.next(Ie[he++]),re.closed||this.schedule())})})}(Ie,Ge);if((0,Re.t)(Ie))return function le(Ie,Ge){return(0,l.Xf)(Ie).pipe((0,R.R)(Ge),(0,j.Q)(Ge))}(Ie,Ge);if((0,Ee.D)(Ie))return J(Ie,Ge);if((0,it.T)(Ie))return function G(Ie,Ge){return new ye.y(re=>{let he;return(0,Z.f)(re,Ge,()=>{he=Ie[pe.h](),(0,Z.f)(re,Ge,()=>{let we,Q;try{({value:we,done:Q}=he.next())}catch(X){return void re.error(X)}Q?re.complete():re.next(we)},0,!0)}),()=>(0,_e.m)(he?.return)&&he.return()})}(Ie,Ge);if((0,tt.L)(Ie))return function Xe(Ie,Ge){return J((0,tt.Q)(Ie),Ge)}(Ie,Ge)}throw(0,me.z)(Ie)}(Ie,Ge):(0,l.Xf)(Ie)}},8421:(ht,xe,k)=>{k.d(xe,{Xf:()=>je});var l=k(655),j=k(1144),R=k(8239),se=k(9751),le=k(3670),ye=k(2206),fe=k(4532),pe=k(6495),_e=k(3260),Z=k(576),G=k(7849),J=k(8822);function je(ke){if(ke instanceof se.y)return ke;if(null!=ke){if((0,le.c)(ke))return function Re(ke){return new se.y(Oe=>{const Ie=ke[J.L]();if((0,Z.m)(Ie.subscribe))return Ie.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,j.z)(ke))return function Te(ke){return new se.y(Oe=>{for(let Ie=0;Ie<ke.length&&!Oe.closed;Ie++)Oe.next(ke[Ie]);Oe.complete()})}(ke);if((0,R.t)(ke))return function it(ke){return new se.y(Oe=>{ke.then(Ie=>{Oe.closed||(Oe.next(Ie),Oe.complete())},Ie=>Oe.error(Ie)).then(null,G.h)})}(ke);if((0,ye.D)(ke))return me(ke);if((0,pe.T)(ke))return function Ee(ke){return new se.y(Oe=>{for(const Ie of ke)if(Oe.next(Ie),Oe.closed)return;Oe.complete()})}(ke);if((0,_e.L)(ke))return function tt(ke){return me((0,_e.Q)(ke))}(ke)}throw(0,fe.z)(ke)}function me(ke){return new se.y(Oe=>{(function Xe(ke,Oe){var Ie,Ge,re,he;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,l.KL)(ke);!(Ge=yield Ie.next()).done;)if(Oe.next(Ge.value),Oe.closed)return}catch(we){re={error:we}}finally{try{Ge&&!Ge.done&&(he=Ie.return)&&(yield he.call(Ie))}finally{if(re)throw re.error}}Oe.complete()})})(ke,Oe).catch(Ie=>Oe.error(Ie))})}},6451:(ht,xe,k)=>{k.d(xe,{T:()=>ye});var l=k(8189),j=k(8421),R=k(515),se=k(7669),le=k(8996);function ye(...fe){const pe=(0,se.yG)(fe),_e=(0,se._6)(fe,1/0),Z=fe;return Z.length?1===Z.length?(0,j.Xf)(Z[0]):(0,l.J)(_e)((0,le.D)(Z,pe)):R.E}},5403:(ht,xe,k)=>{k.d(xe,{x:()=>j});var l=k(2961);function j(se,le,ye,fe,pe){return new R(se,le,ye,fe,pe)}class R extends l.Lv{constructor(le,ye,fe,pe,_e,Z){super(le),this.onFinalize=_e,this.shouldUnsubscribe=Z,this._next=ye?function(G){try{ye(G)}catch(J){le.error(J)}}:super._next,this._error=pe?function(G){try{pe(G)}catch(J){le.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(G){le.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},4004:(ht,xe,k)=>{k.d(xe,{U:()=>R});var l=k(4482),j=k(5403);function R(se,le){return(0,l.e)((ye,fe)=>{let pe=0;ye.subscribe((0,j.x)(fe,_e=>{fe.next(se.call(le,_e,pe++))}))})}},8189:(ht,xe,k)=>{k.d(xe,{J:()=>R});var l=k(5577),j=k(4671);function R(se=1/0){return(0,l.z)(j.y,se)}},5577:(ht,xe,k)=>{k.d(xe,{z:()=>pe});var l=k(4004),j=k(8421),R=k(4482),se=k(9672),le=k(5403),fe=k(576);function pe(_e,Z,G=1/0){return(0,fe.m)(Z)?pe((J,je)=>(0,l.U)((Re,Te)=>Z(J,Re,je,Te))((0,j.Xf)(_e(J,je))),G):("number"==typeof Z&&(G=Z),(0,R.e)((J,je)=>function ye(_e,Z,G,J,je,Re,Te,it){const Ee=[];let me=0,tt=0,Xe=!1;const ke=()=>{Xe&&!Ee.length&&!me&&Z.complete()},Oe=Ge=>me<J?Ie(Ge):Ee.push(Ge),Ie=Ge=>{Re&&Z.next(Ge),me++;let re=!1;(0,j.Xf)(G(Ge,tt++)).subscribe((0,le.x)(Z,he=>{je?.(he),Re?Oe(he):Z.next(he)},()=>{re=!0},void 0,()=>{if(re)try{for(me--;Ee.length&&me<J;){const he=Ee.shift();Te?(0,se.f)(Z,Te,()=>Ie(he)):Ie(he)}ke()}catch(he){Z.error(he)}}))};return _e.subscribe((0,le.x)(Z,Oe,()=>{Xe=!0,ke()})),()=>{it?.()}}(J,je,_e,G)))}},5363:(ht,xe,k)=>{k.d(xe,{Q:()=>se});var l=k(9672),j=k(4482),R=k(5403);function se(le,ye=0){return(0,j.e)((fe,pe)=>{fe.subscribe((0,R.x)(pe,_e=>(0,l.f)(pe,le,()=>pe.next(_e),ye),()=>(0,l.f)(pe,le,()=>pe.complete(),ye),_e=>(0,l.f)(pe,le,()=>pe.error(_e),ye)))})}},3099:(ht,xe,k)=>{k.d(xe,{B:()=>le});var l=k(8421),j=k(7579),R=k(2961),se=k(4482);function le(fe={}){const{connector:pe=(()=>new j.x),resetOnError:_e=!0,resetOnComplete:Z=!0,resetOnRefCountZero:G=!0}=fe;return J=>{let je,Re,Te,it=0,Ee=!1,me=!1;const tt=()=>{Re?.unsubscribe(),Re=void 0},Xe=()=>{tt(),je=Te=void 0,Ee=me=!1},ke=()=>{const Oe=je;Xe(),Oe?.unsubscribe()};return(0,se.e)((Oe,Ie)=>{it++,!me&&!Ee&&tt();const Ge=Te=Te??pe();Ie.add(()=>{it--,0===it&&!me&&!Ee&&(Re=ye(ke,G))}),Ge.subscribe(Ie),!je&&it>0&&(je=new R.Hp({next:re=>Ge.next(re),error:re=>{me=!0,tt(),Re=ye(Xe,_e,re),Ge.error(re)},complete:()=>{Ee=!0,tt(),Re=ye(Xe,Z),Ge.complete()}}),(0,l.Xf)(Oe).subscribe(je))})(J)}}function ye(fe,pe,..._e){if(!0===pe)return void fe();if(!1===pe)return;const Z=new R.Hp({next:()=>{Z.unsubscribe(),fe()}});return pe(..._e).subscribe(Z)}},9468:(ht,xe,k)=>{k.d(xe,{R:()=>j});var l=k(4482);function j(R,se=0){return(0,l.e)((le,ye)=>{ye.add(R.schedule(()=>le.subscribe(ye),se))})}},8505:(ht,xe,k)=>{k.d(xe,{b:()=>le});var l=k(576),j=k(4482),R=k(5403),se=k(4671);function le(ye,fe,pe){const _e=(0,l.m)(ye)||fe||pe?{next:ye,error:fe,complete:pe}:ye;return _e?(0,j.e)((Z,G)=>{var J;null===(J=_e.subscribe)||void 0===J||J.call(_e);let je=!0;Z.subscribe((0,R.x)(G,Re=>{var Te;null===(Te=_e.next)||void 0===Te||Te.call(_e,Re),G.next(Re)},()=>{var Re;je=!1,null===(Re=_e.complete)||void 0===Re||Re.call(_e),G.complete()},Re=>{var Te;je=!1,null===(Te=_e.error)||void 0===Te||Te.call(_e,Re),G.error(Re)},()=>{var Re,Te;je&&(null===(Re=_e.unsubscribe)||void 0===Re||Re.call(_e)),null===(Te=_e.finalize)||void 0===Te||Te.call(_e)}))}):se.y}},4408:(ht,xe,k)=>{k.d(xe,{o:()=>le});var l=k(727);class j extends l.w0{constructor(fe,pe){super()}schedule(fe,pe=0){return this}}const R={setInterval(ye,fe,...pe){const{delegate:_e}=R;return _e?.setInterval?_e.setInterval(ye,fe,...pe):setInterval(ye,fe,...pe)},clearInterval(ye){const{delegate:fe}=R;return(fe?.clearInterval||clearInterval)(ye)},delegate:void 0};var se=k(8737);class le extends j{constructor(fe,pe){super(fe,pe),this.scheduler=fe,this.work=pe,this.pending=!1}schedule(fe,pe=0){var _e;if(this.closed)return this;this.state=fe;const Z=this.id,G=this.scheduler;return null!=Z&&(this.id=this.recycleAsyncId(G,Z,pe)),this.pending=!0,this.delay=pe,this.id=null!==(_e=this.id)&&void 0!==_e?_e:this.requestAsyncId(G,this.id,pe),this}requestAsyncId(fe,pe,_e=0){return R.setInterval(fe.flush.bind(fe,this),_e)}recycleAsyncId(fe,pe,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return pe;null!=pe&&R.clearInterval(pe)}execute(fe,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(fe,pe);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,pe){let Z,_e=!1;try{this.work(fe)}catch(G){_e=!0,Z=G||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:fe,scheduler:pe}=this,{actions:_e}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(_e,this),null!=fe&&(this.id=this.recycleAsyncId(pe,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(ht,xe,k)=>{k.d(xe,{v:()=>R});var l=k(6063);class j{constructor(le,ye=j.now){this.schedulerActionCtor=le,this.now=ye}schedule(le,ye=0,fe){return new this.schedulerActionCtor(this,le).schedule(fe,ye)}}j.now=l.l.now;class R extends j{constructor(le,ye=j.now){super(le,ye),this.actions=[],this._active=!1}flush(le){const{actions:ye}=this;if(this._active)return void ye.push(le);let fe;this._active=!0;do{if(fe=le.execute(le.state,le.delay))break}while(le=ye.shift());if(this._active=!1,fe){for(;le=ye.shift();)le.unsubscribe();throw fe}}}},4986:(ht,xe,k)=>{k.d(xe,{z:()=>R});var l=k(4408);const R=new(k(7565).v)(l.o)},6063:(ht,xe,k)=>{k.d(xe,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(ht,xe,k)=>{k.d(xe,{z:()=>l});const l={setTimeout(j,R,...se){const{delegate:le}=l;return le?.setTimeout?le.setTimeout(j,R,...se):setTimeout(j,R,...se)},clearTimeout(j){const{delegate:R}=l;return(R?.clearTimeout||clearTimeout)(j)},delegate:void 0}},2202:(ht,xe,k)=>{k.d(xe,{h:()=>j});const j=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ht,xe,k)=>{k.d(xe,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ht,xe,k)=>{k.d(xe,{_6:()=>ye,jO:()=>se,yG:()=>le});var l=k(576);function R(fe){return fe[fe.length-1]}function se(fe){return(0,l.m)(R(fe))?fe.pop():void 0}function le(fe){return function j(fe){return fe&&(0,l.m)(fe.schedule)}(R(fe))?fe.pop():void 0}function ye(fe,pe){return"number"==typeof R(fe)?fe.pop():pe}},8737:(ht,xe,k)=>{function l(j,R){if(j){const se=j.indexOf(R);0<=se&&j.splice(se,1)}}k.d(xe,{P:()=>l})},3888:(ht,xe,k)=>{function l(j){const se=j(le=>{Error.call(le),le.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}k.d(xe,{d:()=>l})},2806:(ht,xe,k)=>{k.d(xe,{O:()=>se,x:()=>R});var l=k(2416);let j=null;function R(le){if(l.v.useDeprecatedSynchronousErrorHandling){const ye=!j;if(ye&&(j={errorThrown:!1,error:null}),le(),ye){const{errorThrown:fe,error:pe}=j;if(j=null,fe)throw pe}}else le()}function se(le){l.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=le)}},9672:(ht,xe,k)=>{function l(j,R,se,le=0,ye=!1){const fe=R.schedule(function(){se(),ye?j.add(this.schedule(null,le)):this.unsubscribe()},le);if(j.add(fe),!ye)return fe}k.d(xe,{f:()=>l})},4671:(ht,xe,k)=>{function l(j){return j}k.d(xe,{y:()=>l})},1144:(ht,xe,k)=>{k.d(xe,{z:()=>l});const l=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(ht,xe,k)=>{k.d(xe,{D:()=>j});var l=k(576);function j(R){return Symbol.asyncIterator&&(0,l.m)(R?.[Symbol.asyncIterator])}},576:(ht,xe,k)=>{function l(j){return"function"==typeof j}k.d(xe,{m:()=>l})},3670:(ht,xe,k)=>{k.d(xe,{c:()=>R});var l=k(8822),j=k(576);function R(se){return(0,j.m)(se[l.L])}},6495:(ht,xe,k)=>{k.d(xe,{T:()=>R});var l=k(2202),j=k(576);function R(se){return(0,j.m)(se?.[l.h])}},8239:(ht,xe,k)=>{k.d(xe,{t:()=>j});var l=k(576);function j(R){return(0,l.m)(R?.then)}},3260:(ht,xe,k)=>{k.d(xe,{L:()=>se,Q:()=>R});var l=k(655),j=k(576);function R(le){return(0,l.FC)(this,arguments,function*(){const fe=le.getReader();try{for(;;){const{value:pe,done:_e}=yield(0,l.qq)(fe.read());if(_e)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(pe)}}finally{fe.releaseLock()}})}function se(le){return(0,j.m)(le?.getReader)}},4482:(ht,xe,k)=>{k.d(xe,{A:()=>j,e:()=>R});var l=k(576);function j(se){return(0,l.m)(se?.lift)}function R(se){return le=>{if(j(le))return le.lift(function(ye){try{return se(ye,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(ht,xe,k)=>{k.d(xe,{U:()=>R,z:()=>j});var l=k(4671);function j(...se){return R(se)}function R(se){return 0===se.length?l.y:1===se.length?se[0]:function(ye){return se.reduce((fe,pe)=>pe(fe),ye)}}},7849:(ht,xe,k)=>{k.d(xe,{h:()=>R});var l=k(2416),j=k(3410);function R(se){j.z.setTimeout(()=>{const{onUnhandledError:le}=l.v;if(!le)throw se;le(se)})}},4532:(ht,xe,k)=>{function l(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(xe,{z:()=>l})},655:(ht,xe,k)=>{function se(Q,X){var ge={};for(var oe in Q)Object.prototype.hasOwnProperty.call(Q,oe)&&X.indexOf(oe)<0&&(ge[oe]=Q[oe]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(oe=Object.getOwnPropertySymbols(Q);Ue<oe.length;Ue++)X.indexOf(oe[Ue])<0&&Object.prototype.propertyIsEnumerable.call(Q,oe[Ue])&&(ge[oe[Ue]]=Q[oe[Ue]])}return ge}function pe(Q,X,ge,oe){return new(ge||(ge=Promise))(function(Ve,_t){function ln(mn){try{qe(oe.next(mn))}catch(Dn){_t(Dn)}}function Gt(mn){try{qe(oe.throw(mn))}catch(Dn){_t(Dn)}}function qe(mn){mn.done?Ve(mn.value):function Ue(Ve){return Ve instanceof ge?Ve:new ge(function(_t){_t(Ve)})}(mn.value).then(ln,Gt)}qe((oe=oe.apply(Q,X||[])).next())})}function Ee(Q){return this instanceof Ee?(this.v=Q,this):new Ee(Q)}function me(Q,X,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,oe=ge.apply(Q,X||[]),Ve=[];return Ue={},_t("next"),_t("throw"),_t("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function _t(sn){oe[sn]&&(Ue[sn]=function(on){return new Promise(function(Yt,jt){Ve.push([sn,on,Yt,jt])>1||ln(sn,on)})})}function ln(sn,on){try{!function Gt(sn){sn.value instanceof Ee?Promise.resolve(sn.value.v).then(qe,mn):Dn(Ve[0][2],sn)}(oe[sn](on))}catch(Yt){Dn(Ve[0][3],Yt)}}function qe(sn){ln("next",sn)}function mn(sn){ln("throw",sn)}function Dn(sn,on){sn(on),Ve.shift(),Ve.length&&ln(Ve[0][0],Ve[0][1])}}function Xe(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,X=Q[Symbol.asyncIterator];return X?X.call(Q):(Q=function J(Q){var X="function"==typeof Symbol&&Symbol.iterator,ge=X&&Q[X],oe=0;if(ge)return ge.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&oe>=Q.length&&(Q=void 0),{value:Q&&Q[oe++],done:!Q}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),ge={},oe("next"),oe("throw"),oe("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function oe(Ve){ge[Ve]=Q[Ve]&&function(_t){return new Promise(function(ln,Gt){!function Ue(Ve,_t,ln,Gt){Promise.resolve(Gt).then(function(qe){Ve({value:qe,done:ln})},_t)}(ln,Gt,(_t=Q[Ve](_t)).done,_t.value)})}}}k.d(xe,{FC:()=>me,KL:()=>Xe,_T:()=>se,mG:()=>pe,qq:()=>Ee})},4650:(ht,xe,k)=>{k.d(xe,{$8M:()=>Vu,$Z:()=>fo,AFp:()=>DC,ALo:()=>qv,AaK:()=>pe,BQk:()=>ep,CHM:()=>$h,CRH:()=>iy,CZH:()=>Pc,CqO:()=>gv,D6c:()=>$S,DdM:()=>Qb,EJc:()=>m0,EiD:()=>Zu,EpF:()=>pv,F4k:()=>Li,FYo:()=>aT,FiY:()=>be,G48:()=>xS,Gf:()=>gh,GfV:()=>Fw,Gpc:()=>G,JOm:()=>aa,JVY:()=>Dg,KtG:()=>Fo,L6k:()=>Wy,LAX:()=>Yy,LFG:()=>Nn,LSH:()=>xg,Lbi:()=>ly,Lck:()=>_p,MAs:()=>hv,MGl:()=>tp,MMx:()=>Vv,NdJ:()=>Om,OlP:()=>Mn,Oqu:()=>Jd,PXZ:()=>TS,Q6J:()=>Yf,QGY:()=>Kd,QP$:()=>Ne,QbO:()=>xC,Qsj:()=>uM,R0b:()=>Hi,RDi:()=>Ig,Rgc:()=>Cp,SBq:()=>Jl,Sil:()=>yS,Suo:()=>Xv,TTD:()=>_s,TgZ:()=>pc,Tol:()=>Qd,Udp:()=>sl,X6Q:()=>A0,XFs:()=>et,Xpm:()=>De,Xts:()=>t_,Y36:()=>nu,YKP:()=>hh,YNc:()=>Wd,Yjl:()=>$,Yz7:()=>on,Z0I:()=>Ai,ZZ4:()=>L0,_Bn:()=>Hb,_UZ:()=>Mm,_Vd:()=>Ql,_c5:()=>VS,_uU:()=>de,aQg:()=>Ay,c2e:()=>gS,cJS:()=>jt,cg1:()=>ap,d8E:()=>hu,dDg:()=>ES,dqk:()=>Ot,eBb:()=>Ky,eFA:()=>RC,ekj:()=>km,eoX:()=>b0,f3M:()=>ri,g9A:()=>vh,h0i:()=>gu,hGG:()=>BS,hij:()=>Ui,iGM:()=>fl,ifc:()=>pt,ip1:()=>TC,jDz:()=>Bv,kEZ:()=>Jb,kL8:()=>jm,kYT:()=>q,lG2:()=>K,lcZ:()=>Zv,lqb:()=>oa,lri:()=>py,mCW:()=>m,n5z:()=>Cs,oAB:()=>nn,oJD:()=>Ag,oxw:()=>QE,pB0:()=>bd,q3G:()=>Un,q4F:()=>Lw,qLn:()=>Ef,qOj:()=>sv,qZA:()=>Jf,qzn:()=>Ms,rWj:()=>E0,s9C:()=>mv,sBO:()=>FC,sIi:()=>Zf,s_b:()=>ty,soG:()=>xp,tb:()=>cy,tp0:()=>gt,uIk:()=>Sm,vHH:()=>Te,vpe:()=>ma,wAp:()=>St,xi3:()=>wo,xp6:()=>fE,ynx:()=>Xf,z2F:()=>Ch,z3N:()=>us,zSh:()=>Rg,zs3:()=>ve});var l=k(7579),j=k(727),R=k(9751),se=k(6451),le=k(3099);function ye(s){for(let o in s)if(s[o]===ye)return o;throw Error("Could not find renamed property on target object.")}function fe(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function pe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(pe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function _e(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const Z=ye({__forward_ref__:ye});function G(s){return s.__forward_ref__=G,s.toString=function(){return pe(this())},s}function J(s){return je(s)?s():s}function je(s){return"function"==typeof s&&s.hasOwnProperty(Z)&&s.__forward_ref__===G}class Te extends Error{constructor(o,u){super(function it(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,u)),this.code=o}}function Ee(s){return"string"==typeof s?s:null==s?"":String(s)}function Oe(s,o){throw new Te(-201,!1)}function Gt(s,o){null==s&&function qe(s,o,u,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${u} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function on(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function jt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Mr(s){return jr(s,Hr)||jr(s,wi)}function Ai(s){return null!==Mr(s)}function jr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ki(s){return s&&(s.hasOwnProperty(Kn)||s.hasOwnProperty(Yi))?s[Kn]:null}const Hr=ye({\u0275prov:ye}),Kn=ye({\u0275inj:ye}),wi=ye({ngInjectableDef:ye}),Yi=ye({ngInjectorDef:ye});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let tr;function In(s){const o=tr;return tr=s,o}function gr(s,o,u){const c=Mr(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&et.Optional?null:void 0!==o?o:void Oe(pe(s))}function Sn(s){return{toString:s}.toString()}var An=(()=>((An=An||{})[An.OnPush=0]="OnPush",An[An.Default=1]="Default",An))(),pt=(()=>{return(s=pt||(pt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",pt;var s})();const Ot=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Or={},At=[],zr=ye({\u0275cmp:ye}),Vt=ye({\u0275dir:ye}),ai=ye({\u0275pipe:ye}),en=ye({\u0275mod:ye}),cr=ye({\u0275fac:ye}),On=ye({__NG_ELEMENT_ID__:ye});let nt=0;function De(s){return Sn(()=>{const u=!0===s.standalone,c={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===An.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||At,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||pt.Emulated,id:"c"+nt++,styles:s.styles||At,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,_=s.features;return h.inputs=H(s.inputs,c),h.outputs=H(s.outputs),_&&_.forEach(E=>E(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(bt).filter(It):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(ne).filter(It):null,h})}function bt(s){return O(s)||U(s)}function It(s){return null!==s}function nn(s){return Sn(()=>({type:s.type,bootstrap:s.bootstrap||At,declarations:s.declarations||At,imports:s.imports||At,exports:s.exports||At,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function q(s,o){return Sn(()=>{const u=ot(s,!0);u.declarations=o.declarations||At,u.imports=o.imports||At,u.exports=o.exports||At})}function H(s,o){if(null==s)return Or;const u={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),u[h]=c,o&&(o[h]=p)}return u}const K=De;function $(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function O(s){return s[zr]||null}function U(s){return s[Vt]||null}function ne(s){return s[ai]||null}function Ne(s){const o=O(s)||U(s)||ne(s);return null!==o&&o.standalone}function ot(s,o){const u=s[en]||null;if(!u&&!0===o)throw new Error(`Type ${pe(s)} does not have '\u0275mod' property.`);return u}function rr(s){return Array.isArray(s)&&"object"==typeof s[1]}function li(s){return Array.isArray(s)&&!0===s[1]}function Ao(s){return 0!=(8&s.flags)}function Dl(s){return 2==(2&s.flags)}function Sa(s){return 1==(1&s.flags)}function ei(s){return null!==s.template}function Sl(s){return 0!=(256&s[2])}function Ir(s,o){return s.hasOwnProperty(cr)?s[cr]:null}class Po{constructor(o,u,c){this.previousValue=o,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function _s(){return Ma}function Ma(s){return s.type.prototype.ngOnChanges&&(s.setInput=Al),Au}function Au(){const s=Ro(this),o=s?.current;if(o){const u=s.previous;if(u===Or)s.previous=o;else for(let c in o)u[c]=o[c];s.current=null,this.ngOnChanges(o)}}function Al(s,o,u,c){const h=Ro(s)||function Vh(s,o){return s[Yc]=o}(s,{previous:Or,current:null}),p=h.current||(h.current={}),_=h.previous,E=this.declaredInputs[u],C=_[E];p[E]=new Po(C&&C.currentValue,o,_===Or),s[c]=o}_s.ngInherit=!0;const Yc="__ngSimpleChanges__";function Ro(s){return s[Yc]||null}function jn(s){for(;Array.isArray(s);)s=s[0];return s}function bi(s,o){return jn(o[s])}function Tr(s,o){return jn(o[s.index])}function Ws(s,o){return s.data[o]}function xi(s,o){return s[o]}function cn(s,o){const u=o[s];return rr(u)?u:u[0]}function vs(s){return 64==(64&s[2])}function hi(s,o){return null==o?null:s[o]}function Oa(s){s[18]=0}function Hn(s,o){s[5]+=o;let u=s,c=s[3];for(;null!==c&&(1===o&&1===u[5]||-1===o&&0===u[5]);)c[5]+=o,u=c,c=c[3]}const Ft={lFrame:$a(null),bindingsEnabled:!0};function Ks(){return Ft.bindingsEnabled}function Me(){return Ft.lFrame.lView}function Jt(){return Ft.lFrame.tView}function $h(s){return Ft.lFrame.contextLView=s,s[8]}function Fo(s){return Ft.lFrame.contextLView=null,s}function ir(){let s=Lo();for(;null!==s&&64===s.type;)s=s.parent;return s}function Lo(){return Ft.lFrame.currentTNode}function Gr(s,o){const u=Ft.lFrame;u.currentTNode=s,u.isParent=o}function Ou(){return Ft.lFrame.isParent}function Uo(){Ft.lFrame.isParent=!1}function sr(){const s=Ft.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Ua(){return Ft.lFrame.bindingIndex++}function ns(s){const o=Ft.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function ed(s,o){const u=Ft.lFrame;u.bindingIndex=u.bindingRootIndex=s,Vo(o)}function Vo(s){Ft.lFrame.currentDirectiveIndex=s}function Rl(s){const o=Ft.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Va(){return Ft.lFrame.currentQueryIndex}function Nl(s){Ft.lFrame.currentQueryIndex=s}function Ba(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function td(s,o,u){if(u&et.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||u&et.Host||(h=Ba(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const c=Ft.lFrame=zh();return c.currentTNode=o,c.lView=s,!0}function Bo(s){const o=zh(),u=s[1];Ft.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function zh(){const s=Ft.lFrame,o=null===s?null:s.child;return null===o?$a(s):o}function $a(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Gh(){const s=Ft.lFrame;return Ft.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const nd=Gh;function ws(){const s=Gh();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Fn(){return Ft.lFrame.selectedIndex}function rs(s){Ft.lFrame.selectedIndex=s}function Ln(){const s=Ft.lFrame;return Ws(s.tView,s.selectedIndex)}function Pu(s,o){for(let u=o.directiveStart,c=o.directiveEnd;u<c;u++){const p=s.data[u].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:S,ngOnDestroy:P}=p;_&&(s.contentHooks||(s.contentHooks=[])).push(-u,_),E&&((s.contentHooks||(s.contentHooks=[])).push(u,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,E)),C&&(s.viewHooks||(s.viewHooks=[])).push(-u,C),S&&((s.viewHooks||(s.viewHooks=[])).push(u,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,S)),null!=P&&(s.destroyHooks||(s.destroyHooks=[])).push(u,P)}}function $o(s,o,u){Ho(s,o,3,u)}function jo(s,o,u,c){(3&s[2])===u&&Ho(s,o,u,c)}function sd(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function Ho(s,o,u,c){const p=c??-1,_=o.length-1;let E=0;for(let C=void 0!==c?65535&s[18]:0;C<_;C++)if("number"==typeof o[C+1]){if(E=o[C],null!=c&&E>=c)break}else o[C]<0&&(s[18]+=65536),(E<p||-1==p)&&(od(s,u,o,C),s[18]=(4294901760&s[18])+C+2),C++}function od(s,o,u,c){const h=u[c]<0,p=u[c+1],E=s[h?-u[c]:u[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(E)}finally{}}}else try{p.call(E)}finally{}}class fi{constructor(o,u,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function is(s,o,u){let c=0;for(;c<u.length;){const h=u[c];if("number"==typeof h){if(0!==h)break;c++;const p=u[c++],_=u[c++],E=u[c++];s.setAttribute(o,_,E,p)}else{const p=h,_=u[++c];Bl(p)?s.setProperty(o,p,_):s.setAttribute(o,p,_),c++}}return c}function Ha(s){return 3===s||4===s||6===s}function Bl(s){return 64===s.charCodeAt(0)}function za(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?u=h:0===u||ud(s,u,h,null,-1===u||2===u?o[++c]:null)}}return s}function ud(s,o,u,c,h){let p=0,_=s.length;if(-1===o)_=-1;else for(;p<s.length;){const E=s[p++];if("number"==typeof E){if(E===o){_=-1;break}if(E>o){_=p-1;break}}}for(;p<s.length;){const E=s[p];if("number"==typeof E)break;if(E===u){if(null===c)return void(null!==h&&(s[p+1]=h));if(c===s[p+1])return void(s[p+2]=h)}p++,null!==c&&p++,null!==h&&p++}-1!==_&&(s.splice(_,0,o),p=_+1),s.splice(p++,0,u),null!==c&&s.splice(p++,0,c),null!==h&&s.splice(p++,0,h)}function Wh(s){return-1!==s}function or(s){return 32767&s}function bs(s,o){let u=function Kh(s){return s>>16}(s),c=o;for(;u>0;)c=c[15],u--;return c}let $l=!0;function Ga(s){const o=$l;return $l=s,o}let ld=0;const ni={};function ss(s,o){const u=Fu(s,o);if(-1!==u)return u;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,jl(c.data,s),jl(o,null),jl(c.blueprint,null));const h=qa(s,o),p=s.injectorIndex;if(Wh(h)){const _=or(h),E=bs(h,o),C=E[1].data;for(let S=0;S<8;S++)o[p+S]=E[_+S]|C[_+S]}return o[p+8]=h,p}function jl(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Fu(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function qa(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,c=null,h=o;for(;null!==h;){if(c=Yo(h),null===c)return-1;if(u++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return-1}function Qs(s,o,u){!function cd(s,o,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(On)&&(c=u[On]),null==c&&(c=u[On]=ld++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,u)}function Go(s,o,u){if(u&et.Optional||void 0!==s)return s;Oe()}function Js(s,o,u,c){if(u&et.Optional&&void 0===c&&(c=null),0==(u&(et.Self|et.Host))){const h=s[9],p=In(void 0);try{return h?h.get(o,c,u&et.Optional):gr(o,c,u&et.Optional)}finally{In(p)}}return Go(c,0,u)}function qo(s,o,u,c=et.Default,h){if(null!==s){if(1024&o[2]){const _=function Jh(s,o,u,c,h){let p=s,_=o;for(;null!==p&&null!==_&&1024&_[2]&&!(256&_[2]);){const E=dd(p,_,u,c|et.Self,ni);if(E!==ni)return E;let C=p.parent;if(!C){const S=_[21];if(S){const P=S.get(u,ni,c);if(P!==ni)return P}C=Yo(_),_=_[15]}p=C}return h}(s,o,u,c,ni);if(_!==ni)return _}const p=dd(s,o,u,c,ni);if(p!==ni)return p}return Js(o,u,c,h)}function dd(s,o,u,c,h){const p=function Qh(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(On)?s[On]:void 0;return"number"==typeof o?o>=0?255&o:Hl:o}(u);if("function"==typeof p){if(!td(o,s,c))return c&et.Host?Go(h,0,c):Js(o,u,c,h);try{const _=p(c);if(null!=_||c&et.Optional)return _;Oe()}finally{nd()}}else if("number"==typeof p){let _=null,E=Fu(s,o),C=-1,S=c&et.Host?o[16][6]:null;for((-1===E||c&et.SkipSelf)&&(C=-1===E?qa(s,o):o[E+8],-1!==C&&Uu(c,!1)?(_=o[1],E=or(C),o=bs(C,o)):E=-1);-1!==E;){const P=o[1];if(Zo(p,E,P.data)){const L=Lu(E,o,u,_,c,S);if(L!==ni)return L}C=o[E+8],-1!==C&&Uu(c,o[1].data[E+8]===S)&&Zo(p,E,o)?(_=P,E=or(C),o=bs(C,o)):E=-1}}return h}function Lu(s,o,u,c,h,p){const _=o[1],E=_.data[s+8],P=Wa(E,_,u,null==c?Dl(E)&&$l:c!=_&&0!=(3&E.type),h&et.Host&&p===E);return null!==P?Oi(o,_,P,E):ni}function Wa(s,o,u,c,h){const p=s.providerIndexes,_=o.data,E=1048575&p,C=s.directiveStart,P=p>>20,W=h?E+P:s.directiveEnd;for(let ee=c?E:E+P;ee<W;ee++){const Ce=_[ee];if(ee<C&&u===Ce||ee>=C&&Ce.type===u)return ee}if(h){const ee=_[C];if(ee&&ei(ee)&&ee.type===u)return C}return null}function Oi(s,o,u,c){let h=s[u];const p=o.data;if(function Vl(s){return s instanceof fi}(h)){const _=h;_.resolving&&function tt(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Te(-200,`Circular dependency in DI detected for ${s}${u}`)}(function me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ee(s)}(p[u]));const E=Ga(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?In(_.injectImpl):null;td(s,c,et.Default);try{h=s[u]=_.factory(void 0,p,s,c),o.firstCreatePass&&u>=c.directiveStart&&function Ul(s,o,u){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(c){const _=Ma(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,_)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,h),p&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,p),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,p))}(u,p[u],o)}finally{null!==C&&In(C),Ga(E),_.resolving=!1,nd()}}return h}function Zo(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function Uu(s,o){return!(s&et.Self||s&et.Host&&o)}class Wo{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,c){return qo(this._tNode,this._lView,o,c,u)}}function Hl(){return new Wo(ir(),Me())}function Cs(s){return Sn(()=>{const o=s.prototype.constructor,u=o[cr]||Ko(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const p=h[cr]||Ko(h);if(p&&p!==u)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Ko(s){return je(s)?()=>{const o=Ko(J(s));return o&&o()}:Ir(s)}function Yo(s){const o=s[1],u=o.type;return 2===u?o.declTNode:1===u?s[6]:null}function Vu(s){return function Za(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const c=u.length;let h=0;for(;h<c;){const p=u[h];if(Ha(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<c&&"string"==typeof u[h];)h++;else{if(p===o)return u[h+1];h+=2}}}return null}(ir(),s)}const Qo="__parameters__";function Xo(s,o,u){return Sn(()=>{const c=function zl(s){return function(...u){if(s){const c=s(...u);for(const h in c)this[h]=c[h]}}}(o);function h(...p){if(this instanceof h)return c.apply(this,p),this;const _=new h(...p);return E.annotation=_,E;function E(C,S,P){const L=C.hasOwnProperty(Qo)?C[Qo]:Object.defineProperty(C,Qo,{value:[]})[Qo];for(;L.length<=P;)L.push(null);return(L[P]=L[P]||[]).push(_),C}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Mn{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=on({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Tn(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let c=s[u];Array.isArray(c)?(o===s&&(o=s.slice(0,u)),Tn(c,o)):o!==s&&o.push(c)}return o}function as(s,o){s.forEach(u=>Array.isArray(u)?as(u,o):o(u))}function eo(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function _r(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function ut(s,o,u){let c=Ri(s,o);return c>=0?s[1|c]=u:(c=~c,function tf(s,o,u,c){let h=s.length;if(h==o)s.push(u,c);else if(1===h)s.push(c,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=u,s[o+1]=c}}(s,c,o,u)),c}function Gl(s,o){const u=Ri(s,o);if(u>=0)return s[1|u]}function Ri(s,o){return function Ka(s,o,u){let c=0,h=s.length>>u;for(;h!==c;){const p=c+(h-c>>1),_=s[p<<u];if(o===_)return p<<u;_>o?h=p:c=p+1}return~(h<<u)}(s,o,1)}const Ii={},Hu="__NG_DI_FLAG__",Ds="ngTempTokenPath",Rr=/\n/gm,Rn="__source";let Ss;function io(s){const o=Ss;return Ss=s,o}function qn(s,o=et.Default){if(void 0===Ss)throw new Te(-203,!1);return null===Ss?gr(s,void 0,o):Ss.get(s,o&et.Optional?null:void 0,o)}function Nn(s,o=et.Default){return(function Yn(){return tr}()||qn)(J(s),o)}function ri(s,o=et.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Nn(s,o)}function I(s){const o=[];for(let u=0;u<s.length;u++){const c=J(s[u]);if(Array.isArray(c)){if(0===c.length)throw new Te(900,!1);let h,p=et.Default;for(let _=0;_<c.length;_++){const E=c[_],C=M(E);"number"==typeof C?-1===C?h=E.token:p|=C:h=E}o.push(Nn(h,p))}else o.push(Nn(c))}return o}function D(s,o){return s[Hu]=o,s.prototype[Hu]=o,s}function M(s){return s[Hu]}const be=D(Xo("Optional"),8),gt=D(Xo("SkipSelf"),4);let uf,ql,wd;function Ig(s){uf=s}function lo(s){return function vd(){if(void 0===ql&&(ql=null,Ot.trustedTypes))try{ql=Ot.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return ql}()?.createHTML(s)||s}function Tg(s){return function co(){if(void 0===wd&&(wd=null,Ot.trustedTypes))try{wd=Ot.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return wd}()?.createHTML(s)||s}class Xa{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class qu extends Xa{getTypeName(){return"HTML"}}class Wl extends Xa{getTypeName(){return"Style"}}class cf extends Xa{getTypeName(){return"Script"}}class Ed extends Xa{getTypeName(){return"URL"}}class df extends Xa{getTypeName(){return"ResourceURL"}}function us(s){return s instanceof Xa?s.changingThisBreaksApplicationSecurity:s}function Ms(s,o){const u=function hf(s){return s instanceof Xa&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}function Dg(s){return new qu(s)}function Wy(s){return new Wl(s)}function Ky(s){return new cf(s)}function Yy(s){return new Ed(s)}function bd(s){return new df(s)}class Qy{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(lo(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch{return null}}}class Jy{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const c=this.inertDocument.createElement("body");u.appendChild(c)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=lo(o),u;const c=this.inertDocument.createElement("body");return c.innerHTML=lo(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const u=o.attributes;for(let h=u.length-1;0<h;h--){const _=u.item(h).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const g=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function m(s){return(s=String(s)).match(g)?s:"unsafe:"+s}function b(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function x(...s){const o={};for(const u of s)for(const c in u)u.hasOwnProperty(c)&&(o[c]=!0);return o}const N=b("area,br,col,hr,img,wbr"),te=b("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ae=b("rp,rt"),wn=x(N,x(te,b("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),x(Ae,b("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),x(Ae,te)),qr=b("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Id=x(qr,b("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),b("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Td=b("script,style,template");class eu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,c=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?c=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,c&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!wn.hasOwnProperty(u))return this.sanitizedSomething=!0,!Td.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const c=o.attributes;for(let h=0;h<c.length;h++){const p=c.item(h),_=p.name,E=_.toLowerCase();if(!Id.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let C=p.value;qr[E]&&(C=m(C)),this.buf.push(" ",_,'="',Dd(C),'"')}return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();wn.hasOwnProperty(u)&&!N.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(Dd(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const Sg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pf=/([^\#-~ |!])/g;function Dd(s){return s.replace(/&/g,"&amp;").replace(Sg,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(pf,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Kl;function Zu(s,o){let u=null;try{Kl=Kl||function ff(s){const o=new Jy(s);return function v(){try{return!!(new window.DOMParser).parseFromString(lo(""),"text/html")}catch{return!1}}()?new Qy(o):o}(s);let c=o?String(o):"";u=Kl.getInertBodyElement(c);let h=5,p=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=p,p=u.innerHTML,u=Kl.getInertBodyElement(c)}while(c!==p);return lo((new eu).sanitizeChildren(ra(u)||u))}finally{if(u){const c=ra(u)||u;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function ra(s){return"content"in s&&function Xy(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Un=(()=>((Un=Un||{})[Un.NONE=0]="NONE",Un[Un.HTML=1]="HTML",Un[Un.STYLE=2]="STYLE",Un[Un.SCRIPT=3]="SCRIPT",Un[Un.URL=4]="URL",Un[Un.RESOURCE_URL=5]="RESOURCE_URL",Un))();function Ag(s){const o=gf();return o?Tg(o.sanitize(Un.HTML,s)||""):Ms(s,"HTML")?Tg(us(s)):Zu(function _d(){return void 0!==uf?uf:typeof document<"u"?document:void 0}(),Ee(s))}function xg(s){const o=gf();return o?o.sanitize(Un.URL,s)||"":Ms(s,"URL")?us(s):m(Ee(s))}function gf(){const s=Me();return s&&s[12]}const t_=new Mn("ENVIRONMENT_INITIALIZER"),Iw=new Mn("INJECTOR",-1),Tw=new Mn("INJECTOR_DEF_TYPES");class Dw{get(o,u=Ii){if(u===Ii){const c=new Error(`NullInjectorError: No provider for ${pe(o)}!`);throw c.name="NullInjectorError",c}return u}}function rT(...s){return{\u0275providers:Sw(0,s)}}function Sw(s,...o){const u=[],c=new Set;let h;return as(o,p=>{const _=p;Og(_,u,[],c)&&(h||(h=[]),h.push(_))}),void 0!==h&&Aw(h,u),u}function Aw(s,o){for(let u=0;u<s.length;u++){const{providers:h}=s[u];as(h,p=>{o.push(p)})}}function Og(s,o,u,c){if(!(s=J(s)))return!1;let h=null,p=Ki(s);const _=!p&&O(s);if(p||_){if(_&&!_.standalone)return!1;h=s}else{const C=s.ngModule;if(p=Ki(C),!p)return!1;h=C}const E=c.has(h);if(_){if(E)return!1;if(c.add(h),_.dependencies){const C="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const S of C)Og(S,o,u,c)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let S;c.add(h);try{as(p.imports,P=>{Og(P,o,u,c)&&(S||(S=[]),S.push(P))})}finally{}void 0!==S&&Aw(S,o)}if(!E){const S=Ir(h)||(()=>new h);o.push({provide:h,useFactory:S,deps:At},{provide:Tw,useValue:h,multi:!0},{provide:t_,useValue:()=>Nn(h),multi:!0})}const C=p.providers;null==C||E||as(C,P=>{o.push(P)})}}return h!==s&&void 0!==s.providers}const xw=ye({provide:String,useValue:ye});function mf(s){return null!==s&&"object"==typeof s&&xw in s}function Os(s){return"function"==typeof s}const Rg=new Mn("Set Injector scope."),Ng={},Wu={};let kg;function Fg(){return void 0===kg&&(kg=new Dw),kg}class oa{}class n_ extends oa{constructor(o,u,c,h){super(),this.parent=u,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ug(o,_=>this.processProvider(_)),this.records.set(Iw,Sd(void 0,this)),h.has("environment")&&this.records.set(oa,Sd(void 0,this));const p=this.records.get(Rg);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Tw.multi,At,et.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const u=io(this),c=In(void 0);try{return o()}finally{io(u),In(c)}}get(o,u=Ii,c=et.Default){this.assertNotDestroyed();const h=io(this),p=In(void 0);try{if(!(c&et.SkipSelf)){let E=this.records.get(o);if(void 0===E){const C=function sT(s){return"function"==typeof s||"object"==typeof s&&s instanceof Mn}(o)&&Mr(o);E=C&&this.injectableDefInScope(C)?Sd(yf(o),Ng):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(c&et.Self?Fg():this.parent).get(o,u=c&et.Optional&&u===Ii?null:u)}catch(_){if("NullInjectorError"===_.name){if((_[Ds]=_[Ds]||[]).unshift(pe(o)),h)throw _;return function B(s,o,u,c){const h=s[Ds];throw o[Rn]&&h.unshift(o[Rn]),s.message=function Y(s,o,u,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=pe(o);if(Array.isArray(o))h=o.map(pe).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let E=o[_];p.push(_+":"+("string"==typeof E?JSON.stringify(E):pe(E)))}h=`{${p.join(", ")}}`}return`${u}${c?"("+c+")":""}[${h}]: ${s.replace(Rr,"\n  ")}`}("\n"+s.message,h,u,c),s.ngTokenPath=h,s[Ds]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{In(p),io(h)}}resolveInjectorInitializers(){const o=io(this),u=In(void 0);try{const c=this.get(t_.multi,At,et.Self);for(const h of c)h()}finally{io(o),In(u)}}toString(){const o=[],u=this.records;for(const c of u.keys())o.push(pe(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(o){let u=Os(o=J(o))?o:J(o&&o.provide);const c=function r_(s){return mf(s)?Sd(void 0,s.useValue):Sd(Lg(s),Ng)}(o);if(Os(o)||!0!==o.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=Sd(void 0,Ng,!0),h.factory=()=>I(h.multi),this.records.set(u,h)),u=o,h.multi.push(o)}this.records.set(u,c)}hydrate(o,u){return u.value===Ng&&(u.value=Wu,u.value=u.factory()),"object"==typeof u.value&&u.value&&function iT(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=J(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function yf(s){const o=Mr(s),u=null!==o?o.factory:Ir(s);if(null!==u)return u;if(s instanceof Mn)throw new Te(204,!1);if(s instanceof Function)return function Ow(s){const o=s.length;if(o>0)throw function to(s,o){const u=[];for(let c=0;c<s;c++)u.push(o);return u}(o,"?"),new Te(204,!1);const u=function $n(s){const o=s&&(s[Hr]||s[wi]);if(o){const u=function Wi(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Te(204,!1)}function Lg(s,o,u){let c;if(Os(s)){const h=J(s);return Ir(h)||yf(h)}if(mf(s))c=()=>J(s.useValue);else if(function sa(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...I(s.deps||[]));else if(function Pg(s){return!(!s||!s.useExisting)}(s))c=()=>Nn(J(s.useExisting));else{const h=J(s&&(s.useClass||s.provide));if(!function _f(s){return!!s.deps}(s))return Ir(h)||yf(h);c=()=>new h(...I(s.deps))}return c}function Sd(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function i_(s){return!!s.\u0275providers}function Ug(s,o){for(const u of s)Array.isArray(u)?Ug(u,o):i_(u)?Ug(u.\u0275providers,o):o(u)}class s_{}class Bg{resolveComponentFactory(o){throw function Rw(s){const o=Error(`No component factory found for ${pe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Ql=(()=>{class s{}return s.NULL=new Bg,s})();function oT(){return Ad(ir(),Me())}function Ad(s,o){return new Jl(Tr(s,o))}let Jl=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=oT,s})();function kw(s){return s instanceof Jl?s.nativeElement:s}class aT{}let uM=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function lM(){const s=Me(),u=cn(ir().index,s);return(rr(u)?u:s)[11]}(),s})(),o_=(()=>{class s{}return s.\u0275prov=on({token:s,providedIn:"root",factory:()=>null}),s})();class Fw{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Lw=new Fw("14.2.6"),a_={};function f_(s){return s.ngOriginalError}class Ef{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&f_(o);for(;u&&f_(u);)u=f_(u);return u||null}}const p_=new Map;let pT=0;const qg="__ngContext__";function Zr(s,o){rr(o)?(s[qg]=o[20],function mT(s){p_.set(s[20],s)}(o)):s[qg]=o}function tu(s){return s instanceof Function?s():s}var aa=(()=>((aa=aa||{})[aa.Important=1]="Important",aa[aa.DashCase=2]="DashCase",aa))();function v_(s,o){return undefined(s,o)}function Rd(s){const o=s[3];return li(o)?o[3]:o}function Kg(s){return Kw(s[13])}function Yg(s){return Kw(s[4])}function Kw(s){for(;null!==s&&!li(s);)s=s[4];return s}function Nd(s,o,u,c,h){if(null!=c){let p,_=!1;li(c)?p=c:rr(c)&&(_=!0,c=c[0]);const E=jn(c);0===s&&null!==u?null==h?nE(o,u,E):ua(o,u,E,h||null,!0):1===s&&null!==u?ua(o,u,E,h||null,!0):2===s?function MT(s,o,u){const c=Xg(s,o);c&&function xT(s,o,u,c){s.removeChild(o,u,c)}(s,c,o,u)}(o,E,_):3===s&&o.destroyNode(E),null!=p&&function vM(s,o,u,c,h){const p=u[7];p!==jn(u)&&Nd(o,s,c,p,h);for(let E=10;E<u.length;E++){const C=u[E];Xl(C[1],C,s,o,c,p)}}(o,s,p,u,h)}}function Qg(s,o,u){return s.createElement(o,u)}function Xw(s,o){const u=s[9],c=u.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,Hn(h,-1)),u.splice(c,1)}function C_(s,o){if(s.length<=10)return;const u=10+o,c=s[u];if(c){const h=c[17];null!==h&&h!==s&&Xw(h,c),o>0&&(s[u-1][4]=c[4]);const p=_r(s,10+o);!function b_(s,o){Xl(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const _=p[19];null!==_&&_.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function If(s,o){if(!(128&o[2])){const u=o[11];u.destroyNode&&Xl(s,o,u,3,null,null),function yM(s){let o=s[13];if(!o)return Jg(s[1],s);for(;o;){let u=null;if(rr(o))u=o[13];else{const c=o[10];c&&(u=c)}if(!u){for(;o&&!o[4]&&o!==s;)rr(o)&&Jg(o[1],o),o=o[3];null===o&&(o=s),rr(o)&&Jg(o[1],o),u=o&&o[4]}o=u}}(o)}}function Jg(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function T_(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let c=0;c<u.length;c+=2){const h=o[u[c]];if(!(h instanceof fi)){const p=u[c+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const E=h[p[_]],C=p[_+1];try{C.call(E)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function I_(s,o){const u=s.cleanup,c=o[7];let h=-1;if(null!==u)for(let p=0;p<u.length-1;p+=2)if("string"==typeof u[p]){const _=u[p+1],E="function"==typeof _?_(o):jn(o[_]),C=c[h=u[p+2]],S=u[p+3];"boolean"==typeof S?E.removeEventListener(u[p],C,S):S>=0?c[h=S]():c[h=-S].unsubscribe(),p+=2}else{const _=c[h=u[p+1]];u[p].call(_)}if(null!==c){for(let p=h+1;p<c.length;p++)(0,c[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const u=o[17];if(null!==u&&li(o[3])){u!==o[3]&&Xw(u,o);const c=o[19];null!==c&&c.detachView(s)}!function yT(s){p_.delete(s[20])}(o)}}function eE(s,o,u){return function tE(s,o,u){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return u[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===pt.None||h===pt.Emulated)return null}return Tr(c,u)}(s,o.parent,u)}function ua(s,o,u,c,h){s.insertBefore(o,u,c,h)}function nE(s,o,u){s.appendChild(o,u)}function rE(s,o,u,c,h){null!==c?ua(s,o,u,c,h):nE(s,o,u)}function Xg(s,o){return s.parentNode(o)}let D_=function sE(s,o,u){return 40&s.type?Tr(s,u):null};function Df(s,o,u,c){const h=eE(s,c,o),p=o[11],E=function dr(s,o,u){return D_(s,o,u)}(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(u))for(let C=0;C<u.length;C++)rE(p,h,u[C],E,!1);else rE(p,h,u,E,!1)}function em(s,o){if(null!==o){const u=o.type;if(3&u)return Tr(o,s);if(4&u)return oE(-1,s[o.index]);if(8&u){const c=o.child;if(null!==c)return em(s,c);{const h=s[o.index];return li(h)?oE(-1,h):jn(h)}}if(32&u)return v_(o,s)()||jn(s[o.index]);{const c=S_(s,o);return null!==c?Array.isArray(c)?c[0]:em(Rd(s[16]),c):em(s,o.next)}}return null}function S_(s,o){return null!==o?s[16][6].projection[o.projection]:null}function oE(s,o){const u=10+s+1;if(u<o.length){const c=o[u],h=c[1].firstChild;if(null!==h)return em(c,h)}return o[7]}function A_(s,o,u,c,h,p,_){for(;null!=u;){const E=c[u.index],C=u.type;if(_&&0===o&&(E&&Zr(jn(E),c),u.flags|=4),64!=(64&u.flags))if(8&C)A_(s,o,u.child,c,h,p,!1),Nd(o,s,h,E,p);else if(32&C){const S=v_(u,c);let P;for(;P=S();)Nd(o,s,h,P,p);Nd(o,s,h,E,p)}else 16&C?Sf(s,o,c,u,h,p):Nd(o,s,h,E,p);u=_?u.projectionNext:u.next}}function Xl(s,o,u,c,h,p){A_(u,c,s.firstChild,o,h,p,!1)}function Sf(s,o,u,c,h,p){const _=u[16],C=_[6].projection[c.projection];if(Array.isArray(C))for(let S=0;S<C.length;S++)Nd(o,s,h,C[S],p);else A_(s,o,C,_[3],h,p,!0)}function ec(s,o,u){s.setAttribute(o,"style",u)}function Af(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function OT(s,o,u){let c=s.length;for(;;){const h=s.indexOf(o,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===c||s.charCodeAt(h+p)<=32)return h}u=h+1}}const x_="ng-template";function M_(s,o,u){let c=0;for(;c<s.length;){let h=s[c++];if(u&&"class"===h){if(h=s[c],-1!==OT(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function lE(s){return 4===s.type&&s.value!==x_}function RT(s,o,u){return o===(4!==s.type||u?s.value:x_)}function NT(s,o,u){let c=4;const h=s.attrs||[],p=function wM(s){for(let o=0;o<s.length;o++)if(Ha(s[o]))return o;return s.length}(h);let _=!1;for(let E=0;E<o.length;E++){const C=o[E];if("number"!=typeof C){if(!_)if(4&c){if(c=2|1&c,""!==C&&!RT(s,C,u)||""===C&&1===o.length){if(Rs(c))return!1;_=!0}}else{const S=8&c?C:o[++E];if(8&c&&null!==s.attrs){if(!M_(s.attrs,S,u)){if(Rs(c))return!1;_=!0}continue}const L=kT(8&c?"class":C,h,lE(s),u);if(-1===L){if(Rs(c))return!1;_=!0;continue}if(""!==S){let W;W=L>p?"":h[L+1].toLowerCase();const ee=8&c?W:null;if(ee&&-1!==OT(ee,S,0)||2&c&&S!==W){if(Rs(c))return!1;_=!0}}}}else{if(!_&&!Rs(c)&&!Rs(C))return!1;if(_&&Rs(C))continue;_=!1,c=C|1&c}}return Rs(c)||_}function Rs(s){return 0==(1&s)}function kT(s,o,u,c){if(null===o)return-1;let h=0;if(c||!u){let p=!1;for(;h<o.length;){const _=o[h];if(_===s)return h;if(3===_||6===_)p=!0;else{if(1===_||2===_){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=p?1:2}return-1}return function cE(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const c=s[u];if("number"==typeof c)return-1;if(c===o)return u;u++}return-1}(o,s)}function FT(s,o,u=!1){for(let c=0;c<o.length;c++)if(NT(s,o[c],u))return!0;return!1}function dE(s,o){return s?":not("+o.trim()+")":o}function hE(s){let o=s[0],u=1,c=2,h="",p=!1;for(;u<s.length;){let _=s[u];if("string"==typeof _)if(2&c){const E=s[++u];h+="["+_+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?h+="."+_:4&c&&(h+=" "+_);else""!==h&&!Rs(_)&&(o+=dE(p,h),h=""),c=_,p=p||!Rs(c);u++}return""!==h&&(o+=dE(p,h)),o}const qt={};function fE(s){pE(Jt(),Me(),Fn()+s,!1)}function pE(s,o,u,c){if(!c)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&$o(o,p,u)}else{const p=s.preOrderHooks;null!==p&&jo(o,p,0,u)}rs(u)}function HT(s,o=null,u=null,c){const h=R_(s,o,u,c);return h.resolveInjectorInitializers(),h}function R_(s,o=null,u=null,c,h=new Set){const p=[u||At,rT(s)];return c=c||("object"==typeof s?void 0:pe(s)),new n_(p,o||Fg(),c||null,h)}let ve=(()=>{class s{static create(u,c){if(Array.isArray(u))return HT({name:""},c,u,"");{const h=u.name??"";return HT({name:h},u.parent,u.providers,h)}}}return s.THROW_IF_NOT_FOUND=Ii,s.NULL=new Dw,s.\u0275prov=on({token:s,providedIn:"any",factory:()=>Nn(Iw)}),s.__NG_ELEMENT_ID__=-1,s})();function nu(s,o=et.Default){const u=Me();return null===u?Nn(s,o):qo(ir(),u,J(s),o)}function fo(){throw new Error("invalid")}function lm(s,o){return s<<17|o<<2}function po(s){return s>>17&32767}function xf(s){return 2|s}function da(s){return(131068&s)>>2}function L_(s,o){return-131069&s|o<<2}function Fd(s){return 1|s}function z_(s,o){const u=s.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const h=u[c],p=u[c+1];if(-1!==p){const _=s.data[p];Nl(h),_.contentQueries(2,o[p],p)}}}function Ld(s,o,u,c,h,p,_,E,C,S,P){const L=o.blueprint.slice();return L[0]=h,L[2]=76|c,(null!==P||s&&1024&s[2])&&(L[2]|=1024),Oa(L),L[3]=L[15]=s,L[8]=u,L[10]=_||s&&s[10],L[11]=E||s&&s[11],L[12]=C||s&&s[12]||null,L[9]=S||s&&s[9]||null,L[6]=p,L[20]=function gT(){return pT++}(),L[21]=P,L[16]=2==o.type?s[16]:L,L}function nc(s,o,u,c,h){let p=s.data[o];if(null===p)p=function q_(s,o,u,c,h){const p=Lo(),_=Ou(),C=s.data[o]=function aD(s,o,u,c,h,p){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,u,o,c,h);return null===s.firstChild&&(s.firstChild=C),null!==p&&(_?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}(s,o,u,c,h),function Xc(){return Ft.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=u,p.value=c,p.attrs=h;const _=function Mu(){const s=Ft.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return Gr(p,!0),p}function ru(s,o,u,c){if(0===u)return-1;const h=o.length;for(let p=0;p<u;p++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function Uf(s,o,u){Bo(o);try{const c=s.viewQuery;null!==c&&rv(1,c,u);const h=s.template;null!==h&&Z_(s,o,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&z_(s,o),s.staticViewQueries&&rv(2,s.viewQuery,u);const p=s.components;null!==p&&function sD(s,o){for(let u=0;u<o.length;u++)FE(s,o[u])}(o,p)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,ws()}}function Ud(s,o,u,c){const h=o[2];if(128!=(128&h)){Bo(o);try{Oa(o),function La(s){return Ft.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&Z_(s,o,u,2,c);const _=3==(3&h);if(_){const S=s.preOrderCheckHooks;null!==S&&$o(o,S,null)}else{const S=s.preOrderHooks;null!==S&&jo(o,S,0,null),sd(o,0)}if(function kE(s){for(let o=Kg(s);null!==o;o=Yg(o)){if(!o[2])continue;const u=o[9];for(let c=0;c<u.length;c++){const h=u[c],p=h[3];0==(512&h[2])&&Hn(p,1),h[2]|=512}}}(o),function NE(s){for(let o=Kg(s);null!==o;o=Yg(o))for(let u=10;u<o.length;u++){const c=o[u],h=c[1];vs(c)&&Ud(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&z_(s,o),_){const S=s.contentCheckHooks;null!==S&&$o(o,S)}else{const S=s.contentHooks;null!==S&&jo(o,S,1),sd(o,1)}!function iD(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const h=u[c];if(h<0)rs(~h);else{const p=h,_=u[++c],E=u[++c];ed(_,p),E(2,o[p])}}}finally{rs(-1)}}(s,o);const E=s.components;null!==E&&function G_(s,o){for(let u=0;u<o.length;u++)lD(s,o[u])}(o,E);const C=s.viewQuery;if(null!==C&&rv(2,C,c),_){const S=s.viewCheckHooks;null!==S&&$o(o,S)}else{const S=s.viewHooks;null!==S&&jo(o,S,2),sd(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Hn(o[3],-1))}finally{ws()}}}function Z_(s,o,u,c,h){const p=Fn(),_=2&c;try{rs(-1),_&&o.length>22&&pE(s,o,22,!1),u(c,h)}finally{rs(p)}}function AE(s,o,u){if(Ao(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const _=s.data[p];_.contentQueries&&_.contentQueries(1,u[p],p)}}}function rc(s,o,u){!Ks()||(function OE(s,o,u,c){const h=u.directiveStart,p=u.directiveEnd;s.firstCreatePass||ss(u,o),Zr(c,o);const _=u.initialInputs;for(let E=h;E<p;E++){const C=s.data[E],S=ei(C);S&&$f(o,u,C);const P=Oi(o,s,E,u);Zr(P,o),null!==_&&tv(0,E-h,P,C,0,_),S&&(cn(u.index,o)[8]=P)}}(s,o,u,Tr(u,o)),128==(128&u.flags)&&function Y_(s,o,u){const c=u.directiveStart,h=u.directiveEnd,p=u.index,_=function Hh(){return Ft.lFrame.currentDirectiveIndex}();try{rs(p);for(let E=c;E<h;E++){const C=s.data[E],S=o[E];Vo(E),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Q_(C,S)}}finally{rs(-1),Vo(_)}}(s,o,u))}function gm(s,o,u=Tr){const c=o.localNames;if(null!==c){let h=o.index+1;for(let p=0;p<c.length;p+=2){const _=c[p+1],E=-1===_?u(o,s):s[_];s[h++]=E}}}function W_(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=mm(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function mm(s,o,u,c,h,p,_,E,C,S){const P=22+c,L=P+h,W=function ym(s,o){const u=[];for(let c=0;c<o;c++)u.push(c<s?null:qt);return u}(P,L),ee="function"==typeof S?S():S;return W[1]={type:s,blueprint:W,template:u,queries:null,viewQuery:E,declTNode:o,data:W.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:C,consts:ee,incompleteFirstPass:!1}}function ic(s,o,u,c){const h=iv(o);null===u?h.push(c):(h.push(u),s.firstCreatePass&&LE(s).push(c,h.length-1))}function xE(s,o,u){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(u=null===u?{}:u).hasOwnProperty(c)?u[c].push(o,h):u[c]=[o,h]}return u}function el(s,o){const c=o.directiveEnd,h=s.data,p=o.attrs,_=[];let E=null,C=null;for(let S=o.directiveStart;S<c;S++){const P=h[S],L=P.inputs,W=null===p||lE(o)?null:Em(L,p);_.push(W),E=xE(L,S,E),C=xE(P.outputs,S,C)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=E,o.outputs=C}function mi(s,o,u,c,h,p,_,E){const C=Tr(o,u);let P,S=o.inputs;!E&&null!=S&&(P=S[c])?(jd(s,u,P,c,h),Dl(o)&&K_(u,o.index)):3&o.type&&(c=function ME(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=_?_(h,o.value||"",c):h,p.setProperty(C,c,h))}function K_(s,o){const u=cn(o,s);16&u[2]||(u[2]|=32)}function _m(s,o,u,c){let h=!1;if(Ks()){const p=function PE(s,o,u){const c=s.directiveRegistry;let h=null;if(c)for(let p=0;p<c.length;p++){const _=c[p];FT(u,_.selectors,!1)&&(h||(h=[]),Qs(ss(u,o),s,_.type),ei(_)?(Bd(s,u),h.unshift(_)):h.push(_))}return h}(s,o,u),_=null===c?null:{"":-1};if(null!==p){h=!0,wm(u,s.data.length,p.length);for(let P=0;P<p.length;P++){const L=p[P];L.providersResolver&&L.providersResolver(L)}let E=!1,C=!1,S=ru(s,o,p.length,null);for(let P=0;P<p.length;P++){const L=p[P];u.mergedAttrs=za(u.mergedAttrs,L.hostAttrs),Bf(s,u,o,S,L),X_(S,L,_),null!==L.contentQueries&&(u.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(u.flags|=128);const W=L.type.prototype;!E&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),E=!0),!C&&(W.ngOnChanges||W.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),C=!0),S++}el(s,u)}_&&function J_(s,o,u){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=u[o[h+1]];if(null==p)throw new Te(-301,!1);c.push(o[h],p)}}}(u,c,_)}return u.mergedAttrs=za(u.mergedAttrs,u.attrs),h}function Vd(s,o,u,c,h,p){const _=p.hostBindings;if(_){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const C=~o.index;(function vm(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(E)!=C&&E.push(C),E.push(c,h,_)}}function Q_(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Bd(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function X_(s,o,u){if(u){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)u[o.exportAs[c]]=s;ei(o)&&(u[""]=s)}}function wm(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function Bf(s,o,u,c,h){s.data[c]=h;const p=h.factory||(h.factory=Ir(h.type)),_=new fi(p,ei(h),nu);s.blueprint[c]=_,u[c]=_,Vd(s,o,0,c,ru(s,u,h.hostVars,qt),h)}function $f(s,o,u){const c=Tr(o,s),h=W_(u),p=s[10],_=tl(s,Ld(s,h,null,u.onPush?32:16,c,o,p,p.createRenderer(c,u),null,null,null));s[o.index]=_}function go(s,o,u,c,h,p){const _=Tr(s,o);!function ev(s,o,u,c,h,p,_){if(null==p)s.removeAttribute(o,h,u);else{const E=null==_?Ee(p):_(p,c||"",h);s.setAttribute(o,h,E,u)}}(o[11],_,p,s.value,u,c,h)}function tv(s,o,u,c,h,p){const _=p[o];if(null!==_){const E=c.setInput;for(let C=0;C<_.length;){const S=_[C++],P=_[C++],L=_[C++];null!==E?c.setInput(u,L,S,P):u[P]=L}}}function Em(s,o){let u=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return u}function nv(s,o,u,c){return new Array(s,!0,!1,o,null,0,c,u,null,null)}function lD(s,o){const u=cn(o,s);if(vs(u)){const c=u[1];48&u[2]?Ud(c,u,c.template,u[8]):u[5]>0&&sc(u)}}function sc(s){for(let c=Kg(s);null!==c;c=Yg(c))for(let h=10;h<c.length;h++){const p=c[h];if(vs(p))if(512&p[2]){const _=p[1];Ud(_,p,_.template,p[8])}else p[5]>0&&sc(p)}const u=s[1].components;if(null!==u)for(let c=0;c<u.length;c++){const h=cn(u[c],s);vs(h)&&h[5]>0&&sc(h)}}function FE(s,o){const u=cn(o,s),c=u[1];(function bm(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(c,u),Uf(c,u,u[8])}function tl(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function iu(s){for(;s;){s[2]|=32;const o=Rd(s);if(Sl(s)&&!o)return s;s=o}return null}function $d(s,o,u,c=!0){const h=o[10];h.begin&&h.begin();try{Ud(s,o,s.template,u)}catch(_){throw c&&fa(o,_),_}finally{h.end&&h.end()}}function rv(s,o,u){Nl(0),o(s,u)}function iv(s){return s[7]||(s[7]=[])}function LE(s){return s.cleanup||(s.cleanup=[])}function fa(s,o){const u=s[9],c=u?u.get(Ef,null):null;c&&c.handleError(o)}function jd(s,o,u,c,h){for(let p=0;p<u.length;){const _=u[p++],E=u[p++],C=o[_],S=s.data[_];null!==S.setInput?S.setInput(C,h,c,E):C[E]=h}}function jf(s,o,u){let c=u?s.styles:null,h=u?s.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const E=o[_];"number"==typeof E?p=E:1==p?h=_e(h,E):2==p&&(c=_e(c,E+": "+o[++_]+";"))}u?s.styles=c:s.stylesWithoutHost=c,u?s.classes=h:s.classesWithoutHost=h}function Vn(s,o,u,c,h=!1){for(;null!==u;){const p=o[u.index];if(null!==p&&c.push(jn(p)),li(p))for(let E=10;E<p.length;E++){const C=p[E],S=C[1].firstChild;null!==S&&Vn(C[1],C,S,c)}const _=u.type;if(8&_)Vn(s,o,u.child,c);else if(32&_){const E=v_(u,o);let C;for(;C=E();)c.push(C)}else if(16&_){const E=S_(o,u);if(Array.isArray(E))c.push(...E);else{const C=Rd(o[16]);Vn(C[1],C,E,c,!0)}}u=h?u.projectionNext:u.next}return c}class rl{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return Vn(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(li(o)){const u=o[8],c=u?u.indexOf(this):-1;c>-1&&(C_(o,c),_r(u,c))}this._attachedToViewContainer=!1}If(this._lView[1],this._lView)}onDestroy(o){ic(this._lView[1],this._lView,null,o)}markForCheck(){iu(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){$d(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Jw(s,o){Xl(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=o}}class Hf extends rl{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;$d(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class oc extends Ql{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=O(o);return new zf(u,this.ngModule)}}function UE(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class dD{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,c){const h=this.injector.get(o,a_,c);return h!==a_||u===a_?h:this.parentInjector.get(o,u,c)}}class zf extends s_{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function UT(s){return s.map(hE).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return UE(this.componentDef.inputs)}get outputs(){return UE(this.componentDef.outputs)}create(o,u,c,h){let p=(h=h||this.ngModule)instanceof oa?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new dD(o,p):o,E=_.get(aT,null);if(null===E)throw new Te(407,!1);const C=_.get(o_,null),S=E.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",L=c?function oD(s,o,u){return s.selectRootElement(o,u===pt.ShadowDom)}(S,c,this.componentDef.encapsulation):Qg(E.createRenderer(null,this.componentDef),P,function VE(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(P)),W=this.componentDef.onPush?288:272,ee=mm(0,null,null,1,0,null,null,null,null,null),Ce=Ld(null,ee,null,W,null,null,E,S,C,_,null);let He,Ze;Bo(Ce);try{const dt=function BE(s,o,u,c,h,p){const _=u[1];u[22]=s;const C=nc(_,22,2,"#host",null),S=C.mergedAttrs=o.hostAttrs;null!==S&&(jf(C,S,!0),null!==s&&(is(h,s,S),null!==C.classes&&Af(h,s,C.classes),null!==C.styles&&ec(h,s,C.styles)));const P=c.createRenderer(s,o),L=Ld(u,W_(o),null,o.onPush?32:16,u[22],C,c,P,p||null,null,null);return _.firstCreatePass&&(Qs(ss(C,u),_,o.type),Bd(_,C),wm(C,u.length,1)),tl(u,L),u[22]=L}(L,this.componentDef,Ce,E,S);if(L)if(c)is(S,L,["ng-version",Lw.full]);else{const{attrs:Dt,classes:Pe}=function VT(s){const o=[],u=[];let c=1,h=2;for(;c<s.length;){let p=s[c];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++c]):8===h&&u.push(p);else{if(!Rs(h))break;h=p}c++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);Dt&&is(S,L,Dt),Pe&&Pe.length>0&&Af(S,L,Pe.join(" "))}if(Ze=Ws(ee,22),void 0!==u){const Dt=Ze.projection=[];for(let Pe=0;Pe<this.ngContentSelectors.length;Pe++){const kt=u[Pe];Dt.push(null!=kt?Array.from(kt):null)}}He=function $E(s,o,u,c){const h=u[1],p=function Di(s,o,u){const c=ir();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Bf(s,c,o,ru(s,o,1,null),u),el(s,c));const h=Oi(o,s,c.directiveStart,c);Zr(h,o);const p=Tr(c,o);return p&&Zr(p,o),h}(h,u,o);if(s[8]=u[8]=p,null!==c)for(const E of c)E(p,o);if(o.contentQueries){const E=ir();o.contentQueries(1,p,E.directiveStart)}const _=ir();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(rs(_.index),Vd(u[1],_,0,_.directiveStart,_.directiveEnd,o),Q_(o,p)),p}(dt,this.componentDef,Ce,[jE]),Uf(ee,Ce,null)}finally{ws()}return new Gf(this.componentType,He,Ad(Ze,Ce),Ce,Ze)}}class Gf extends class Pw{}{constructor(o,u,c,h,p){super(),this.location=c,this._rootLView=h,this._tNode=p,this.instance=u,this.hostView=this.changeDetectorRef=new Hf(h),this.componentType=o}setInput(o,u){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[o])){const p=this._rootLView;jd(p[1],p,h,o,u),K_(p,this._tNode.index)}}get injector(){return new Wo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function jE(){const s=ir();Pu(Me()[1],s)}function sv(s){let o=function uc(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const c=[s];for(;o;){let h;if(ei(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Te(903,!1);h=o.\u0275dir}if(h){if(u){c.push(h);const _=s;_.inputs=Cm(s.inputs),_.declaredInputs=Cm(s.declaredInputs),_.outputs=Cm(s.outputs);const E=h.hostBindings;E&&zE(s,E);const C=h.viewQuery,S=h.contentQueries;if(C&&pD(s,C),S&&HE(s,S),fe(s.inputs,h.inputs),fe(s.declaredInputs,h.declaredInputs),fe(s.outputs,h.outputs),ei(h)&&h.data.animation){const P=s.data;P.animation=(P.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let _=0;_<p.length;_++){const E=p[_];E&&E.ngInherit&&E(s),E===sv&&(u=!1)}}o=Object.getPrototypeOf(o)}!function fD(s){let o=0,u=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=za(h.hostAttrs,u=za(u,h.hostAttrs))}}(c)}function Cm(s){return s===Or?{}:s===At?[]:s}function pD(s,o){const u=s.viewQuery;s.viewQuery=u?(c,h)=>{o(c,h),u(c,h)}:o}function HE(s,o){const u=s.contentQueries;s.contentQueries=u?(c,h,p)=>{o(c,h,p),u(c,h,p)}:o}function zE(s,o){const u=s.hostBindings;s.hostBindings=u?(c,h)=>{o(c,h),u(c,h)}:o}let qf=null;function su(){if(!qf){const s=Ot.Symbol;if(s&&s.iterator)qf=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const c=o[u];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(qf=c)}}}return qf}function Zf(s){return!!lc(s)&&(Array.isArray(s)||!(s instanceof Map)&&su()in s)}function lc(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ks(s,o,u){return s[o]=u}function Sr(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function mo(s,o,u,c){const h=Sr(s,o,u);return Sr(s,o+1,c)||h}function Sm(s,o,u,c){const h=Me();return Sr(h,Ua(),o)&&(Jt(),go(Ln(),h,s,o,u,c)),Sm}function Gd(s,o,u,c){return Sr(s,Ua(),u)?o+Ee(u)+c:qt}function Wd(s,o,u,c,h,p,_,E){const C=Me(),S=Jt(),P=s+22,L=S.firstCreatePass?function qE(s,o,u,c,h,p,_,E,C){const S=o.consts,P=nc(o,s,4,_||null,hi(S,E));_m(o,u,P,hi(S,C)),Pu(o,P);const L=P.tViews=mm(2,P,c,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,P),L.queries=o.queries.embeddedTView(P)),P}(P,S,C,o,u,c,h,p,_):S.data[P];Gr(L,!1);const W=C[11].createComment("");Df(S,C,W,L),Zr(W,C),tl(C,C[P]=nv(W,C,W,L)),Sa(L)&&rc(S,C,L),null!=_&&gm(C,L,E)}function hv(s){return xi(function Fa(){return Ft.lFrame.contextLView}(),22+s)}function Yf(s,o,u){const c=Me();return Sr(c,Ua(),o)&&mi(Jt(),Ln(),c,s,o,c[11],u,!1),Yf}function Qf(s,o,u,c,h){const _=h?"class":"style";jd(s,u,o.inputs[_],_,c)}function pc(s,o,u,c){const h=Me(),p=Jt(),_=22+s,E=h[11],C=h[_]=Qg(E,o,function Ll(){return Ft.lFrame.currentNamespace}()),S=p.firstCreatePass?function WE(s,o,u,c,h,p,_){const E=o.consts,S=nc(o,s,2,h,hi(E,p));return _m(o,u,S,hi(E,_)),null!==S.attrs&&jf(S,S.attrs,!1),null!==S.mergedAttrs&&jf(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(_,p,h,0,o,u,c):p.data[_];Gr(S,!0);const P=S.mergedAttrs;null!==P&&is(E,C,P);const L=S.classes;null!==L&&Af(E,C,L);const W=S.styles;return null!==W&&ec(E,C,W),64!=(64&S.flags)&&Df(p,h,C,S),0===function Ra(){return Ft.lFrame.elementDepthCount}()&&Zr(C,h),function Jc(){Ft.lFrame.elementDepthCount++}(),Sa(S)&&(rc(p,h,S),AE(p,S,h)),null!==c&&gm(h,S),pc}function Jf(){let s=ir();Ou()?Uo():(s=s.parent,Gr(s,!1));const o=s;!function Na(){Ft.lFrame.elementDepthCount--}();const u=Jt();return u.firstCreatePass&&(Pu(u,s),Ao(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Nu(s){return 0!=(16&s.flags)}(o)&&Qf(u,o,Me(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function ku(s){return 0!=(32&s.flags)}(o)&&Qf(u,o,Me(),o.stylesWithoutHost,!1),Jf}function Mm(s,o,u,c){return pc(s,o,u,c),Jf(),Mm}function Xf(s,o,u){const c=Me(),h=Jt(),p=s+22,_=h.firstCreatePass?function gc(s,o,u,c,h){const p=o.consts,_=hi(p,c),E=nc(o,s,8,"ng-container",_);return null!==_&&jf(E,_,!0),_m(o,u,E,hi(p,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(p,h,c,o,u):h.data[p];Gr(_,!0);const E=c[p]=c[11].createComment("");return Df(h,c,E,_),Zr(E,c),Sa(_)&&(rc(h,c,_),AE(h,_,c)),null!=u&&gm(c,_),Xf}function ep(){let s=ir();const o=Jt();return Ou()?Uo():(s=s.parent,Gr(s,!1)),o.firstCreatePass&&(Pu(o,s),Ao(s)&&o.queries.elementEnd(s)),ep}function pv(){return Me()}function Kd(s){return!!s&&"function"==typeof s.then}function Li(s){return!!s&&"function"==typeof s.subscribe}const gv=Li;function Om(s,o,u,c){const h=Me(),p=Jt(),_=ir();return function KE(s,o,u,c,h,p,_,E){const C=Sa(c),P=s.firstCreatePass&&LE(s),L=o[8],W=iv(o);let ee=!0;if(3&c.type||E){const Ze=Tr(c,o),dt=E?E(Ze):Ze,Dt=W.length,Pe=E?gn=>E(jn(gn[c.index])):c.index;let kt=null;if(!E&&C&&(kt=function yD(s,o,u,c){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const _=h[p];if(_===u&&h[p+1]===c){const E=o[7],C=h[p+2];return E.length>C?E[C]:null}"string"==typeof _&&(p+=2)}return null}(s,o,h,c.index)),null!==kt)(kt.__ngLastListenerFn__||kt).__ngNextListenerFn__=p,kt.__ngLastListenerFn__=p,ee=!1;else{p=YE(c,o,L,p,!1);const gn=u.listen(dt,h,p);W.push(p,gn),P&&P.push(h,Pe,Dt,Dt+1)}}else p=YE(c,o,L,p,!1);const Ce=c.outputs;let He;if(ee&&null!==Ce&&(He=Ce[h])){const Ze=He.length;if(Ze)for(let dt=0;dt<Ze;dt+=2){const er=o[He[dt]][He[dt+1]].subscribe(p),bu=W.length;W.push(p,er),P&&P.push(h,c.index,bu,-(bu+1))}}}(p,h,h[11],_,s,o,0,c),Om}function Pm(s,o,u,c){try{return!1!==u(c)}catch(h){return fa(s,h),!1}}function YE(s,o,u,c,h){return function p(_){if(_===Function)return c;iu(2&s.flags?cn(s.index,o):o);let C=Pm(o,0,c,_),S=p.__ngNextListenerFn__;for(;S;)C=Pm(o,0,S,_)&&C,S=S.__ngNextListenerFn__;return h&&!1===C&&(_.preventDefault(),_.returnValue=!1),C}}function QE(s=1){return function Es(s){return(Ft.lFrame.contextLView=function rd(s,o){for(;s>0;)o=o[15],s--;return o}(s,Ft.lFrame.contextLView))[8]}(s)}function mv(s,o,u){return tp(s,"",o,"",u),mv}function tp(s,o,u,c,h){const p=Me(),_=Gd(p,o,u,c);return _!==qt&&mi(Jt(),Ln(),p,s,_,p[11],h,!1),tp}function tb(s,o,u,c,h){const p=s[u+1],_=null===o;let E=c?po(p):da(p),C=!1;for(;0!==E&&(!1===C||_);){const P=s[E+1];Qe(s[E],o)&&(C=!0,s[E+1]=c?Fd(P):xf(P)),E=c?po(P):da(P)}C&&(s[u+1]=c?xf(p):Fd(p))}function Qe(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ri(s,o)>=0}const ue={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Fe(s){return s.substring(ue.key,ue.keyEnd)}function rb(s,o){const u=ue.textEnd;return u===o?-1:(o=ue.keyEnd=function ob(s,o,u){for(;o<u&&s.charCodeAt(o)>32;)o++;return o}(s,ue.key=o,u),Yd(s,o,u))}function Yd(s,o,u){for(;o<u&&s.charCodeAt(o)<=32;)o++;return o}function sl(s,o,u){return yo(s,o,u,!1),sl}function km(s,o){return yo(s,o,null,!0),km}function Qd(s){!function En(s,o,u,c){const h=Jt(),p=ns(2);h.firstUpdatePass&&np(h,null,p,c);const _=Me();if(u!==qt&&Sr(_,p,u)){const E=h.data[Fn()];if(Um(E,c)&&!Ke(h,p)){let C=c?E.classesWithoutHost:E.stylesWithoutHost;null!==C&&(u=_e(C,u||"")),Qf(h,E,_,u,c)}else!function ls(s,o,u,c,h,p,_,E){h===qt&&(h=At);let C=0,S=0,P=0<h.length?h[0]:null,L=0<p.length?p[0]:null;for(;null!==P||null!==L;){const W=C<h.length?h[C+1]:void 0,ee=S<p.length?p[S+1]:void 0;let He,Ce=null;P===L?(C+=2,S+=2,W!==ee&&(Ce=L,He=ee)):null===L||null!==P&&P<L?(C+=2,Ce=P):(S+=2,Ce=L,He=ee),null!==Ce&&Lm(s,o,u,c,Ce,He,_,E),P=C<h.length?h[C]:null,L=S<p.length?p[S]:null}}(h,E,_,_[11],_[p+1],_[p+1]=function ab(s,o,u){if(null==u||""===u)return At;const c=[],h=us(u);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(c,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(c,p,h[p]);else"string"==typeof h&&o(c,h);return c}(s,o,u),c,p)}}(ut,Kt,s,!0)}function Kt(s,o){for(let u=function nb(s){return function sb(s){ue.key=0,ue.keyEnd=0,ue.value=0,ue.valueEnd=0,ue.textEnd=s.length}(s),rb(s,Yd(s,0,ue.textEnd))}(o);u>=0;u=rb(o,u))ut(s,Fe(o),!0)}function yo(s,o,u,c){const h=Me(),p=Jt(),_=ns(2);p.firstUpdatePass&&np(p,s,_,c),o!==qt&&Sr(h,_,o)&&Lm(p,p.data[Fn()],h,h[11],s,h[_+1]=function ol(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=pe(us(s)))),s}(o,u),c,_)}function Ke(s,o){return o>=s.expandoStartIndex}function np(s,o,u,c){const h=s.data;if(null===h[u+1]){const p=h[Fn()],_=Ke(s,u);Um(p,c)&&null===o&&!_&&(o=!1),o=function _v(s,o,u,c){const h=Rl(s);let p=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(u=uu(u=vv(null,s,o,u,c),o.attrs,c),p=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==h)if(u=vv(h,s,o,u,c),null===p){let C=function _c(s,o,u){const c=u?o.classBindings:o.styleBindings;if(0!==da(c))return s[po(c)]}(s,o,c);void 0!==C&&Array.isArray(C)&&(C=vv(null,s,o,C[1],c),C=uu(C,o.attrs,c),function CD(s,o,u,c){s[po(u?o.classBindings:o.styleBindings)]=c}(s,o,c,C))}else p=function Fm(s,o,u){let c;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)c=uu(c,s[p].hostAttrs,u);return uu(c,o.attrs,u)}(s,o,c)}return void 0!==p&&(c?o.residualClasses=p:o.residualStyles=p),u}(h,p,o,c),function ct(s,o,u,c,h,p){let _=p?o.classBindings:o.styleBindings,E=po(_),C=da(_);s[c]=u;let P,S=!1;if(Array.isArray(u)){const L=u;P=L[1],(null===P||Ri(L,P)>0)&&(S=!0)}else P=u;if(h)if(0!==C){const W=po(s[E+1]);s[c+1]=lm(W,E),0!==W&&(s[W+1]=L_(s[W+1],c)),s[E+1]=function wE(s,o){return 131071&s|o<<17}(s[E+1],c)}else s[c+1]=lm(E,0),0!==E&&(s[E+1]=L_(s[E+1],c)),E=c;else s[c+1]=lm(C,0),0===E?E=c:s[C+1]=L_(s[C+1],c),C=c;S&&(s[c+1]=xf(s[c+1])),tb(s,P,c,!0),tb(s,P,c,!1),function Rt(s,o,u,c,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Ri(p,o)>=0&&(u[c+1]=Fd(u[c+1]))}(o,P,s,c,p),_=lm(E,C),p?o.classBindings=_:o.styleBindings=_}(h,p,o,u,_,c)}}function vv(s,o,u,c,h){let p=null;const _=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<_&&(p=o[E],c=uu(c,p.hostAttrs,h),p!==s);)E++;return null!==s&&(u.directiveStylingLast=E),c}function uu(s,o,u){const c=u?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const _=o[p];"number"==typeof _?h=_:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ut(s,_,!!u||o[++p]))}return void 0===s?null:s}function Lm(s,o,u,c,h,p,_,E){if(!(3&o.type))return;const C=s.data,S=C[E+1];rp(function U_(s){return 1==(1&s)}(S)?Ev(C,o,u,h,da(S),_):void 0)||(rp(p)||function tc(s){return 2==(2&s)}(S)&&(p=Ev(C,null,u,h,E,_)),function uE(s,o,u,c,h){if(o)h?s.addClass(u,c):s.removeClass(u,c);else{let p=-1===c.indexOf("-")?void 0:aa.DashCase;null==h?s.removeStyle(u,c,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=aa.Important),s.setStyle(u,c,h,p))}}(c,_,bi(Fn(),u),h,p))}function Ev(s,o,u,c,h,p){const _=null===o;let E;for(;h>0;){const C=s[h],S=Array.isArray(C),P=S?C[1]:C,L=null===P;let W=u[h+1];W===qt&&(W=L?At:void 0);let ee=L?Gl(W,c):P===c?W:void 0;if(S&&!rp(ee)&&(ee=Gl(C,c)),rp(ee)&&(E=ee,_))return E;const Ce=s[h+1];h=_?po(Ce):da(Ce)}if(null!==o){let C=p?o.residualClasses:o.residualStyles;null!=C&&(E=Gl(C,c))}return E}function rp(s){return void 0!==s}function Um(s,o){return 0!=(s.flags&(o?16:32))}function de(s,o=""){const u=Me(),c=Jt(),h=s+22,p=c.firstCreatePass?nc(c,h,1,o,null):c.data[h],_=u[h]=function E_(s,o){return s.createText(o)}(u[11],o);Df(c,u,_,p),Gr(p,!1)}function Jd(s){return Ui("",s,""),Jd}function Ui(s,o,u){const c=Me(),h=Gd(c,s,o,u);return h!==qt&&function Ns(s,o,u){const c=bi(o,s);!function Yw(s,o,u){s.setValue(o,u)}(s[11],c,u)}(c,Fn(),h),Ui}function hu(s,o,u){const c=Me();if(Sr(c,Ua(),o)){const p=Jt(),_=Ln();mi(p,_,c,s,o,function nl(s,o,u){return(null===s||ei(s))&&(u=function Qc(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(u[o.index])),u[11]}(Rl(p.data),_,c),u,!0)}return hu}const yi=void 0;var ll=["en",[["a","p"],["AM","PM"],yi],[["AM","PM"],yi,yi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yi,"{1} 'at' {0}",yi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function sp(s){const u=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===c?1:5}];let Ec={};function ap(s){const o=function Hm(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=sh(o);if(u)return u;const c=o.split("-")[0];if(u=sh(c),u)return u;if("en"===c)return ll;throw new Te(701,!1)}function jm(s){return ap(s)[St.PluralCase]}function sh(s){return s in Ec||(Ec[s]=Ot.ng&&Ot.ng.common&&Ot.ng.common.locales&&Ot.ng.common.locales[s]),Ec[s]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const oh="en-US";let Bn=oh;function Tc(s,o,u,c,h){if(s=J(s),Array.isArray(s))for(let p=0;p<s.length;p++)Tc(s[p],o,u,c,h);else{const p=Jt(),_=Me();let E=Os(s)?s:J(s.provide),C=Lg(s);const S=ir(),P=1048575&S.providerIndexes,L=S.directiveStart,W=S.providerIndexes>>20;if(Os(s)||!s.multi){const ee=new fi(C,h,nu),Ce=Ym(E,o,h?P:P+W,L);-1===Ce?(Qs(ss(S,_),p,E),Km(p,s,o.length),o.push(E),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),u.push(ee),_.push(ee)):(u[Ce]=ee,_[Ce]=ee)}else{const ee=Ym(E,o,P+W,L),Ce=Ym(E,o,P,P+W),He=ee>=0&&u[ee],Ze=Ce>=0&&u[Ce];if(h&&!Ze||!h&&!He){Qs(ss(S,_),p,E);const dt=function Qt(s,o,u,c,h){const p=new fi(s,u,nu);return p.multi=[],p.index=o,p.componentProviders=0,vo(p,h,c&&!u),p}(h?$D:yp,u.length,h,c,C);!h&&Ze&&(u[Ce].providerFactory=dt),Km(p,s,o.length,0),o.push(E),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),u.push(dt),_.push(dt)}else Km(p,s,ee>-1?ee:Ce,vo(u[h?Ce:ee],C,!h&&c));!h&&c&&Ze&&u[Ce].componentProviders++}}}function Km(s,o,u,c){const h=Os(o),p=function Mw(s){return!!s.useClass}(o);if(h||p){const C=(p?J(o.useClass):o).prototype.ngOnDestroy;if(C){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const P=S.indexOf(u);-1===P?S.push(u,[c,C]):S[P+1].push(c,C)}else S.push(u,C)}}}function vo(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function Ym(s,o,u,c){for(let h=u;h<c;h++)if(o[h]===s)return h;return-1}function yp(s,o,u,c){return Fv(this.multi,[])}function $D(s,o,u,c){const h=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,E=Oi(u,u[1],this.providerFactory.index,c);p=E.slice(0,_),Fv(h,p);for(let C=_;C<E.length;C++)p.push(E[C])}else p=[],Fv(h,p);return p}function Fv(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function Hb(s,o=[]){return u=>{u.providersResolver=(c,h)=>function jb(s,o,u){const c=Jt();if(c.firstCreatePass){const h=ei(s);Tc(u,c.data,c.blueprint,h,!0),Tc(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class gu{}class hh{}function _p(s,o){return new Uv(s,o??null)}class Uv extends gu{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new oc(this);const c=ot(o);this._bootstrapComponents=tu(c.bootstrap),this._r3Injector=R_(o,u,[{provide:gu,useValue:this},{provide:Ql,useValue:this.componentFactoryResolver}],pe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Qm extends hh{constructor(o){super(),this.moduleType=o}create(o){return new Uv(this.moduleType,o)}}class zb extends gu{constructor(o,u,c){super(),this.componentFactoryResolver=new oc(this),this.instance=null;const h=new n_([...o,{provide:gu,useValue:this},{provide:Ql,useValue:this.componentFactoryResolver}],u||Fg(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Vv(s,o,u=null){return new zb(s,o,u).injector}let Gb=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const c=Sw(0,u.type),h=c.length>0?Vv([c],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=on({token:s,providedIn:"environment",factory:()=>new s(Nn(oa))}),s})();function Bv(s){s.getStandaloneInjector=o=>o.get(Gb).getOrCreateStandaloneInjector(s)}function Qb(s,o,u){const c=sr()+s,h=Me();return h[c]===qt?ks(h,c,u?o.call(u):o()):function Hd(s,o){return s[o]}(h,c)}function Jb(s,o,u,c,h,p){return function nC(s,o,u,c,h,p,_,E){const C=o+u;return function Dm(s,o,u,c,h){const p=mo(s,o,u,c);return Sr(s,o+2,h)||p}(s,C,h,p,_)?ks(s,C+3,E?c.call(E,h,p,_):c(h,p,_)):Ep(s,C+3)}(Me(),sr(),s,o,u,c,h,p)}function Ep(s,o){const u=s[o];return u===qt?void 0:u}function qv(s,o){const u=Jt();let c;const h=s+22;u.firstCreatePass?(c=function Si(s,o){if(o)for(let u=o.length-1;u>=0;u--){const c=o[u];if(s===c.name)return c}}(o,u.pipeRegistry),u.data[h]=c,c.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,c.onDestroy)):c=u.data[h];const p=c.factory||(c.factory=Ir(c.type)),_=In(nu);try{const E=Ga(!1),C=p();return Ga(E),function ZE(s,o,u,c){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=c}(u,Me(),h,C),C}finally{In(_)}}function Zv(s,o,u){const c=s+22,h=Me(),p=xi(h,c);return bp(h,c)?function Dc(s,o,u,c,h,p){const _=o+u;return Sr(s,_,h)?ks(s,_+1,p?c.call(p,h):c(h)):Ep(s,_+1)}(h,sr(),o,p.transform,u,p):p.transform(u)}function wo(s,o,u,c){const h=s+22,p=Me(),_=xi(p,h);return bp(p,h)?function Sc(s,o,u,c,h,p,_){const E=o+u;return mo(s,E,h,p)?ks(s,E+2,_?c.call(_,h,p):c(h,p)):Ep(s,E+2)}(p,sr(),o,_.transform,u,c,_):_.transform(u,c)}function bp(s,o){return s[1].data[o].pure}function Wv(s){return o=>{setTimeout(s,void 0,o)}}const ma=class WD extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,c){let h=o,p=u||(()=>null),_=c;if(o&&"object"==typeof o){const C=o;h=C.next?.bind(C),p=C.error?.bind(C),_=C.complete?.bind(C)}this.__isAsync&&(p=Wv(p),h&&(h=Wv(h)),_&&(_=Wv(_)));const E=super.subscribe({next:h,error:p,complete:_});return o instanceof j.w0&&o.add(E),E}};function KD(){return this._results[su()]()}class Kv{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=su(),c=Kv.prototype;c[u]||(c[u]=KD)}get changes(){return this._changes||(this._changes=new ma)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const c=this;c.dirty=!1;const h=Tn(o);(this._changesDetected=!function yr(s,o,u){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],p=o[c];if(u&&(h=u(h),p=u(p)),p!==h)return!1}return!0}(c._results,h,u))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Cp=(()=>{class s{}return s.__NG_ELEMENT_ID__=JD,s})();const YD=Cp,QD=class extends YD{constructor(o,u,c){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(o,u){const c=this._declarationTContainer.tViews,h=Ld(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,u||null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(c)),Uf(c,h,o),new rl(h)}};function JD(){return ey(ir(),Me())}function ey(s,o){return 4&s.type?new QD(o,s,Ad(s,o)):null}let ty=(()=>{class s{}return s.__NG_ELEMENT_ID__=XD,s})();function XD(){return Jv(ir(),Me())}const eS=ty,aC=class extends eS{constructor(o,u,c){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=c}get element(){return Ad(this._hostTNode,this._hostLView)}get injector(){return new Wo(this._hostTNode,this._hostLView)}get parentInjector(){const o=qa(this._hostTNode,this._hostLView);if(Wh(o)){const u=bs(o,this._hostLView),c=or(o);return new Wo(u[1].data[c+8],u)}return new Wo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=Yv(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,c){let h,p;"number"==typeof c?h=c:null!=c&&(h=c.index,p=c.injector);const _=o.createEmbeddedView(u||{},p);return this.insert(_,h),_}createComponent(o,u,c,h,p){const _=o&&!function os(s){return"function"==typeof s}(o);let E;if(_)E=u;else{const L=u||{};E=L.index,c=L.injector,h=L.projectableNodes,p=L.environmentInjector||L.ngModuleRef}const C=_?o:new zf(O(o)),S=c||this.parentInjector;if(!p&&null==C.ngModule){const W=(_?S:this.parentInjector).get(oa,null);W&&(p=W)}const P=C.create(S,h,void 0,p);return this.insert(P.hostView,E),P}insert(o,u){const c=o._lView,h=c[1];if(function Ol(s){return li(s[3])}(c)){const P=this.indexOf(o);if(-1!==P)this.detach(P);else{const L=c[3],W=new aC(L,L[6],L[3]);W.detach(W.indexOf(o))}}const p=this._adjustIndex(u),_=this._lContainer;!function ST(s,o,u,c){const h=10+c,p=u.length;c>0&&(u[h-1][4]=o),c<p-10?(o[4]=u[h],eo(u,10+c,o)):(u.push(o),o[4]=null),o[3]=u;const _=o[17];null!==_&&u!==_&&function AT(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(_,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=64}(h,c,_,p);const E=oE(p,_),C=c[11],S=Xg(C,_[7]);return null!==S&&function Qw(s,o,u,c,h,p){c[0]=h,c[6]=o,Xl(s,c,u,1,h,p)}(h,_[6],C,c,S,E),o.attachToViewContainerRef(),eo(Qv(_),p,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=Yv(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),c=C_(this._lContainer,u);c&&(_r(Qv(this._lContainer),u),If(c[1],c))}detach(o){const u=this._adjustIndex(o,-1),c=C_(this._lContainer,u);return c&&null!=_r(Qv(this._lContainer),u)?new rl(c):null}_adjustIndex(o,u=0){return o??this.length+u}};function Yv(s){return s[8]}function Qv(s){return s[8]||(s[8]=[])}function Jv(s,o){let u;const c=o[s.index];if(li(c))u=c;else{let h;if(8&s.type)h=jn(c);else{const p=o[11];h=p.createComment("");const _=Tr(s,o);ua(p,Xg(p,_),h,function iE(s,o){return s.nextSibling(o)}(p,_),!1)}o[s.index]=u=nv(c,o,h,s),tl(o,u)}return new aC(u,s,o)}class Ar{constructor(o){this.queryList=o,this.matches=null}clone(){return new Ar(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ip{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const c=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let p=0;p<c;p++){const _=u.getByIndex(p);h.push(this.queries[_.indexInDeclarationView].clone())}return new Ip(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==r0(o,u).matches&&this.queries[u].setDirty()}}class ny{constructor(o,u,c=null){this.predicate=o,this.flags=u,this.read=c}}class Tp{constructor(o=[]){this.queries=o}elementStart(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let c=0;c<this.length;c++){const h=null!==u?u.length:0,p=this.getByIndex(c).embeddedTView(o,h);p&&(p.indexInDeclarationView=c,null!==u?u.push(p):u=[p])}return null!==u?new Tp(u):null}template(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class ya{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new ya(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const p=c[h];this.matchTNodeWithReadOption(o,u,cC(u,p)),this.matchTNodeWithReadOption(o,u,Wa(u,o,p,!1,!1))}else c===Cp?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Wa(u,o,c,!1,!1))}matchTNodeWithReadOption(o,u,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Jl||h===ty||h===Cp&&4&u.type)this.addMatch(u.index,-2);else{const p=Wa(u,o,h,!1,!1);null!==p&&this.addMatch(u.index,p)}else this.addMatch(u.index,c)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function cC(s,o){const u=s.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===o)return u[c+1];return null}function dC(s,o,u,c){return-1===u?function nS(s,o){return 11&s.type?Ad(s,o):4&s.type?ey(s,o):null}(o,s):-2===u?function ry(s,o,u){return u===Jl?Ad(o,s):u===Cp?ey(o,s):u===ty?Jv(o,s):void 0}(s,o,c):Oi(s,s[1],u,o)}function hl(s,o,u,c){const h=o[19].queries[c];if(null===h.matches){const p=s.data,_=u.matches,E=[];for(let C=0;C<_.length;C+=2){const S=_[C];E.push(S<0?null:dC(o,p[S],_[C+1],u.metadata.read))}h.matches=E}return h.matches}function yu(s,o,u,c){const h=s.queries.getByIndex(u),p=h.matches;if(null!==p){const _=hl(s,o,h,u);for(let E=0;E<p.length;E+=2){const C=p[E];if(C>0)c.push(_[E/2]);else{const S=p[E+1],P=o[-C];for(let L=10;L<P.length;L++){const W=P[L];W[17]===W[3]&&yu(W[1],W,S,c)}if(null!==P[9]){const L=P[9];for(let W=0;W<L.length;W++){const ee=L[W];yu(ee[1],ee,S,c)}}}}}return c}function fl(s){const o=Me(),u=Jt(),c=Va();Nl(c+1);const h=r0(u,c);if(s.dirty&&function Ml(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?yu(u,o,c,[]):hl(u,o,h,c);s.reset(p,kw),s.notifyOnChanges()}return!0}return!1}function gh(s,o,u){const c=Jt();c.firstCreatePass&&(n0(c,new ny(s,o,u),-1),2==(2&o)&&(c.staticViewQueries=!0)),t0(c,Me(),o)}function Xv(s,o,u,c){const h=Jt();if(h.firstCreatePass){const p=ir();n0(h,new ny(o,u,c),p.index),function rS(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}t0(h,Me(),u)}function iy(){return function e0(s,o){return s[19].queries[o].queryList}(Me(),Va())}function t0(s,o,u){const c=new Kv(4==(4&u));ic(s,o,c,c.destroy),null===o[19]&&(o[19]=new Ip),o[19].queries.push(new Ar(c))}function n0(s,o,u){null===s.queries&&(s.queries=new Tp),s.queries.track(new ya(o,u))}function r0(s,o){return s.queries.getByIndex(o)}function uy(...s){}const TC=new Mn("Application Initializer");let Pc=(()=>{class s{constructor(u){this.appInits=u,this.resolve=uy,this.reject=uy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Kd(p))u.push(p);else if(gv(p)){const _=new Promise((E,C)=>{p.subscribe({complete:E,error:C})});u.push(_)}}Promise.all(u).then(()=>{c()}).catch(h=>{this.reject(h)}),0===u.length&&c(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(Nn(TC,8))},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const DC=new Mn("AppId",{providedIn:"root",factory:function g0(){return`${Ap()}${Ap()}${Ap()}`}});function Ap(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vh=new Mn("Platform Initializer"),ly=new Mn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),cy=new Mn("appBootstrapListener"),xC=new Mn("AnimationModuleType");let gS=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const xp=new Mn("LocaleId",{providedIn:"root",factory:()=>ri(xp,et.Optional|et.SkipSelf)||function MC(){return typeof $localize<"u"&&$localize.locale||oh}()}),m0=new Mn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class OC{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let yS=(()=>{class s{compileModuleSync(u){return new Qm(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const c=this.compileModuleSync(u),p=tu(ot(u).declarations).reduce((_,E)=>{const C=O(E);return C&&_.push(new zf(C)),_},[]);return new OC(c,p)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const vS=(()=>Promise.resolve(0))();function Pp(s){typeof Zone>"u"?vS.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Hi{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ma(!1),this.onMicrotaskEmpty=new ma(!1),this.onStable=new ma(!1),this.onError=new ma(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&u,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function wS(){let s=Ot.requestAnimationFrame,o=Ot.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function hy(s){const o=()=>{!function v0(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ot,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Rc(s),s.isCheckStableRunning=!0,dy(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Rc(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,h,p,_,E)=>{try{return Rp(s),u.invokeTask(h,p,_,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),fy(s)}},onInvoke:(u,c,h,p,_,E,C)=>{try{return Rp(s),u.invoke(h,p,_,E,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),fy(s)}},onHasTask:(u,c,h,p)=>{u.hasTask(h,p),c===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Rc(s),dy(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(u,c,h,p)=>(u.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hi.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(Hi.isInAngularZone())throw new Te(909,!1)}run(o,u,c){return this._inner.run(o,u,c)}runTask(o,u,c,h){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+h,o,PC,uy,uy);try{return p.runTask(_,u,c)}finally{p.cancelTask(_)}}runGuarded(o,u,c){return this._inner.runGuarded(o,u,c)}runOutsideAngular(o){return this._outer.run(o)}}const PC={};function dy(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Rc(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Rp(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function fy(s){s._nesting--,dy(s)}class w0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ma,this.onMicrotaskEmpty=new ma,this.onStable=new ma,this.onError=new ma}run(o,u,c){return o.apply(u,c)}runGuarded(o,u,c){return o.apply(u,c)}runOutsideAngular(o){return o()}runTask(o,u,c,h){return o.apply(u,c)}}const py=new Mn(""),E0=new Mn("");let C0,ES=(()=>{class s{constructor(u,c,h){this._ngZone=u,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,C0||(function bS(s){C0=s}(h),h.addToWindow(c)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hi.assertNotInAngularZone(),Pp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pp(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,h){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:p,updateCb:h})}whenStable(u,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,c,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(Nn(Hi),Nn(b0),Nn(E0))},s.\u0275prov=on({token:s,factory:s.\u0275fac}),s})(),b0=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return C0?.findTestabilityInTree(this,u,c)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),gl=null;const I0=new Mn("AllowMultipleToken"),Eh=new Mn("PlatformDestroyListeners");class TS{constructor(o,u){this.name=o,this.token=u}}function RC(s,o,u=[]){const c=`Platform: ${o}`,h=new Mn(c);return(p=[])=>{let _=Fp();if(!_||_.injector.get(I0,!1)){const E=[...u,...p,{provide:h,useValue:!0}];s?s(E):function DS(s){if(gl&&!gl.get(I0,!1))throw new Te(400,!1);gl=s;const o=s.get(Lp);(function gy(s){const o=s.get(vh,null);o&&o.forEach(u=>u())})(s)}(function my(s=[],o){return ve.create({name:o,providers:[{provide:Rg,useValue:"platform"},{provide:Eh,useValue:new Set([()=>gl=null])},...s]})}(E,c))}return function Np(s){const o=Fp();if(!o)throw new Te(401,!1);return o}()}}function Fp(){return gl?.get(Lp)??null}let Lp=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const h=function yy(s,o){let u;return u="noop"===s?new w0:("zone.js"===s?void 0:s)||new Hi(o),u}(c?.ngZone,function bh(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),p=[{provide:Hi,useValue:h}];return h.run(()=>{const _=ve.create({providers:p,parent:this.injector,name:u.moduleType.name}),E=u.create(_),C=E.injector.get(Ef,null);if(!C)throw new Te(402,!1);return h.runOutsideAngular(()=>{const S=h.onError.subscribe({next:P=>{C.handleError(P)}});E.onDestroy(()=>{Us(this._modules,E),S.unsubscribe()})}),function D0(s,o,u){try{const c=u();return Kd(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(C,h,()=>{const S=E.injector.get(Pc);return S.runInitializers(),S.donePromise.then(()=>(function mb(s){Gt(s,"Expected localeId to be defined"),"string"==typeof s&&(Bn=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(xp,oh)||oh),this._moduleDoBootstrap(E),E))})})}bootstrapModule(u,c=[]){const h=_y({},c);return function T0(s,o,u){const c=new Qm(u);return Promise.resolve(c)}(0,0,u).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(u){const c=u.injector.get(Ch);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new Te(403,!1);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const u=this._injector.get(Eh,null);u&&(u.forEach(c=>c()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(Nn(ve))},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function _y(s,o){return Array.isArray(o)?o.reduce(_y,s):{...s,...o}}let Ch=(()=>{class s{constructor(u,c,h){this._zone=u,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new R.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),_=new R.y(E=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{Hi.assertNotInAngularZone(),Pp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{Hi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{C.unsubscribe(),S.unsubscribe()}});this.isStable=(0,se.T)(p,_.pipe((0,le.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,c){const h=u instanceof s_;if(!this._injector.get(Pc).done)throw!h&&Ne(u),new Te(405,false);let _;_=h?u:this._injector.get(Ql).resolveComponentFactory(u),this.componentTypes.push(_.componentType);const E=function IS(s){return s.isBoundToModule}(_)?void 0:this._injector.get(gu),S=_.create(ve.NULL,[],c||_.selector,E),P=S.location.nativeElement,L=S.injector.get(py,null);return L?.registerApplication(P),S.onDestroy(()=>{this.detachView(S.hostView),Us(this.components,S),L?.unregisterApplication(P)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;Us(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(cy,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Us(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Te(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(Nn(Hi),Nn(oa),Nn(Ef))},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Us(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}let vy=!0,NC=!1;function A0(){return NC=!0,vy}function xS(){if(NC)throw new Error("Cannot enable prod mode after platform setup.");vy=!1}let FC=(()=>{class s{}return s.__NG_ELEMENT_ID__=Ih,s})();function Ih(s){return function M0(s,o,u){if(Dl(s)&&!u){const c=cn(s.index,o);return new rl(c,c)}return 47&s.type?new rl(o[16],o):null}(ir(),Me(),16==(16&s))}class kc{constructor(){}supports(o){return Zf(o)}create(o){return new kS(o)}}const NS=(s,o)=>o;class kS{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||NS}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,c=this._removalsHead,h=0,p=null;for(;u||c;){const _=!c||u&&u.currentIndex<Dy(c,h,p)?u:c,E=Dy(_,h,p),C=_.currentIndex;if(_===c)h--,c=c._nextRemoved;else if(u=u._next,null==_.previousIndex)h++;else{p||(p=[]);const S=E-h,P=C-h;if(S!=P){for(let W=0;W<S;W++){const ee=W<p.length?p[W]:p[W]=0,Ce=ee+W;P<=Ce&&Ce<S&&(p[W]=ee+1)}p[_.previousIndex]=P-S}}E!==C&&o(_,E,C)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Zf(o))throw new Te(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,_,u=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)p=o[E],_=this._trackByFn(E,p),null!==u&&Object.is(u.trackById,_)?(c&&(u=this._verifyReinsertion(u,p,_,E)),Object.is(u.item,p)||this._addIdentityChange(u,p)):(u=this._mismatch(u,p,_,E),c=!0),u=u._next}else h=0,function Im(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[su()]();let c;for(;!(c=u.next()).done;)o(c.value)}}(o,E=>{_=this._trackByFn(h,E),null!==u&&Object.is(u.trackById,_)?(c&&(u=this._verifyReinsertion(u,E,_,h)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,_,h),c=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,c,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,p,h)):o=this._addAfter(new N0(u,c),p,h),o}_verifyReinsertion(o,u,c,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,u,c),this._addToMoves(o,c),o}_moveAfter(o,u,c){return this._unlink(o),this._insertAfter(o,u,c),this._addToMoves(o,c),o}_addAfter(o,u,c){return this._insertAfter(o,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,c){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new Ty),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,c=o._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ty),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class N0{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class k0{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const u=o._prevDup,c=o._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class Ty{constructor(){this.map=new Map}put(o){const u=o.trackById;let c=this.map.get(u);c||(c=new k0,this.map.set(u,c)),c.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Dy(s,o,u){const c=s.previousIndex;if(null===c)return c;let h=0;return u&&c<u.length&&(h=u[c]),c+o+h}class UC{constructor(){}supports(o){return o instanceof Map||lc(o)}create(){return new FS}}class FS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||lc(o)))throw new Te(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const p=this._getOrCreateRecordForKey(h,c);u=this._insertBeforeOrAppend(u,p)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const c=o._prev;return u._next=o,u._prev=c,o._prev=u,c&&(c._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const p=h._prev,_=h._next;return p&&(p._next=_),_&&(_._prev=p),h._next=null,h._prev=null,h}const c=new F0(o);return this._records.set(o,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(c=>u(o[c],c))}}class F0{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Sy(){return new L0([new kc])}let L0=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(null!=c){const h=c.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||Sy()),deps:[[s,new gt,new be]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(null!=c)return c;throw new Te(901,!1)}}return s.\u0275prov=on({token:s,providedIn:"root",factory:Sy}),s})();function VC(){return new Ay([new UC])}let Ay=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(c){const h=c.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||VC()),deps:[[s,new gt,new be]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(c)return c;throw new Te(901,!1)}}return s.\u0275prov=on({token:s,providedIn:"root",factory:VC}),s})();const VS=RC(null,"core",[]);let BS=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(Nn(Ch))},s.\u0275mod=nn({type:s}),s.\u0275inj=jt({}),s})();function $S(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(ht,xe,k)=>{k.d(xe,{Z:()=>Te});var l=k(2090),j=k(4859),R=k(9681),se=k(1877);class le{constructor(Ee,me){this._delegate=Ee,this.firebase=me,(0,R._addComponent)(Ee,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=Ee.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this._delegate.automaticDataCollectionEnabled=Ee}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ee=>{this._delegate.checkDestroyed(),Ee()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(Ee,me=R._DEFAULT_ENTRY_NAME){var tt;this._delegate.checkDestroyed();const Xe=this._delegate.container.getProvider(Ee);return!Xe.isInitialized()&&"EXPLICIT"===(null===(tt=Xe.getComponent())||void 0===tt?void 0:tt.instantiationMode)&&Xe.initialize(),Xe.getImmediate({identifier:me})}_removeServiceInstance(Ee,me=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ee).clearInstance(me)}_addComponent(Ee){(0,R._addComponent)(this._delegate,Ee)}_addOrOverwriteComponent(Ee){(0,R._addOrOverwriteComponent)(this._delegate,Ee)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Z=function _e(){const it=function pe(it){const Ee={},me={__esModule:!0,initializeApp:function ke(re,he={}){const we=R.initializeApp(re,he);if((0,l.r3)(Ee,we.name))return Ee[we.name];const Q=new it(we,me);return Ee[we.name]=Q,Q},app:Xe,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function Ie(re){const he=re.name,we=he.replace("-compat","");if(R._registerComponent(re)&&"PUBLIC"===re.type){const Q=(X=Xe())=>{if("function"!=typeof X[we])throw fe.create("invalid-app-argument",{appName:he});return X[we]()};void 0!==re.serviceProps&&(0,l.ZB)(Q,re.serviceProps),me[we]=Q,it.prototype[we]=function(...X){return this._getService.bind(this,he).apply(this,re.multipleInstances?X:[])}}return"PUBLIC"===re.type?me[we]:null},removeApp:function tt(re){delete Ee[re]},useAsService:function Ge(re,he){return"serverAuth"===he?null:he},modularAPIs:R}};function Xe(re){if(!(0,l.r3)(Ee,re=re||R._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:re});return Ee[re]}return me.default=me,Object.defineProperty(me,"apps",{get:function Oe(){return Object.keys(Ee).map(re=>Ee[re])}}),Xe.App=it,me}(le);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function Ee(me){(0,l.ZB)(it,me)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),it}(),G=new se.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Te=Z;!function Re(it){(0,R.registerVersion)("@firebase/app-compat","0.1.37",it)}()},9681:(ht,xe,k)=>{k.r(xe),k.d(xe,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Ki,_DEFAULT_ENTRY_NAME:()=>Gt,_addComponent:()=>sn,_addOrOverwriteComponent:()=>on,_apps:()=>mn,_clearComponents:()=>Ai,_components:()=>Dn,_getProvider:()=>jt,_registerComponent:()=>Yt,_removeServiceInstance:()=>Mr,deleteApp:()=>Yi,getApp:()=>Kn,getApps:()=>wi,initializeApp:()=>Hr,onLog:()=>Yn,registerVersion:()=>tr,setLogLevel:()=>In});var l=k(5861),j=k(4859),R=k(1877),se=k(2090),le=k(8766);class ye{constructor(De){this.container=De}getPlatformInfoString(){return this.container.getProviders().map(rt=>{if(function fe(nt){return"VERSION"===nt.getComponent()?.type}(rt)){const bt=rt.getImmediate();return`${bt.library}/${bt.version}`}return null}).filter(rt=>rt).join(" ")}}const pe="@firebase/app",Z=new R.Yd("@firebase/app"),Gt="[DEFAULT]",qe={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mn=new Map,Dn=new Map;function sn(nt,De){try{nt.container.addComponent(De)}catch(rt){Z.debug(`Component ${De.name} failed to register with FirebaseApp ${nt.name}`,rt)}}function on(nt,De){nt.container.addOrOverwriteComponent(De)}function Yt(nt){const De=nt.name;if(Dn.has(De))return Z.debug(`There were multiple attempts to register component ${De}.`),!1;Dn.set(De,nt);for(const rt of mn.values())sn(rt,nt);return!0}function jt(nt,De){const rt=nt.container.getProvider("heartbeat").getImmediate({optional:!0});return rt&&rt.triggerHeartbeat(),nt.container.getProvider(De)}function Mr(nt,De,rt=Gt){jt(nt,De).clearInstance(rt)}function Ai(){Dn.clear()}const $n=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wi{constructor(De,rt,bt){this._isDeleted=!1,this._options=Object.assign({},De),this._config=Object.assign({},rt),this._name=rt.name,this._automaticDataCollectionEnabled=rt.automaticDataCollectionEnabled,this._container=bt,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this.checkDestroyed(),this._automaticDataCollectionEnabled=De}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(De){this._isDeleted=De}checkDestroyed(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}}const Ki="9.12.1";function Hr(nt,De={}){let rt=nt;"object"!=typeof De&&(De={name:De});const bt=Object.assign({name:Gt,automaticDataCollectionEnabled:!1},De),It=bt.name;if("string"!=typeof It||!It)throw $n.create("bad-app-name",{appName:String(It)});if(rt||(rt=(0,se.aH)()),!rt)throw $n.create("no-options");const nn=mn.get(It);if(nn){if((0,se.vZ)(rt,nn.options)&&(0,se.vZ)(bt,nn.config))return nn;throw $n.create("duplicate-app",{appName:It})}const q=new j.H0(It);for(const K of Dn.values())q.addComponent(K);const H=new Wi(rt,bt,q);return mn.set(It,H),H}function Kn(nt=Gt){const De=mn.get(nt);if(!De&&nt===Gt)return Hr();if(!De)throw $n.create("no-app",{appName:nt});return De}function wi(){return Array.from(mn.values())}function Yi(nt){return et.apply(this,arguments)}function et(){return(et=(0,l.Z)(function*(nt){const De=nt.name;mn.has(De)&&(mn.delete(De),yield Promise.all(nt.container.getProviders().map(rt=>rt.delete())),nt.isDeleted=!0)})).apply(this,arguments)}function tr(nt,De,rt){var bt;let It=null!==(bt=qe[nt])&&void 0!==bt?bt:nt;rt&&(It+=`-${rt}`);const nn=It.match(/\s|\//),q=De.match(/\s|\//);if(nn||q){const H=[`Unable to register library "${It}" with version "${De}":`];return nn&&H.push(`library name "${It}" contains illegal characters (whitespace or "/")`),nn&&q&&H.push("and"),q&&H.push(`version name "${De}" contains illegal characters (whitespace or "/")`),void Z.warn(H.join(" "))}Yt(new j.wA(`${It}-version`,()=>({library:It,version:De}),"VERSION"))}function Yn(nt,De){if(null!==nt&&"function"!=typeof nt)throw $n.create("invalid-log-argument");(0,R.Am)(nt,De)}function In(nt){(0,R.Ub)(nt)}const Sn="firebase-heartbeat-store";let An=null;function bn(){return An||(An=(0,le.X3)("firebase-heartbeat-database",1,{upgrade:(nt,De)=>{0===De&&nt.createObjectStore(Sn)}}).catch(nt=>{throw $n.create("idb-open",{originalErrorMessage:nt.message})})),An}function pt(){return(pt=(0,l.Z)(function*(nt){var De;try{return(yield bn()).transaction(Sn).objectStore(Sn).get(nr(nt))}catch(rt){if(rt instanceof se.ZR)Z.warn(rt.message);else{const bt=$n.create("idb-get",{originalErrorMessage:null===(De=rt)||void 0===De?void 0:De.message});Z.warn(bt.message)}}})).apply(this,arguments)}function Ot(nt,De){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,l.Z)(function*(nt,De){var rt;try{const It=(yield bn()).transaction(Sn,"readwrite");return yield It.objectStore(Sn).put(De,nr(nt)),It.done}catch(bt){if(bt instanceof se.ZR)Z.warn(bt.message);else{const It=$n.create("idb-set",{originalErrorMessage:null===(rt=bt)||void 0===rt?void 0:rt.message});Z.warn(It.message)}}})).apply(this,arguments)}function nr(nt){return`${nt.name}!${nt.options.appId}`}class zr{constructor(De){this.container=De,this._heartbeatsCache=null;const rt=this.container.getProvider("app").getImmediate();this._storage=new en(rt),this._heartbeatsCachePromise=this._storage.read().then(bt=>(this._heartbeatsCache=bt,bt))}triggerHeartbeat(){var De=this;return(0,l.Z)(function*(){const bt=De.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),It=Vt();if(null===De._heartbeatsCache&&(De._heartbeatsCache=yield De._heartbeatsCachePromise),De._heartbeatsCache.lastSentHeartbeatDate!==It&&!De._heartbeatsCache.heartbeats.some(nn=>nn.date===It))return De._heartbeatsCache.heartbeats.push({date:It,agent:bt}),De._heartbeatsCache.heartbeats=De._heartbeatsCache.heartbeats.filter(nn=>{const q=new Date(nn.date).valueOf();return Date.now()-q<=2592e6}),De._storage.overwrite(De._heartbeatsCache)})()}getHeartbeatsHeader(){var De=this;return(0,l.Z)(function*(){if(null===De._heartbeatsCache&&(yield De._heartbeatsCachePromise),null===De._heartbeatsCache||0===De._heartbeatsCache.heartbeats.length)return"";const rt=Vt(),{heartbeatsToSend:bt,unsentEntries:It}=function ai(nt,De=1024){const rt=[];let bt=nt.slice();for(const It of nt){const nn=rt.find(q=>q.agent===It.agent);if(nn){if(nn.dates.push(It.date),cr(rt)>De){nn.dates.pop();break}}else if(rt.push({agent:It.agent,dates:[It.date]}),cr(rt)>De){rt.pop();break}bt=bt.slice(1)}return{heartbeatsToSend:rt,unsentEntries:bt}}(De._heartbeatsCache.heartbeats),nn=(0,se.L)(JSON.stringify({version:2,heartbeats:bt}));return De._heartbeatsCache.lastSentHeartbeatDate=rt,It.length>0?(De._heartbeatsCache.heartbeats=It,yield De._storage.overwrite(De._heartbeatsCache)):(De._heartbeatsCache.heartbeats=[],De._storage.overwrite(De._heartbeatsCache)),nn})()}}function Vt(){return(new Date).toISOString().substring(0,10)}class en{constructor(De){this.app=De,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var De=this;return(0,l.Z)(function*(){return(yield De._canUseIndexedDBPromise)&&(yield function ft(nt){return pt.apply(this,arguments)}(De.app))||{heartbeats:[]}})()}overwrite(De){var rt=this;return(0,l.Z)(function*(){var bt;if(yield rt._canUseIndexedDBPromise){const nn=yield rt.read();return Ot(rt.app,{lastSentHeartbeatDate:null!==(bt=De.lastSentHeartbeatDate)&&void 0!==bt?bt:nn.lastSentHeartbeatDate,heartbeats:De.heartbeats})}})()}add(De){var rt=this;return(0,l.Z)(function*(){var bt;if(yield rt._canUseIndexedDBPromise){const nn=yield rt.read();return Ot(rt.app,{lastSentHeartbeatDate:null!==(bt=De.lastSentHeartbeatDate)&&void 0!==bt?bt:nn.lastSentHeartbeatDate,heartbeats:[...nn.heartbeats,...De.heartbeats]})}})()}}function cr(nt){return(0,se.L)(JSON.stringify({version:2,heartbeats:nt})).length}!function On(nt){Yt(new j.wA("platform-logger",De=>new ye(De),"PRIVATE")),Yt(new j.wA("heartbeat",De=>new zr(De),"PRIVATE")),tr(pe,"0.8.2",nt),tr(pe,"0.8.2","esm2017"),tr("fire-js","")}("")},4859:(ht,xe,k)=>{k.d(xe,{H0:()=>pe,wA:()=>R});var l=k(5861),j=k(2090);class R{constructor(Z,G,J){this.name=Z,this.instanceFactory=G,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const se="[DEFAULT]";class le{constructor(Z,G){this.name=Z,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const G=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(G)){const J=new j.BH;if(this.instancesDeferred.set(G,J),this.isInitialized(G)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:G});je&&J.resolve(je)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(Z){var G;const J=this.normalizeInstanceIdentifier(Z?.identifier),je=null!==(G=Z?.optional)&&void 0!==G&&G;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Re){if(je)return null;throw Re}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function fe(_e){return"EAGER"===_e.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[G,J]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(G);try{const Re=this.getOrInitializeService({instanceIdentifier:je});J.resolve(Re)}catch{}}}}clearInstance(Z=se){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,l.Z)(function*(){const G=Array.from(Z.instances.values());yield Promise.all([...G.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...G.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=se){return this.instances.has(Z)}getOptions(Z=se){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:G={}}=Z,J=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:J,options:G});for(const[Re,Te]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Re)&&Te.resolve(je);return je}onInit(Z,G){var J;const je=this.normalizeInstanceIdentifier(G),Re=null!==(J=this.onInitCallbacks.get(je))&&void 0!==J?J:new Set;Re.add(Z),this.onInitCallbacks.set(je,Re);const Te=this.instances.get(je);return Te&&Z(Te,je),()=>{Re.delete(Z)}}invokeOnInitCallbacks(Z,G){const J=this.onInitCallbacks.get(G);if(J)for(const je of J)try{je(Z,G)}catch{}}getOrInitializeService({instanceIdentifier:Z,options:G={}}){let J=this.instances.get(Z);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=Z,_e===se?void 0:_e),options:G}),this.instances.set(Z,J),this.instancesOptions.set(Z,G),this.invokeOnInitCallbacks(J,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,J)}catch{}var _e;return J||null}normalizeInstanceIdentifier(Z=se){return this.component?this.component.multipleInstances?Z:se:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const G=this.getProvider(Z.name);if(G.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);G.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const G=new le(Z,this);return this.providers.set(Z,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(ht,xe,k)=>{k.d(xe,{Am:()=>_e,Ub:()=>pe,Yd:()=>fe,in:()=>j});const l=[];var j=(()=>{return(Z=j||(j={}))[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",j;var Z})();const R={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},se=j.INFO,le={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},ye=(Z,G,...J)=>{if(G<Z.logLevel)return;const je=(new Date).toISOString(),Re=le[G];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Re](`[${je}]  ${Z.name}:`,...J)};class fe{constructor(G){this.name=G,this._logLevel=se,this._logHandler=ye,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in j))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?R[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...G),this._logHandler(this,j.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...G),this._logHandler(this,j.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,j.INFO,...G),this._logHandler(this,j.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,j.WARN,...G),this._logHandler(this,j.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...G),this._logHandler(this,j.ERROR,...G)}}function pe(Z){l.forEach(G=>{G.setLogLevel(Z)})}function _e(Z,G){for(const J of l){let je=null;G&&G.level&&(je=R[G.level]),J.userLogHandler=null===Z?null:(Re,Te,...it)=>{const Ee=it.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch{return null}}).filter(me=>me).join(" ");Te>=(je??Re.logLevel)&&Z({level:j[Te].toLowerCase(),message:Ee,args:it,type:Re.name})}}}},8766:(ht,xe,k)=>{k.d(xe,{Lj:()=>ke,X3:()=>Xe});var l=k(5861);let R,se;const fe=new WeakMap,pe=new WeakMap,_e=new WeakMap,Z=new WeakMap,G=new WeakMap;let Re={get(he,we,Q){if(he instanceof IDBTransaction){if("done"===we)return pe.get(he);if("objectStoreNames"===we)return he.objectStoreNames||_e.get(he);if("store"===we)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return me(he[we])},set:(he,we,Q)=>(he[we]=Q,!0),has:(he,we)=>he instanceof IDBTransaction&&("done"===we||"store"===we)||we in he};function Ee(he){return"function"==typeof he?function it(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...we){return he.apply(tt(this),we),me(fe.get(this))}:function(...we){return me(he.apply(tt(this),we))}:function(we,...Q){const X=he.call(tt(this),we,...Q);return _e.set(X,we.sort?we.sort():[we]),me(X)}}(he):(he instanceof IDBTransaction&&function je(he){if(pe.has(he))return;const we=new Promise((Q,X)=>{const ge=()=>{he.removeEventListener("complete",oe),he.removeEventListener("error",Ue),he.removeEventListener("abort",Ue)},oe=()=>{Q(),ge()},Ue=()=>{X(he.error||new DOMException("AbortError","AbortError")),ge()};he.addEventListener("complete",oe),he.addEventListener("error",Ue),he.addEventListener("abort",Ue)});pe.set(he,we)}(he),((he,we)=>we.some(Q=>he instanceof Q))(he,function le(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,Re):he)}function me(he){if(he instanceof IDBRequest)return function J(he){const we=new Promise((Q,X)=>{const ge=()=>{he.removeEventListener("success",oe),he.removeEventListener("error",Ue)},oe=()=>{Q(me(he.result)),ge()},Ue=()=>{X(he.error),ge()};he.addEventListener("success",oe),he.addEventListener("error",Ue)});return we.then(Q=>{Q instanceof IDBCursor&&fe.set(Q,he)}).catch(()=>{}),G.set(we,he),we}(he);if(Z.has(he))return Z.get(he);const we=Ee(he);return we!==he&&(Z.set(he,we),G.set(we,he)),we}const tt=he=>G.get(he);function Xe(he,we,{blocked:Q,upgrade:X,blocking:ge,terminated:oe}={}){const Ue=indexedDB.open(he,we),Ve=me(Ue);return X&&Ue.addEventListener("upgradeneeded",_t=>{X(me(Ue.result),_t.oldVersion,_t.newVersion,me(Ue.transaction))}),Q&&Ue.addEventListener("blocked",()=>Q()),Ve.then(_t=>{oe&&_t.addEventListener("close",()=>oe()),ge&&_t.addEventListener("versionchange",()=>ge())}).catch(()=>{}),Ve}function ke(he,{blocked:we}={}){const Q=indexedDB.deleteDatabase(he);return we&&Q.addEventListener("blocked",()=>we()),me(Q).then(()=>{})}const Oe=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],Ge=new Map;function re(he,we){if(!(he instanceof IDBDatabase)||we in he||"string"!=typeof we)return;if(Ge.get(we))return Ge.get(we);const Q=we.replace(/FromIndex$/,""),X=we!==Q,ge=Ie.includes(Q);if(!(Q in(X?IDBIndex:IDBObjectStore).prototype)||!ge&&!Oe.includes(Q))return;const oe=function(){var Ue=(0,l.Z)(function*(Ve,..._t){const ln=this.transaction(Ve,ge?"readwrite":"readonly");let Gt=ln.store;return X&&(Gt=Gt.index(_t.shift())),(yield Promise.all([Gt[Q](..._t),ge&&ln.done]))[0]});return function(_t){return Ue.apply(this,arguments)}}();return Ge.set(we,oe),oe}!function Te(he){Re=he(Re)}(he=>({...he,get:(we,Q,X)=>re(we,Q)||he.get(we,Q,X),has:(we,Q)=>!!re(we,Q)||he.has(we,Q)}))},5861:(ht,xe,k)=>{function l(R,se,le,ye,fe,pe,_e){try{var Z=R[pe](_e),G=Z.value}catch(J){return void le(J)}Z.done?se(G):Promise.resolve(G).then(ye,fe)}function j(R){return function(){var se=this,le=arguments;return new Promise(function(ye,fe){var pe=R.apply(se,le);function _e(G){l(pe,ye,fe,_e,Z,"next",G)}function Z(G){l(pe,ye,fe,_e,Z,"throw",G)}_e(void 0)})}}k.d(xe,{Z:()=>j})}},ht=>{ht(ht.s=8259)}]);